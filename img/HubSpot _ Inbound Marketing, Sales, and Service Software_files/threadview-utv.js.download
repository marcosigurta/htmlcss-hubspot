(window.webpackJsonp=window.webpackJsonp||[]).push([["threadview-utv"],Array(1093).concat([function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.iconFontsLoaded=t.iconFontsLoadedPromise=t.fontsLoaded=t.fontsLoadedPromise=t.createMeasureEl=t.forceSkipFontMeasurement=void 0;var r=a(898),n=a(915),i=!1,o=!1,s=!1,l=function(){i=!0};t.forceSkipFontMeasurement=l;var u=function(e,t,a){var r=document.createElement("div");r.setAttribute("aria-hidden","true");r.textContent=e;r.style.position="absolute";r.style.top="-999px";r.style.fontFamily=t;r.style.fontWeight=a;document.body.appendChild(r);return r};t.createMeasureEl=u;var d=function(e,t){for(var a=0;a<e.length;a++){if(e[a].offsetWidth!==t[a].offsetWidth){document.body.removeChild(e[a]);document.body.removeChild(t[a]);e.splice(a,1);t.splice(a,1)}}},c=new Promise(function(e){(0,n.domReady)(function(){if(i)e();else{var t="BESbswy",a='"'+r.WEB_FONT_REGULAR+'", '+r.FALLBACK_FONT_STACK,n=[],s=[];[r.WEB_FONT_REGULAR_WEIGHT,r.WEB_FONT_MEDIUM_WEIGHT,r.WEB_FONT_DEMI_BOLD_WEIGHT,r.WEB_FONT_BOLD_WEIGHT].forEach(function(e){n.push(u(t,a,e));s.push(u(t,r.FALLBACK_FONT_STACK,e))});(function t(){d(n,s);if(0===n.length){o=!0;e()}else setTimeout(t,50)})()}})});t.fontsLoadedPromise=c;var f=function(){return o};t.fontsLoaded=f;var p=new Promise(function(e){(0,n.domReady)(function(){if(i)e();else{var t="add",a='"'+r.ICON_FONT_FAMILY+'", '+r.FALLBACK_FONT_STACK,n=[],o=[];["normal","bold"].forEach(function(e){n.push(u(t,a,e));o.push(u(t,r.FALLBACK_FONT_STACK,e))});(function t(){d(n,o);if(0===n.length){s=!0;e()}else setTimeout(t,50)})()}})});t.iconFontsLoadedPromise=p;var m=function(){return s};t.iconFontsLoaded=m},,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.consentToProcess=b;t.consentToProcessFailed=t.consentToProcessSucceeded=t.clickedConsentToProcess=void 0;var r=a(261),n=a(756),i=a(706),o=a(421),s=a(1117),l=a(1118),u=a(759),d=a(754),c=a(1119),f=a(1120),p=a(273),m=a(191),v=a(800),h=(0,r.createAction)(i.CONSENT_TO_PROCESS);t.clickedConsentToProcess=h;var g=(0,r.createAction)(i.CONSENT_TO_PROCESS_SUCCEEDED);t.consentToProcessSucceeded=g;var y=(0,r.createAction)(i.CONSENT_TO_PROCESS_FAILED);t.consentToProcessFailed=y;function b(){return function(e,t){var a=(0,o.getSessionId)(t()),r=(0,s.getMessageId)(t()),i=(0,f.getHubspotUtk)(t()),b=(0,m.getLatestWidgetData)(t()),_=(0,v.isUngatedForExitIntentGDPR)(t());e(h());(0,l.sendConsentToProcess)({sessionId:a,hubspotUtk:i,welcomeMessageId:r,widgetData:b,isUngatedForExitIntentGDPRCookieBanner:_}).then(function(a){var r=a.sessionId;(0,d.gdprCookieConsentOnExitIntentEnabled)(b)&&_||e((0,u.handleStoreMessagesCookie)((0,n.getMessagesUtk)(t())));e((0,c.updateSessionId)(r));e(g());e((0,p.trackInteraction)("widget-interaction",{action:"clicked consent to process button"}))},function(t){return e(y({error:t}))}).done()}}},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getMessageId=void 0;var n=a(189),i=r(a(145)),o=a(190),s=(0,n.createSelector)(o.getWelcomeMessage,(0,i.default)("id"));t.getMessageId=s},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.sendConsentToProcess=s;var n=r(a(52)),i=r(a(434)),o="livechat-public/v1/privacy/consentToProcess";function s(e){var t=e.sessionId,a=e.hubspotUtk,r=e.welcomeMessageId;return i.default.put(o,{query:{sessionId:t,hubspotUtk:a,welcomeMessageId:r,portalId:n.default.get()}})}},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.updateSessionId=void 0;var r=a(261),n=a(646),i=(0,r.createAction)(n.UPDATE_SESSION_ID,function(e){return{sessionId:e}});t.updateSessionId=i},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getHubspotUtk=void 0;var r=a(189),n=a(1121),i=a(758),o=(0,r.createSelector)(i.getVisitorIdentity,function(e){return(0,n.getHubspotUtk)(e)});t.getHubspotUtk=o},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getHubspotUtk=void 0;var n=(0,r(a(145)).default)("hubspotUtk");t.getHubspotUtk=n},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getMessageId=void 0;var r=a(189),n=a(191),i=(0,r.createSelector)([n.getLatestWidgetData],function(e){return e.message.id});t.getMessageId=i},,,,,,,,function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(56));function i(){var e,t;return{promise:new n.default.Promise(function(a,r){t=a;e=r}),reject:e,resolve:t}}var o=i;t.default=o;e.exports=t.default},,,,,function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(117)),i=r(a(7)),o=r(a(966)),s=r(a(6)),l=r(a(287)),u=(0,o.default)({displayName:"FormattedSize",propTypes:{value:i.default.number.isRequired},render:function(){var e=this.props,t=e.value,a=(0,n.default)(e,["value"]);return s.default.createElement("span",null,l.default.formatSize(t,a))}});t.default=u;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=R;var i=n(a(117)),o=a(899),s=a(898),l=n(a(7)),u=n(a(6)),d=n(a(158)),c=r(a(862)),f=n(a(941)),p=n(a(1137)),m=n(a(957)),v=n(a(1138)),h=n(a(1140)),g=n(a(1141)),y=n(a(1031)),b=r(a(1142)),_=a(891),E=a(894),T={fontSize:"12px",sm:{iconFont:"16px",previewWidth:"16px"},lg:{iconFont:"32px",previewWidth:"32px"}},C=c.default.div.withConfig({displayName:"UIFileAttachment__StyledAttachment_Children",componentId:"dfkinh-0"})(["margin:0;bottom:0;left:0;position:absolute;right:0;top:0;"]),S=(0,c.default)(v.default).withConfig({displayName:"UIFileAttachment__StyledAttachment_Media",componentId:"dfkinh-1"})(["position:relative;max-width:100%;line-height:",";"],function(e){return"sm"===e.size&&T.fontSize}),M=(0,c.default)(g.default).withConfig({displayName:"UIFileAttachment__StyledAttachment_Preview",componentId:"dfkinh-2"})(["align-items:center;display:flex;flex-basis:auto;flex-shrink:0;",";"],function(e){var t=e.size;return(0,c.css)([""," max-height:",";width:",";> *{max-height:",";max-width:",";}"],(0,E.setFontSize)(T[t].iconFont),T[t].previewWidth,T[t].previewWidth,T[t].previewWidth,T[t].previewWidth)});M.displayName="StyledAttachment_Preview";var I=(0,c.default)(h.default).withConfig({displayName:"UIFileAttachment__StyledAttachment_Info",componentId:"dfkinh-3"})(["display:flex;flex-direction:column;justify-content:center;line-height:1rem;width:100%;&&{flex-basis:auto;margin-left:",";}",";"],function(e){return"sm"===e.size&&"8px"},function(e){var t=e.size;return"sm"===t?(0,c.css)(["align-items:center;flex-direction:row;white-space:nowrap;"]):"lg"===t?(0,c.css)(["min-height:2rem;"]):null}),A=(0,c.default)(function(e){var t=e.className,a=e.fileInfo,r=e.size;return a?u.default.createElement(p.default,{className:t,use:"help"},"sm"===r&&"(",a,"sm"===r&&")"):null}).withConfig({displayName:"UIFileAttachment__FileInfo",componentId:"dfkinh-4"})(["&&{font-weight:",";line-height:inherit;margin-left:",";}"],s.WEB_FONT_REGULAR_WEIGHT,function(e){return"sm"===e.size&&"1ch"}),P=(0,c.default)(function(e){e.attachmentSize;var t=(0,i.default)(e,["attachmentSize"]);return u.default.createElement(f.default,t)}).withConfig({displayName:"UIFileAttachment__StyledAttachment_Close",componentId:"dfkinh-5"})(["flex-shrink:0;color:",";right:10px;top:10px;vertical-align:text-top;",";"],o.EERIE,function(e){return"sm"===e.attachmentSize&&(0,c.css)(["align-self:center;margin-left:auto;margin-right:0;position:static;&::after{left:auto;margin-left:12px;}"])});P.displayName="StyledAttachment_Close";var x=c.default.div.withConfig({displayName:"UIFileAttachment__StyledAttachment",componentId:"dfkinh-6"})(["display:",";padding:",";",";",";background-color:",";border:1px solid ",";color:",";font-weight:",";max-width:100%;position:relative;padding-right:",";"],function(e){return"sm"===e.size?"flex":"inline-flex"},function(e){return"sm"===e.size?"8px 12px":"12px"},(0,E.setBorderRadius)(),(0,E.setFontSize)(T.fontSize),function(e){return"on-dark"===e.use?o.OLAF:o.GYPSUM},o.KOALA,function(e){return e.processing?o.EERIE:o.HEFFALUMP},s.WEB_FONT_DEMI_BOLD_WEIGHT,function(e){return"lg"===e.size&&"32px"}),O=function(e){var t=e.fileType;return u.default.createElement(m.default,{className:"align-self-end",name:"application/pdf"===t?"pdfFile":"file"})};O.propTypes={fileType:l.default.string};function R(e){var t=e.closeable,a=e.use,r=e.size,n=e.children,o=e.renderPreview,s=e.fileName,l=e.fileInfo,c=(e.fileType,e.onCloseClick),f=e.processing,p=(0,i.default)(e,["closeable","use","size","children","renderPreview","fileName","fileInfo","fileType","onCloseClick","processing"]),m=(0,_.toShorthandSize)(r),v=b.render(o,e,{mergeType:"none"}),h=u.default.createElement(A,{size:m,fileInfo:l});"processing"===a&&d.default.warn({message:'UIFileAttachment: `use="processing"` is deprecated. Set `processing={true}` instead.',key:"UIFileAttachment: processing",url:"https://git.hubteam.com/HubSpot/UIComponents/issues/7991#issuecomment-1176756"});return u.default.createElement(x,Object.assign({},p,{processing:f||"processing"===a,size:m,use:a}),n&&u.default.createElement(C,{size:m},n),u.default.createElement(S,{size:m},u.default.createElement(M,{size:m},v),u.default.createElement(I,{size:m},"sm"===m?u.default.createElement(y.default,{useFlex:!0,fixedChildren:h},s):u.default.createElement(y.default,{useFlex:!0},s),"sm"!==m&&h)),t&&u.default.createElement(P,{className:"private-attachment__close",onClick:c,size:"sm",attachmentSize:m}))}R.propTypes={children:l.default.node,closeable:l.default.bool.isRequired,onCloseClick:l.default.func,processing:l.default.bool.isRequired,use:l.default.oneOf(["default","on-dark"]),size:l.default.oneOfType([(0,_.propTypeForSizes)(["sm","lg"]),l.default.oneOf(["auto"])]).isRequired,fileName:l.default.node.isRequired,fileInfo:l.default.node,fileType:l.default.string,renderPreview:b.propType};R.defaultProps={closeable:!1,processing:!1,use:"default",size:"lg",renderPreview:O};R.displayName="UIFileAttachment";e.exports=t.default},,function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=u;var n=r(a(117)),i=r(a(7)),o=r(a(6)),s=r(a(864)),l=a(1139);function u(e){var t=e.align,a=e.className,r=e.spacing,i=(0,n.default)(e,["align","className","spacing"]);return o.default.createElement("div",Object.assign({},i,{className:(0,s.default)("media private-media",l.MEDIA_ALIGNMENT_TYPES[t],l.MEDIA_SPACING[r],a)}))}u.displayName="UIMedia";u.propTypes={align:i.default.oneOf(Object.keys(l.MEDIA_ALIGNMENT_TYPES)),children:i.default.node.isRequired,spacing:i.default.oneOf(Object.keys(l.MEDIA_SPACING)).isRequired};u.defaultProps={spacing:"small"};e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.MEDIA_SPACING=t.MEDIA_ALIGNMENT_TYPES=void 0;var r={start:"private-media--align-start",baseline:"private-media--align-baseline",center:"private-media--align-middle",end:"private-media--align-bottom",stretch:"private-media--align-stretch"};t.MEDIA_ALIGNMENT_TYPES=r;var n={none:"private-media--collapsed","extra-small":"private-media--spaced-xs",small:"",medium:"private-media--spaced-md",large:"private-media--spaced-lg","extra-large":"private-media--spaced-xl"};t.MEDIA_SPACING=n},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=l;var n=r(a(117)),i=r(a(7)),o=r(a(6)),s=r(a(864));function l(e){var t=e.className,a=(0,n.default)(e,["className"]);return o.default.createElement("div",Object.assign({},a,{className:(0,s.default)("media-body private-media__body",t)}))}l.displayName="UIMediaBody";l.propTypes={children:i.default.node};e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=l;var n=r(a(117)),i=r(a(7)),o=r(a(6)),s=r(a(864));function l(e){var t=e.className,a=(0,n.default)(e,["className"]);return o.default.createElement("div",Object.assign({},a,{className:(0,s.default)("private-media__item private-media__item--left",t)}))}l.displayName="UIMediaLeft";l.propTypes={children:i.default.node};e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.propType=t.render=void 0;var i=n(a(7)),o=r(a(6)),s=a(8),l=(n(a(37)),{passive:function(e,t){return Object.assign({},t,{},e)},aggressive:function(e,t){return t},none:function(){return{}}}),u={mergeType:"passive"},d=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object.assign({},u,{},a).mergeType;0;return o.default.isValidElement(e)?(0,o.cloneElement)(e,l[r](e.props,t)):(0,s.isValidElementType)(e)?o.default.createElement(e,t):e};t.render=d;var c=i.default.oneOfType([i.default.elementType,i.default.node]);t.propType=c},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=m;var n=a(899),i=a(897),o=r(a(7)),s=r(a(6)),l=r(a(862)),u=a(895),d=r(a(886)),c=function(e,t,a){return"string"==typeof e?e:!0===e?"0 0 "+t+"px "+(0,u.rgba)(a,.5):void 0},f=(0,l.default)(d.default.PlainWrapper).withConfig({displayName:"UINanoProgress__NanoProgressTransitionWrapper",componentId:"sc-171cdr0-0"})(["transition:opacity 200ms ease;opacity:",";"],function(e){return e.closing?0:1}),p=l.default.div.withConfig({displayName:"UINanoProgress__Bar",componentId:"sc-171cdr0-1"})(["left:0;position:absolute;top:0;width:100%;z-index:",";"],i.MERCURY_LAYER);function m(e){var t=e.animateOnComplete,a=e.boxShadow,r=e.className,n=e.color,i=e.height,o=e.value;return o>=0&&s.default.createElement(d.default,{duration:200,Wrapper:f,className:r},t&&o>=100?null:s.default.createElement(p,{"aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":o,role:"progressbar",style:{width:o+"%",background:n,boxShadow:c(a,3*i,n),height:i,transition:"all 200ms ease"}}))}m.propTypes={animateOnComplete:o.default.bool,boxShadow:o.default.oneOfType([o.default.string,o.default.bool]),color:o.default.string,height:o.default.number,value:o.default.number};m.defaultProps={animateOnComplete:!1,boxShadow:!0,color:n.SORBET,height:2,value:0};m.displayName="UINanoProgress";e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(4)),i=r(a(75)),o=r(a(77)),s=r(a(78)),l=a(60),u=a(1145),d=function(e){(0,s.default)(t,e);function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,n.default)(this,t);return(0,i.default)(this,(0,o.default)(t).call(this,Object.assign({},e,{localId:(0,u.generateIdForFile)({file:e.file,timestamp:Date.now()})})))}return t}((0,l.Record)({file:null,localId:"",fileId:-1,uploadProgress:0}));t.default=d;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.generateIdForFile=void 0;var r=function(e){var t=e.file,a=e.timestamp;return t.name+"-"+a};t.generateIdForFile=r},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.isUploadCompleted=void 0;var r=a(698),n=function(e){return-1!==(0,r.getFileId)(e)};t.isUploadCompleted=n},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getFileName=void 0;var n=r(a(145)),i=a(698),o=function(e){var t=(0,i.getFile)(e);return(0,n.default)("name",t)||""};t.getFileName=o},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getFileSize=void 0;var n=r(a(145)),i=a(698),o=function(e){var t=(0,i.getFile)(e);return(0,n.default)("size",t)||0};t.getFileSize=o},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(4)),i=r(a(5)),o=r(a(75)),s=r(a(77)),l=r(a(78)),u=r(a(7)),d=r(a(6)),c=r(a(287)),f=r(a(1005)),p=r(a(1135)),m=r(a(1136)),v=r(a(1143)),h=a(1150),g=a(698),y=a(1151),b=a(1147),_=a(1148),E=a(1146),T=r(a(1152)),C=r(a(881)),S=function(e){(0,l.default)(t,e);function t(){(0,n.default)(this,t);return(0,o.default)(this,(0,s.default)(t).apply(this,arguments))}(0,i.default)(t,[{key:"customFilePreview",value:function(){var e=this.props.attachment,t=(0,g.getFile)(e);if((0,h.fileIsImage)(t))return d.default.createElement(T.default,{imageFile:t})}},{key:"fileInfo",value:function(){return(0,E.isUploadCompleted)(this.props.attachment)?d.default.createElement(p.default,{value:(0,_.getFileSize)(this.props.attachment)}):d.default.createElement(f.default,{message:"conversations-visitor-ui.stagedAttachment.uploadProgress",options:{uploadedBytes:c.default.formatSize((0,y.uploadedBytes)(this.props.attachment),{precision:2,strip_insignificant_zeroes:!0}),totalBytes:c.default.formatSize((0,_.getFileSize)(this.props.attachment))}})}},{key:"renderProgress",value:function(){return(0,E.isUploadCompleted)(this.props.attachment)?null:d.default.createElement(v.default,{boxShadow:!1,value:(0,g.getUploadProgress)(this.props.attachment)})}},{key:"render",value:function(){return d.default.createElement(m.default,{closeable:!0,onCloseClick:this.props.onRemove,processing:!(0,E.isUploadCompleted)(this.props.attachment),fileName:(0,b.getFileName)(this.props.attachment),fileInfo:this.fileInfo(),renderPreview:this.customFilePreview(),style:{minWidth:220}},this.renderProgress())}}]);return t}(d.default.Component);S.displayName="FileUpload";S.propTypes={attachment:(0,C.default)("FileUploadRecord").isRequired,onRemove:u.default.func.isRequired};var M=S;t.default=M;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.fileIsImage=void 0;var r=["PNG","GIF","JPEG","JPG"],n=function(e){var t=e.name.split("."),a=t[t.length-1]||"";return-1!==r.indexOf(a.toUpperCase())};t.fileIsImage=n},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.uploadedBytes=void 0;var r=a(698),n=function(e){var t=(0,r.getFile)(e),a=(0,r.getUploadProgress)(e);return t&&a?a/100*t.size:0};t.uploadedBytes=n},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(4)),i=r(a(5)),o=r(a(75)),s=r(a(77)),l=r(a(78)),u=r(a(7)),d=r(a(6)),c=r(a(905)),f=function(e){(0,l.default)(t,e);function t(e){var a;(0,n.default)(this,t);(a=(0,o.default)(this,(0,s.default)(t).call(this,e))).state={imageDataUrl:""};return a}(0,i.default)(t,[{key:"componentDidMount",value:function(){this.processImageFile(this.props.imageFile)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.imageFile!==this.props.imageFile&&this.processImageFile(e.imageFile)}},{key:"shouldComponentUpdate",value:function(e,t){return t.imageDataUrl!==this.state.imageDataUrl}},{key:"processImageFile",value:function(e){var t=this,a=new FileReader;a.addEventListener("load",function(){t.setState({imageDataUrl:a.result})});a.readAsDataURL(e)}},{key:"render",value:function(){return d.default.createElement(c.default,{src:this.state.imageDataUrl})}}]);return t}(d.default.Component);f.displayName="ImageAttachmentPreview";f.propTypes={imageFile:u.default.instanceOf(File).isRequired};var p=f;t.default=p;e.exports=t.default},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.sendVisitorEmailAddress=i;var n=r(a(434));function i(e){var t=e.threadId,a=e.email,r=e.sessionId,i=e.hubspotUtk;return n.default.post("livechat-public/v1/visitor/public",{query:{threadId:t,email:a,sessionId:r,hubspotUtk:i}})}},,function(e,t,a){"use strict";"use es6";var r=a(3),n=a(14);Object.defineProperty(t,"__esModule",{value:!0});t.sendVisitorEmailAddress=y;t.sendVisitorEmailAddressSucceeded=t.sendVisitorEmailAddressFailed=t.sendVisitorEmailAddressRequested=void 0;var i=a(261),o=a(421),s=n(a(136)),l=r(a(1183)),u=n(a(1180)),d=a(1184),c=a(273),f=a(297),p=a(1120),m=a(319),v=(0,i.createAction)(s.SEND_VISITOR_EMAIL_ADDRESS,function(e){return{email:e}});t.sendVisitorEmailAddressRequested=v;var h=(0,i.createAction)(s.SEND_VISITOR_EMAIL_ADDRESS_FAILED,function(e){return{error:e}});t.sendVisitorEmailAddressFailed=h;var g=(0,i.createAction)(s.SEND_VISITOR_EMAIL_ADDRESS_SUCCEEDED,function(e){return{email:e}});t.sendVisitorEmailAddressSucceeded=g;function y(e){var t=e.consentToCommunicate,a=void 0!==t&&t,r=e.email,n=e.threadId;return function(e,t){e(v(r));var i=(0,f.getThreadByThreadId)(t(),{threadId:n}),s=(0,m.getChannelName)(i),y=(0,o.getSessionId)(t()),b=(0,p.getHubspotUtk)(t()),_=function(){e(g(r));e((0,l.default)({channel:s,email:r,threadId:n}));a&&e((0,d.visitorConsentsToCommunicate)(a));e((0,c.trackInteraction)("widget-interaction",{action:"submit email"}));return{error:null}},E=function(t){e(h(t));return{error:t}};return u.sendVisitorEmailAddress({threadId:n,email:r,sessionId:y,hubspotUtk:b}).then(_,E)}}},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.publishEmailCaptureResponseMessage=t.default=void 0;var n=a(173),i=a(205),o=r(a(224)),s=a(257),l=a(258),u=function(e){var t=e.channel,a=e.email,r=e.threadId;return function(e){var u=(0,i.buildUnpublishedMessage)({descriptor:{},metadata:new o.default({email:a}),senderId:s.SYSTEM_ID,senderType:n.SYSTEM,threadId:r});e((0,l.publishMessageToConversation)({channel:t,message:u,threadId:r}))}};t.publishEmailCaptureResponseMessage=t.default=u},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.visitorConsentsToCommunicate=p;t.consentToCommunicateFailed=t.consentToCommunicateSucceeded=t.clickedConsentToCommunicate=void 0;var r=a(261),n=a(706),i=a(1185),o=a(1119),s=a(421),l=a(470),u=a(1120),d=(0,r.createAction)(n.CONSENT_TO_COMMUNICATE);t.clickedConsentToCommunicate=d;var c=(0,r.createAction)(n.CONSENT_TO_COMMUNICATE_SUCCEEDED);t.consentToCommunicateSucceeded=c;var f=(0,r.createAction)(n.CONSENT_TO_COMMUNICATE_FAILED,function(e){return{error:e}});t.consentToCommunicateFailed=f;function p(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?function(e,t){var a=(0,s.getSessionId)(t()),r=(0,l.getSelectedThreadId)(t()),n=(0,u.getHubspotUtk)(t());e(d());var p=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).sessionId;e((0,o.updateSessionId)(t));e(c())},m=function(t){e(f(t))};(0,i.sendConsentToCommunicate)({sessionId:a,hubspotUtk:n,threadId:r}).then(p,m).done()}:null}},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.sendConsentToCommunicate=s;var n=r(a(52)),i=r(a(434)),o="livechat-public/v1/privacy/consentToCommunicate";function s(e){var t=e.sessionId,a=e.hubspotUtk,r=e.threadId;return i.default.put(o,{query:{sessionId:t,hubspotUtk:a,threadId:r,portalId:n.default.get()}})}},,,,,,,,,,,,,,,function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.attachmentError=void 0;var r=a(261),n=a(447),i=(0,r.createAction)(n.ATTACHMENT_ERROR,function(e,t){return{error:e,threadId:t}});t.attachmentError=i},,function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.attachmentUploadComplete=void 0;var r=a(261),n=a(447),i=(0,r.createAction)(n.ATTACHMENT_UPLOAD_COMPLETE);t.attachmentUploadComplete=i},,function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.attachmentUploadProgress=void 0;var r=a(261),n=a(447),i=(0,r.createAction)(n.ATTACHMENT_UPLOAD_PROGRESS);t.attachmentUploadProgress=i},,function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.attachmentUploadStart=void 0;var r=a(261),n=a(447),i=(0,r.createAction)(n.ATTACHMENT_UPLOAD_START);t.attachmentUploadStart=i},,function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.clearAttachments=void 0;var r=a(261),n=a(447),i=(0,r.createAction)(n.CLEAR_ATTACHMENTS,function(e){return{threadId:e}});t.clearAttachments=i},,function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.dismissAttachmentsError=void 0;var r=a(261),n=a(447),i=(0,r.createAction)(n.DISMISS_ATTACHMENTS_ERROR);t.dismissAttachmentsError=i},,function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.handleAttachmentUploadProgress=void 0;var r=a(1213),n=a(1204),i=function(e){var t=e.localId,a=e.threadId,i=e.loaded,o=e.total;return function(e){var s=i/o*r.MAX_UPLOAD_PROGRESS_PERCENTAGE;e((0,n.attachmentUploadProgress)({localId:t,threadId:a,progress:s}))}};t.handleAttachmentUploadProgress=i},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.MAX_UPLOAD_PROGRESS_PERCENTAGE=t.MAX_FILE_SIZE=t.FILE_MANAGER_API_PREFIX=void 0;var r="filemanager/api";t.FILE_MANAGER_API_PREFIX=r;var n=10485760;t.MAX_FILE_SIZE=n;var i=95;t.MAX_UPLOAD_PROGRESS_PERCENTAGE=i},,function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.removeAttachment=void 0;var r=a(261),n=a(447),i=(0,r.createAction)(n.REMOVE_ATTACHMENT);t.removeAttachment=i},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.removeAttachmentFromThread=void 0;var r=a(698),n=a(273),i=a(319),o=a(1215),s=function(e){var t=e.attachment,a=e.thread;return function(e){var s=(0,i.getThreadId)(a),l=(0,r.getLocalId)(t);e((0,o.removeAttachment)({localId:l,threadId:s}));e((0,n.trackInteraction)("remove-staged-attachment",{action:"remove staged attachment"}))}};t.removeAttachmentFromThread=s},,,function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.uploadAttachment=void 0;var n=r(a(34)),i=a(698),o=a(273),s=a(421),l=a(1220),u=a(1221),d=a(1222),c=a(1206),f=a(1202),p=a(1223),m=a(1212),v=a(1200),h=a(430),g=a(1213),y=a(1224),b=function(e){var t=e.attachment,a=e.threadId;return function(e,r){var b=Date.now();e((0,c.attachmentUploadStart)({attachment:t,threadId:a}));var _=(0,s.getSessionId)(r()),E=(0,i.getLocalId)(t),T=(0,i.getFile)(t),C=(0,d.createFormDataForAttachment)({file:T});return(0,l.fetchAttachmentUploadUrlClient)({sessionId:_}).then(function(t){var r=t.uploadUrl;return(0,u.uploadAttachmentClient)({formData:C,onProgress:function(t){var r=t.loaded,n=t.total;e((0,m.handleAttachmentUploadProgress)({localId:E,threadId:a,loaded:r,total:n}))},uploadUrl:g.FILE_MANAGER_API_PREFIX+"/"+r})}).then(function(t){var r=(0,n.default)(t.objects,1)[0],i=Date.now();e((0,f.attachmentUploadComplete)({localId:E,threadId:a,fileId:r.id}));(0,y.isPersistedThreadIdentifier)(a)&&e((0,h.associateFileIdsWithThread)({fileIds:[r.id],sessionId:_,threadId:a}));e((0,o.trackInteraction)("attached-file",{action:"attached file","attachment-type":r.extension,"attachment-size-bytes":T.size,"upload-time-ms":i-b}))}).catch(function(){e((0,v.attachmentError)(p.UPLOAD_ERROR,a));e((0,o.trackInteraction)("failed-to-attach-file",{action:"failed to attach file","failure-type":"upload error"}))})}};t.uploadAttachment=b},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.fetchAttachmentUploadUrlClient=void 0;var n=r(a(434)),i="livechat-public/v1/attachment/upload-url",o=function(e){var t=e.sessionId;return n.default.get(i,{query:{sessionId:t}})};t.fetchAttachmentUploadUrlClient=o},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.uploadAttachmentClient=void 0;var n=r(a(435)),i=function(e){var t=e.formData,a=e.uploadUrl,r=e.onProgress,i=void 0===r?function(){}:r;return n.default.post(a,{headers:{"content-type":!1},data:t,timeout:0,withXhr:function(e){e.upload.addEventListener("progress",i,!1)}})};t.uploadAttachmentClient=i},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.createFormDataForAttachment=void 0;var r=function(e){var t=e.file,a=new FormData;a.append("file",t);return a};t.createFormDataForAttachment=r},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.UPLOAD_ERROR=t.BLACKLISTED_EXTENSION=t.SIZE_LIMIT_EXCEEDED=void 0;var r="SIZE_LIMIT_EXCEEDED";t.SIZE_LIMIT_EXCEEDED=r;var n="BLACKLISTED_EXTENSION";t.BLACKLISTED_EXTENSION=n;var i="UPLOAD_ERROR";t.UPLOAD_ERROR=i},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.isPersistedThreadIdentifier=void 0;var r=a(259),n=function(e){return e!==r.STUBBED_THREAD_ID};t.isPersistedThreadIdentifier=n},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.validateAttachmentFile=void 0;var n=a(1223),i=a(1226),o=a(1227),s=r(a(1130)),l=function(e){var t=(0,s.default)();(0,i.fileExceedsSizeLimit)(e)&&t.reject(n.SIZE_LIMIT_EXCEEDED);(0,o.fileExtensionIsBlacklisted)(e)?t.reject(n.BLACKLISTED_EXTENSION):t.resolve();return t.promise};t.validateAttachmentFile=l},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.fileExceedsSizeLimit=void 0;var r=a(1213),n=function(e){return e.size>r.MAX_FILE_SIZE};t.fileExceedsSizeLimit=n},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.fileExtensionIsBlacklisted=void 0;var r=a(1228),n=function(e){var t=e.name.split("."),a=(t[t.length-1]||"").toLowerCase();return r.blacklistedExtensions.some(function(e){return a===e})};t.fileExtensionIsBlacklisted=n},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.blacklistedExtensions=void 0;var r=["ade","adp","apk","bat","bin","cab","cgi","chm","cmd","com","cpl","dhtml","dll","dmg","exe","gadget","hta","htm","html","ins","iso","isp","jar","jhtml","js","jse","lib","lnk","mde","mhtml","msc","msi","msp","mst","nsh","phtml","pif","pl","py","rhtml","scr","sct","shb","shtml","svg","sys","tar","toast","vb","vbe","vbs","vcd","vxd","wsc","wsf","wsh","xhtml","zhtml","zip"];t.blacklistedExtensions=r},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.selectAttachmentFile=void 0;var n=r(a(1144)),i=a(273),o=a(1230),s=a(1200),l=a(319),u=a(1225),d=a(1219),c=function(e){var t=e.file,a=e.thread;return function(e){var r=(0,l.getThreadId)(a);return(0,u.validateAttachmentFile)(t).then(function(){var a=new n.default({file:t,progress:0});return e((0,d.uploadAttachment)({attachment:a,threadId:r}))}).catch(function(t){e((0,s.attachmentError)(t,r));e((0,i.trackInteraction)("failed-to-attach-file",{action:"failed to attach file","failure-type":(0,o.validationErrorToTrackingFailureType)(t)}))})}};t.selectAttachmentFile=c},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.validationErrorToTrackingFailureType=void 0;var r=a(1223),n=function(e){switch(e){case r.SIZE_LIMIT_EXCEEDED:return"size limit exceeded";case r.BLACKLISTED_EXTENSION:return"blacklisted extension";default:return null}};t.validationErrorToTrackingFailureType=n},,,function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.buildFileAttachment=void 0;var n=a(698),i=a(1146),o=r(a(354)),s=function(e){if(!e)return null;var t=e.filter(i.isUploadCompleted).map(n.getFileId);return t.size?(0,o.default)({fileIds:t}):null};t.buildFileAttachment=s},,,,,,function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.attachmentsErrorForThreadInProps=void 0;var n=a(189),i=r(a(145)),o=a(1240),s=a(319),l=a(323),u=(0,n.createSelector)([o.getFileUploadsErrors,l.threadFromProps],function(e,t){var a=(0,s.getThreadId)(t);return(0,i.default)(a,e)||null});t.attachmentsErrorForThreadInProps=u},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getFileUploadsErrors=void 0;var n=(0,r(a(145)).default)("fileUploadsErrors");t.getFileUploadsErrors=n},,function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getFileUploadListForCurrentThreadId=void 0;var n=a(60),i=a(189),o=r(a(145)),s=a(1243),l=a(1244),u=(0,i.createSelector)([l.getFileUploads,s.getCurrentThreadId],function(e,t){var a=(0,o.default)(t,e);return a?a.toList():(0,n.List)()});t.getFileUploadListForCurrentThreadId=u},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getCurrentThreadId=void 0;var r=a(319),n=a(189),i=a(469),o=(0,n.createSelector)([i.getSelectedThread],r.getThreadId);t.getCurrentThreadId=o},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getFileUploads=void 0;var n=(0,r(a(145)).default)("fileUploads");t.getFileUploads=n},,,,,,,,,function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.consentToCookies=o;var r=a(756),n=a(759),i=a(273);function o(){return function(e,t){e((0,n.handleStoreMessagesCookie)((0,r.getMessagesUtk)(t())));e((0,i.trackInteraction)("widget-interaction",{action:"clicked consent to cookies button"}))}}},,,,,,function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.gdprExplicitConsentRequired=void 0;var n=r(a(161)),i=a(278),o=a(196),s=(0,n.default)(i.getMessage,o.getGdprExplicitConsentRequired);t.gdprExplicitConsentRequired=s},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getHasGivenConsentToProcess=void 0;var n=r(a(145)),i=a(189),o=(0,n.default)("gdpr"),s=(0,i.createSelector)([o],(0,n.default)("hasVisitorGivenConsentToProcess"));t.getHasGivenConsentToProcess=s},,function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.shouldRecordImplicitConsentToProcess=void 0;var r=a(189),n=a(752),i=a(1259),o=a(191),s=a(1260),l=(0,r.createSelector)([o.getLatestWidgetData,s.getHasGivenConsentToProcess],function(e,t){return(0,n.gdprConsentToProcessEnabled)(e)&&!(0,i.gdprExplicitConsentRequired)(e)&&!t});t.shouldRecordImplicitConsentToProcess=l},,,,,,,,,,function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.inputStagingEvent=void 0;var r=a(509),n=a(511),i=function(e){return function(t){t((0,r.postExternalApiEvent)({eventType:n.INPUT_STAGING,payload:{visitorMessageData:e}}))}};t.inputStagingEvent=i},,function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.DEFAULT_MAX_MESSAGE_LENGTH=void 0;var r=1024;t.DEFAULT_MAX_MESSAGE_LENGTH=r},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(76)),d=n(a(78)),c=n(a(239)),f=a(698),p=a(1146),m=n(a(881)),v=a(1274),h=n(a(287)),g=a(60),y=n(a(7)),b=r(a(6)),_=n(a(10)),E=n(a(862)),T=a(1276),C=a(167),S=n(a(1277)),M=n(a(1149)),I=n(a(1278)),A=a(1306),P=n(a(1307)),x=a(1052),O=a(1325),R=n(a(957)),k=a(1308),N=n(a(1309)),L=E.default.span.withConfig({displayName:"MessageEditor__IconStyles",componentId:"sc-8t1ye7-0"})(["font-size:",";"],function(e){return e.isMobile?k.mobileIconFontSize:void 0}),w=E.default.div.withConfig({displayName:"MessageEditor__FileUploadWrapper",componentId:"sc-8t1ye7-1"})(["display:flex;overflow:auto;& > *:not(:last-child){margin-right:8px;}"]),F=function(e){(0,d.default)(t,e);function t(e){var a;(0,i.default)(this,t);(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).state={messageText:e.stagedMessageEditorText||""};a.handleChange=a.handleChange.bind((0,u.default)(a));a.handlePublish=a.handlePublish.bind((0,u.default)(a));a.handleKeyDown=a.handleKeyDown.bind((0,u.default)(a));a.setEditorRef=a.setEditorRef.bind((0,u.default)(a));a.focusEditor=a.focusEditor.bind((0,u.default)(a));a.renderTextInput=a.renderTextInput.bind((0,u.default)(a));a.renderFileUploads=a.renderFileUploads.bind((0,u.default)(a));a.handleSelectAttachmentFiles=a.handleSelectAttachmentFiles.bind((0,u.default)(a));a.editorRef=null;a.onInputFocus=a.onInputFocus.bind((0,u.default)(a));a.onInputBlur=a.onInputBlur.bind((0,u.default)(a));return a}(0,o.default)(t,[{key:"componentDidMount",value:function(){this.focusEditor()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){!e.disabled&&this.props.disabled&&this.focusEditor()}},{key:"focusEditor",value:function(){var e=this.editorRef;e&&setTimeout(function(){e.focus()})}},{key:"getMessageText",value:function(){return this.state.messageText}},{key:"messageTextIsWithinLimit",value:function(){return this.getMessageText().length<v.DEFAULT_MAX_MESSAGE_LENGTH}},{key:"hasAttachments",value:function(){return this.props.stagedAttachments&&this.props.stagedAttachments.size}},{key:"attachmentsAreValid",value:function(){return!this.props.stagedAttachments||this.props.stagedAttachments.every(p.isUploadCompleted)}},{key:"canUploadAttachment",value:function(){return!this.props.hasUnansweredQuickReplyMessage&&(!(!this.props.supportsMultipleAttachments&&this.props.stagedAttachments)||!this.props.stagedAttachments.size)}},{key:"messageContentsAreValid",value:function(){var e=this.getMessageText()&&""!==this.getMessageText().trim();return this.messageTextIsWithinLimit()&&this.attachmentsAreValid()&&(e||this.hasAttachments())}},{key:"canPublish",value:function(){var e=this.props,t=e.disabled,a=e.networkOffline,r=e.disablePublish;return this.messageContentsAreValid()&&!a&&!t&&!r}},{key:"handleChange",value:function(e){var t=this.props.chatInputChanged,a=e.target.value;this.setState({messageText:a});""!==a&&t(a)}},{key:"handleKeyDown",value:function(e){if(e.keyCode===T.ENTER&&!1===e.shiftKey){this.handlePublish();e.preventDefault();e.stopPropagation();return!1}return!0}},{key:"handlePublish",value:function(){if(this.canPublish()){var e=this.getMessageText();this.props.publishMessage({text:e,richText:"<div>"+c.default.link((0,C.escape)(e),{stripPrefix:!1})+"</div>"});this.setState({messageText:""});var t=this.props,a=t.mobile,r=t.isOnFocus;if(a&&(0,A.isIOSDevice)()&&!r)return;this.focusEditor()}}},{key:"getValidationMessage",value:function(){return this.messageTextIsWithinLimit()?"":h.default.text("conversations-visitor-ui.chatTextArea.validationMessage")}},{key:"setEditorRef",value:function(e){var t=_.default.findDOMNode(e);this.editorRef=t}},{key:"handleSelectAttachmentFiles",value:function(e){var t=e.files;this.props.onSelectAttachmentFiles({files:t});this.focusEditor()}},{key:"onInputFocus",value:function(){var e=this.props,t=e.toggleOnAndOffInputFocus;e.mobile&&(0,A.isIOSDevice)()&&t(!0)}},{key:"onInputBlur",value:function(){var e=this.props,t=e.toggleOnAndOffInputFocus;e.mobile&&(0,A.isIOSDevice)()&&t(!1)}},{key:"renderTextInput",value:function(){return b.default.createElement(I.default,{disabled:this.props.disabled||this.props.networkOffline,error:!this.messageTextIsWithinLimit(),messageText:this.state.messageText,onChange:this.handleChange,onKeyDown:this.handleKeyDown,showQuickReplyPlaceholder:this.props.showQuickReplyPlaceholder,setEditorRef:this.setEditorRef,showingHsBranding:this.props.showingHsBranding,validationMessage:this.getValidationMessage(),onInputFocus:this.onInputFocus,onInputBlur:this.onInputBlur})}},{key:"renderFileUploads",value:function(){var e=this;return this.props.stagedAttachments&&this.props.stagedAttachments.size?b.default.createElement(w,{className:"m-bottom-2"+(this.props.showingHsBranding?" m-top-2":"")},this.props.stagedAttachments.map(function(t){return b.default.createElement(M.default,{key:(0,f.getLocalId)(t),attachment:t,onRemove:function(){e.props.onRemoveAttachment({attachment:t})}})})):null}},{key:"render",value:function(){var e=(0,x.getUseDefaultColor)(this.props.coloring)?null:(0,x.getAccentColor)(this.props.coloring),t=!this.canPublish();return b.default.createElement(S.default,{inputToRender:this.renderTextInput,fileUploads:this.renderFileUploads,showingHsBranding:this.props.showingHsBranding},b.default.createElement(b.default.Fragment,null,this.props.supportsAttachments&&!this.props.shouldDisableAttachment?b.default.createElement("div",{className:this.props.mobile?"m-right-3":""},b.default.createElement(P.default,{accept:this.props.fileTypes,allowMultiple:this.props.supportsMultipleAttachments,color:e,disabled:!this.canUploadAttachment(),mobile:this.props.mobile,onClick:this.props.onAttachmentButtonClick,onSelectFiles:this.handleSelectAttachmentFiles,maxAttachmentFileSize:this.props.maxAttachmentFileSize})):null,b.default.createElement(N.default,{className:"chat-send-button","data-test-id":"chat-send-button",disabled:t,shape:"circle",onClick:this.handlePublish,use:"transparent-on-background","aria-label":h.default.text("conversations-visitor-ui.visitorExperienceAriaLabels.send")},b.default.createElement(L,{isMobile:this.props.mobile},b.default.createElement(R.default,{name:"send",className:"m-right-0"})))))}}]);return t}(b.Component);F.propTypes={chatInputChanged:y.default.func.isRequired,coloring:(0,m.default)("ColoringRecord"),disablePublish:y.default.bool.isRequired,disabled:y.default.bool.isRequired,fileTypes:y.default.arrayOf(y.default.string).isRequired,hasUnansweredQuickReplyMessage:y.default.bool.isRequired,isOnFocus:y.default.bool,maxAttachmentFileSize:y.default.number.isRequired,mobile:y.default.bool,networkOffline:y.default.bool.isRequired,onAttachmentButtonClick:y.default.func,onRemoveAttachment:y.default.func.isRequired,onSelectAttachmentFiles:y.default.func.isRequired,publishMessage:y.default.func.isRequired,shouldDisableAttachment:y.default.bool,showQuickReplyPlaceholder:y.default.bool.isRequired,showingHsBranding:y.default.bool,stagedAttachments:y.default.instanceOf(g.List),stagedMessageEditorText:y.default.string,supportsAttachments:y.default.bool.isRequired,supportsMultipleAttachments:y.default.bool,toggleOnAndOffInputFocus:y.default.func};F.displayName="MessageEditor";F.defaultProps={hasUnansweredQuickReplyMessage:!1,isThreadStarted:!0,disablePublish:!1,onRemoveAttachment:function(){},onSelectAttachmentFiles:function(){},createNewThread:function(){},supportsAttachments:!1,supportsMultipleAttachments:!1,fileTypes:O.WHITELISTED_FILES};var D=F;t.default=D;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.KEYPAD_NUMBER_9=t.KEYPAD_NUMBER_8=t.KEYPAD_NUMBER_7=t.KEYPAD_NUMBER_6=t.KEYPAD_NUMBER_5=t.KEYPAD_NUMBER_4=t.KEYPAD_NUMBER_3=t.KEYPAD_NUMBER_2=t.KEYPAD_NUMBER_1=t.KEYPAD_NUMBER_0=t.NUMBER_9=t.NUMBER_8=t.NUMBER_7=t.NUMBER_6=t.NUMBER_5=t.NUMBER_4=t.NUMBER_3=t.NUMBER_2=t.NUMBER_1=t.NUMBER_0=t.Z=t.Y=t.UP=t.SPACE=t.RIGHT=t.NBSP=t.LEFT=t.ESC=t.TAB=t.ENTER=t.DOWN=t.BRACKET_RIGHT=t.BRACKET_LEFT=t.BACKSPACE=void 0;var r=8;t.BACKSPACE=r;var n=219;t.BRACKET_LEFT=n;var i=221;t.BRACKET_RIGHT=i;var o=40;t.DOWN=o;var s=13;t.ENTER=s;var l=9;t.TAB=l;var u=27;t.ESC=u;var d=37;t.LEFT=d;var c=160;t.NBSP=c;var f=39;t.RIGHT=f;var p=32;t.SPACE=p;var m=38;t.UP=m;var v=89;t.Y=v;var h=90;t.Z=h;var g=48;t.NUMBER_0=g;var y=49;t.NUMBER_1=y;var b=50;t.NUMBER_2=b;var _=51;t.NUMBER_3=_;var E=52;t.NUMBER_4=E;var T=53;t.NUMBER_5=T;var C=54;t.NUMBER_6=C;var S=55;t.NUMBER_7=S;var M=56;t.NUMBER_8=M;var I=57;t.NUMBER_9=I;var A=96;t.KEYPAD_NUMBER_0=A;var P=97;t.KEYPAD_NUMBER_1=P;var x=98;t.KEYPAD_NUMBER_2=x;var O=99;t.KEYPAD_NUMBER_3=O;var R=100;t.KEYPAD_NUMBER_4=R;var k=101;t.KEYPAD_NUMBER_5=k;var N=102;t.KEYPAD_NUMBER_6=N;var L=103;t.KEYPAD_NUMBER_7=L;var w=104;t.KEYPAD_NUMBER_8=w;var F=105;t.KEYPAD_NUMBER_9=F},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=n(a(7)),c=r(a(6)),f=n(a(862)),p=n(a(1025)),m=f.default.div.withConfig({displayName:"MessageComposer__FullWidth",componentId:"sc-1ryoow1-0"})(["width:100%;"]),v=f.default.div.withConfig({displayName:"MessageComposer__InputWrapper",componentId:"sc-1ryoow1-1"})(["display:flex;width:100%;align-items:center;justify-content:space-between;flex-wrap:nowrap;"]),h=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e="input-container m-bottom-2"+(this.props.showingHsBranding?"":" no-branding");return c.default.createElement("div",{className:e},c.default.createElement(p.default,{direction:"column",justify:"between",wrap:"nowrap"},this.props.fileUploads&&c.default.createElement(m,null,this.props.fileUploads()),c.default.createElement(v,null,this.props.inputToRender(),this.props.children&&c.default.createElement("div",{className:"display-flex flex-row m-left-1"},this.props.children))))}}]);return t}(c.Component);h.propTypes={children:d.default.node,fileUploads:d.default.func,inputToRender:d.default.func.isRequired,showingHsBranding:d.default.bool};h.defaultProps={fileUploads:null,showingHsBranding:!1};var g=h;t.default=g;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(287)),i=r(a(7)),o=r(a(6)),s=r(a(1279)),l=r(a(1287)),u=a(1289),d=r(a(1290)),c=r(a(1292)),f=(0,d.default)(s.default);function p(e){var t=e.disabled,a=e.error,r=e.messageText,i=e.onChange,s=e.onInputBlur,d=e.onInputFocus,p=e.onKeyDown,m=e.setEditorRef,v=e.showingHsBranding,h=e.validationMessage,g=e.showQuickReplyPlaceholder,y=v?"showing-branding":"";return o.default.createElement(u.ChatWidgetLocaleContextConsumer,null,function(e){return o.default.createElement(l.default,{grow:.95},o.default.createElement(c.default,{"aria-label":n.default.text(g?"conversations-visitor-ui.chatTextArea.forceQuickReplyPlaceholder":"conversations-visitor-ui.chatTextArea.placeholder",{locale:e}),className:y,validationMessage:h,error:a,required:!0},o.default.createElement(f,{className:"widget-textarea message-box","data-test-id":"widget-textarea",tabIndex:"0",innerRef:m,maxHeight:100,placeholder:n.default.text(g?"conversations-visitor-ui.chatTextArea.forceQuickReplyPlaceholder":"conversations-visitor-ui.chatTextArea.placeholder",{locale:e}),shrink:!0,styled:!1,resize:!1,use:"default",disabled:t,onChange:i,onKeyDown:p,error:a,value:r,onFocus:d,onBlur:s})))})}p.propTypes={disabled:i.default.bool.isRequired,error:i.default.bool.isRequired,messageText:i.default.string.isRequired,onChange:i.default.func.isRequired,onInputBlur:i.default.func,onInputFocus:i.default.func,onKeyDown:i.default.func.isRequired,setEditorRef:i.default.func.isRequired,showQuickReplyPlaceholder:i.default.bool.isRequired,showingHsBranding:i.default.bool.isRequired,validationMessage:i.default.string.isRequired};p.displayName="TextInput";var m=p;t.default=m;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=n(a(117)),c=n(a(7)),f=r(a(6)),p=n(a(862)),m=a(1280),v=a(894),h=n(a(1281)),g=n(a(1283)),y=n(a(927)),b=n(a(1284)),_=n(a(38)),E=n(a(963)),T=(0,p.default)(function(e){e.height,e.maxHeight;var t=(0,d.default)(e,["height","maxHeight"]);return f.default.createElement(b.default,t)}).withConfig({displayName:"UIExpandingTextArea__StyledTextArea",componentId:"sc-1hnrut5-0"})(["max-height:"," !important;overflow:"," !important;&&{transition:none;}"],function(e){var t=e.maxHeight;return t<1/0&&(0,v.toPx)(t)},function(e){return e.height>e.maxHeight?"auto":"hidden"}),C=function(e){return{height:e}},S=function(e){(0,u.default)(t,e);function t(e){var a;(0,i.default)(this,t);(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).setHeight=function(e){var t=a.props,r=t.inputRef,n=t.minHeight,i=t.shrink,o=r.current;if(o){var s,l=(0,m.getTextHeight)(o);if(i)s=Math.max(n,l);else{var u=e?0:o.getBoundingClientRect().height;s=Math.max(n,l,u)}a.state.height!==s&&a.setState({height:s})}};a.state={height:null};a._getStyle=(0,_.default)(C);a._hasUpdated=!1;return a}(0,o.default)(t,[{key:"componentDidUpdate",value:function(e,t){if(t.height===this.state.height){this.setHeight(!this._hasUpdated);this._hasUpdated=!0}}},{key:"render",value:function(){var e=this.props,t=(e.inputWidth,e.minHeight,e.resize),a=e.shrink,r=(0,d.default)(e,["inputWidth","minHeight","resize","shrink"]),n=this.state.height;return f.default.createElement(T,Object.assign({},r,{resize:!a&&t,style:this._getStyle(n),height:n}))}}]);return t}(f.PureComponent);S.propTypes=Object.assign({},b.default.propTypes,{inputRef:y.default.isRequired,maxHeight:c.default.number.isRequired,minHeight:c.default.number.isRequired,shrink:c.default.bool.isRequired});S.defaultProps=Object.assign({},b.default.defaultProps,{maxHeight:1/0,minHeight:0,shrink:!1});S.displayName="UIExpandingTextArea";var M=(0,E.default)((0,h.default)((0,g.default)(S)));t.default=M;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getTextHeight=o;t.getTextWidth=s;var r=["-webkit-font-smoothing","border","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-image-outset","border-image-repeat","border-image-slice","border-image-width","border-left-color","border-left-style","border-left-width","border-right-color","border-right-style","border-right-width","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","box-sizing","font-family","font-size","font-style","font-variant","font-weight","line-height","margin","padding","padding-bottom","padding-left","padding-right","padding-top","white-space","word-break","word-spacing","word-wrap"],n=function(e,t,a){var n=getComputedStyle(e,null);if(!n)return e;var i=document.createElement("width"===t?"pre":"span");r.forEach(function(e){i.style[e]=n[e]});i.style[t]=n[t];i.style.position="fixed";i.appendChild(document.createTextNode((null!=a?a:e.value||e.placeholder||"")+" "));return i},i=function(e,t,a){var r=document.body,i=n(e,t,a);r.appendChild(i);var o=i.getBoundingClientRect();r.removeChild(i);return o};function o(e,t){return i(e,"width",t).height}function s(e,t){return i(e,"height",t).width}},,,function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=m;var n=r(a(4)),i=r(a(5)),o=r(a(75)),s=r(a(77)),l=r(a(78)),u=r(a(6)),d=r(a(950)),c=a(951),f=a(1093),p=a(1034);function m(e){var t=function(t){(0,l.default)(a,t);function a(e){var t;(0,n.default)(this,a);(t=(0,o.default)(this,(0,s.default)(a).call(this,e))).measureInput=function(){if(t._isMounted){var e=t.props.inputRef.current.offsetWidth;e!==t.state.inputWidth&&t.setState({inputWidth:e})}};t.handleWindowResize=function(){(0,p.cancelIdleCallback)(t._resizeTimer);t._resizeTimer=(0,p.requestIdleCallback)(t.measureInput)};t.state={inputWidth:null};return t}(0,i.default)(a,[{key:"componentDidMount",value:function(){this._isMounted=!0;addEventListener("resize",this.handleWindowResize);this.measureInput();(0,f.fontsLoaded)()||f.fontsLoadedPromise.then(this.measureInput)}},{key:"componentDidUpdate",value:function(e,t){t.inputWidth===this.state.inputWidth&&this.measureInput(this)}},{key:"componentWillUnmount",value:function(){removeEventListener("resize",this.handleWindowResize);(0,p.cancelIdleCallback)(this._resizeTimer);this._isMounted=!1}},{key:"render",value:function(){return u.default.createElement(e,Object.assign({},this.props,{inputWidth:this.state.inputWidth}))}}]);return a}(u.default.Component),a=(0,d.default)(e);t.displayName="MeasureInput("+a+")";t.propTypes=e.propTypes;t.defaultProps=e.defaultProps;(0,c.attachWrappedComponent)(t,e);return t}e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(117)),o=n(a(4)),s=n(a(5)),l=n(a(75)),u=n(a(77)),d=n(a(78)),c=n(a(7)),f=r(a(6)),p=n(a(864)),m=n(a(963)),v=n(a(1281)),h=a(1285),g=n(a(927)),y=a(1286),b=function(e){(0,d.default)(t,e);function t(){(0,o.default)(this,t);return(0,l.default)(this,(0,u.default)(t).apply(this,arguments))}(0,s.default)(t,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.error,r=e.inputRef,n=e.resize,o=e.styled,s=e.use,l=(0,i.default)(e,["className","error","inputRef","resize","styled","use"]),u=this.context.size,d=(0,p.default)("form-control private-form__control private-text-area",t,h.INPUT_SIZE_OPTIONS[u],h.USE_CLASSES[s],!o&&"private-form__control--unstyled",a&&"private-form__control--error",!1===n&&"private-text-area--no-resize",{vertical:"private-text-area--vertical-resize",horizontal:"private-text-area--horizontal-resize"}[n]);return f.default.createElement("textarea",Object.assign({},l,{className:d,ref:r}))}}]);return t}(f.PureComponent);b.contextType=y.FieldsetContext;b.displayName="UITextArea";b.propTypes={cols:c.default.number,disabled:c.default.bool,error:c.default.bool,inputRef:g.default,placeholder:c.default.string,readOnly:c.default.bool,resize:c.default.oneOf(["vertical","horizontal",!0,!1]),rows:c.default.number,styled:c.default.bool.isRequired,use:c.default.oneOf(Object.keys(h.USE_CLASSES)),value:c.default.string};b.defaultProps={error:!1,resize:"vertical",styled:!0,value:""};var _=(0,v.default)((0,m.default)(b));t.default=_;e.exports=t.default},,,,,function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.ChatWidgetLocaleContextProvider=t.ChatWidgetLocaleContextConsumer=void 0;var n=r(a(6)).default.createContext(void 0),i=n.Consumer;t.ChatWidgetLocaleContextConsumer=i;var o=n.Provider;t.ChatWidgetLocaleContextProvider=o},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(34)),o=n(a(117)),s=n(a(7)),l=r(a(6)),u=n(a(10)),d=a(1291),c=function(){},f=function(e){return function(t){var a=t.innerRef,r=void 0===a?c:a,n=t.onBlur,s=void 0===n?c:n,f=t.onFocus,p=void 0===f?c:f,m=(0,o.default)(t,["innerRef","onBlur","onFocus"]),v=(0,l.useRef)(null);(0,l.useEffect)(function(){r(v.current)},[v,r]);var h=(0,l.useState)(null),g=(0,i.default)(h,2),y=g[0],b=g[1],_=function(e){if(y&&e.target!==y){if(v.current){var t=u.default.findDOMNode(v.current);t&&t.blur()}b(null);return!1}return Boolean(y)};(0,d.useTouchListener)(_);var E=function(e){b(null);s(e)},T=function(e){e.target&&b(e.target);p(e)};return l.default.createElement(e,Object.assign({},m,{ref:v,onFocus:T,onBlur:E}))}};f.propTypes={innerRef:s.default.func.isRequired,onBlur:s.default.func.isRequired,onFocus:s.default.func.isRequired};var p=f;t.default=p;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.useTouchListener=void 0;var r=a(6),n=function(e){(0,r.useEffect)(function(){var t=function(t){if(e(t)){t.stopPropagation();t.preventDefault()}};document.addEventListener("touchmove",t,{passive:!1});return function(){document.removeEventListener("touchmove",t)}},[e])};t.useTouchListener=n},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=t.InlineHelp=t.FormCounter=t.FormDescription=t.InlineFormLabel=void 0;var i=n(a(117)),o=n(a(4)),s=n(a(5)),l=n(a(75)),u=n(a(77)),d=n(a(76)),c=n(a(78)),f=n(a(7)),p=r(a(6)),m=n(a(862)),v=n(a(158)),h=a(10),g=n(a(1293)),y=n(a(1294)),b=a(1300),_=n(a(1305)),E=a(888),T=a(892),C=a(1286),S=(0,m.default)(g.default).withConfig({displayName:"VizExFormControl__InlineFormLabel",componentId:"h4j4ig-0"})(["&&{display:inline;}"]);t.InlineFormLabel=S;var M=(0,m.default)(b.Small).withConfig({displayName:"VizExFormControl__FormDescription",componentId:"h4j4ig-1"})(["display:block;margin-top:8px;padding-bottom:1px;"]);t.FormDescription=M;var I=(0,m.default)(b.Small).withConfig({displayName:"VizExFormControl__FormCounter",componentId:"h4j4ig-2"})(["align-self:flex-end;color:EERIE;margin-left:8px;padding:8px 0 4px;"]);t.FormCounter=I;var A=m.default.span.withConfig({displayName:"VizExFormControl__InlineHelp",componentId:"h4j4ig-3"})(["display:'flex';color:EERIE;cursor:inherit;padding:8px 0 4px;"]);t.InlineHelp=A;var P=function(e){for(var t=e,a=t.props.id;null==a;){try{t=p.Children.only(t.props.children)}catch(e){break}a=t.props.id}return a},x=function(e,t){var a=Object.keys(e).filter(function(t){return e[t]}).map(function(a){return e[a]?t+"-"+a:""});if(a.length>0)return a.join(" ")},O=function(e,t,a,r,n,i,o,s,l,u){var d=p.Children.only(a),c=d.props.required,f=!0===o||c,m={"aria-label":e,"aria-labelledby":t,required:f,"aria-invalid":!0===n?"true":void 0,"aria-required":f};P(d)||(m.id=u);n&&(m.error=!!n);l&&(m.disabled=!0);var v={"aria-describedby":x({validationMessage:s,help:i,description:r},m.id)},h=Object.assign({},m,{},v);return(0,p.cloneElement)(d,h)},R=function(e,t,a,r,n,i,o,s,l,u,d,c){r||e||t||p.Children.only(a).type===y.default||v.default.warn({message:"VizExFormControl: For better accessibility, if you're going to omit `label`, please include an `aria-label` or `aria-labelledby` property.",key:"VizExFormControl: add aria-label"});if(!r)return null;var f=p.Children.only(a).props,m=f.disabled,h=f.readOnly;return p.default.createElement(d,{className:n,error:!!i,onClick:l,readOnly:m||h||u,required:o,ref:c},r)},k=function(e,t,a){if(t){(0,_.default)({error:e,validationMessage:t});return p.default.createElement(b.Small,{style:{marginTop:"9px",display:"block"},id:x({validationMessage:t},a),tabIndex:-1,use:e?"error":"success"},t)}return null},N=function(e){(0,c.default)(t,e);function t(e){var a;(0,o.default)(this,t);(a=(0,l.default)(this,(0,u.default)(t).call(this,e))).state={labelTarget:null};a.labelRefCallback=a.labelRefCallback.bind((0,d.default)(a));return a}(0,s.default)(t,[{key:"UNSAFE_componentWillMount",value:function(){this._fallbackId="VizExFormControl-"+(0,T.uniqueId)()}},{key:"handleLabelClick",value:function(e){var t=document.getElementById(e.target.htmlFor);t&&-1===["BUTTON","INPUT","SELECT","TEXTAREA"].indexOf(t.tagName)&&t.click()}},{key:"labelRefCallback",value:function(e){this.setState({labelTarget:(0,h.findDOMNode)(e)})}},{key:"render",value:function(){var e=this,t=this.props,a=t["aria-label"],r=t["aria-labelledby"],n=t.characterCount,o=t.children,s=t.description,l=t.error,u=t.FormLabel,d=t.validationMessage,c=t.help,f=t.helpClassName,m=t.label,v=t.labelClassName,h=t.required,g=(0,i.default)(t,["aria-label","aria-labelledby","characterCount","children","description","error","FormLabel","validationMessage","help","helpClassName","label","labelClassName","required"]);return p.default.createElement(C.FieldsetContextConsumer,null,function(t){var i=O(a,r,o,s,l,c,h,d,t.disabled,e._fallbackId),y=i&&i.props&&i.props.id;return p.default.createElement("div",g,p.default.createElement("div",{style:{flexBasis:"60%"}},p.default.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-between"}},R(a,r,o,m,v,l,h,i,e.handleLabelClick,t.disabled,u,e.labelRefCallback),c?p.default.createElement(A,{className:f,id:x({help:c},y),tabIndex:-1},c):null),p.default.createElement("div",null,i),p.default.createElement("div",{style:{display:"flex",flexWrap:"nowrap",justifyContent:"space-between"}},p.default.createElement("div",{style:{display:"flex",flexDirection:"column"}},k(l,d,y)),null==n?null:p.default.createElement(I,null,n)),s?p.default.createElement(M,{id:x({description:s},y),tabIndex:-1,use:"help"},s):null))})}}]);return t}(p.default.Component);N.displayName="VizExFormControl";N.propTypes={FormLabel:(0,E.getPropType)(g.default),"aria-label":f.default.string,"aria-labelledby":f.default.string,characterCount:f.default.node,children:f.default.node.isRequired,description:f.default.oneOfType([f.default.node,f.default.bool]),error:f.default.bool,help:f.default.node,helpClassName:f.default.string,label:f.default.node,labelClassName:f.default.string,required:f.default.bool.isRequired,validationMessage:f.default.node};N.defaultProps={error:!1,FormLabel:S,required:!1,_size:"medium"};var L=N;t.default=L},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(117)),o=n(a(7)),s=r(a(6)),l=n(a(864)),u=a(1286),d={default:"",small:"private-form__label--small"},c=s.default.forwardRef(function(e,t){var a=e.className,r=e.error,n=e.readOnly,o=e.required,c=(0,i.default)(e,["className","error","readOnly","required"]),f=(0,s.useContext)(u.FieldsetContext).size;return s.default.createElement("label",Object.assign({},c,{className:(0,l.default)("private-form__label",d[f],a,n&&"private-form__label--readonly",o&&"private-form__label--required",r&&"error-msg"),ref:t}))});c.propTypes={children:o.default.node,error:o.default.bool.isRequired,htmlFor:o.default.string,readOnly:o.default.bool.isRequired,required:o.default.bool.isRequired};c.defaultProps={error:!1,required:!1,readOnly:!1};c.displayName="UIFormLabel";var f=c;t.default=f;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(117));a(914);var o=n(a(864)),s=n(a(7)),l=r(a(6)),u=(n(a(158)),n(a(910))),d=n(a(942)),c=a(1286),f=n(a(1295)),p=n(a(1297)),m=a(891),v=a(954),h=a(1298),g=n(a(1299)),y=(0,d.default)(function(){return l.default.createElement(p.default,{className:"private-checkbox__icon__inner"})}),b=(0,d.default)(function(){return l.default.createElement("svg",{role:"presentation",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},l.default.createElement("path",{className:"private-checkbox__icon__inner",d:"M 2 6 L12 6 L12 9 L2 9 L2 6 z"}))}),_=(0,d.default)(function(e){return l.default.createElement("span",{className:"private-checkbox__indicator","data-indicator":!0,style:{color:e}},l.default.createElement("span",{className:"private-checkbox__icon private-checkbox__check"},y()),l.default.createElement("span",{className:"private-checkbox__icon private-checkbox__dash"},b()))}),E=(0,l.forwardRef)(function(e,t){var a=e["aria-label"],r=e["aria-labelledby"],n=e.checked,s=e.children,d=e.className,f=e.color,p=e.description,m=e.disabled,y=e.id,b=e.indeterminate,E=e.innerPadding,T=e.name,C=e.onChange,S=e.readOnly,M=e.size,I=e.tabIndex,A=e.value,P=(0,i.default)(e,["aria-label","aria-labelledby","checked","children","className","color","description","disabled","id","indeterminate","innerPadding","name","onChange","readOnly","size","tabIndex","value"]),x=(0,l.useContext)(c.FieldsetContext),O=x.size,R=x.disabled;0;var k=(0,u.default)("checkbox-"),N=(0,u.default)("checkbox-content-"),L=m||R,w=M||O,F=(0,o.default)(r,s&&N);return l.default.createElement(g.default,Object.assign({},P,{checked:n,childWrapperId:N,className:(0,o.default)(d,"private-checkbox",h.PADDING_OPTIONS[E],null==s&&"private-checkbox--unlabeled"),description:p,descriptionId:k,disabled:L,input:l.default.createElement("input",{"aria-describedby":p?k:null,"aria-label":a,"aria-labelledby":F,checked:n,className:"private-checkbox__input sr-only"+(b?" indeterminate":""),disabled:L,id:y,name:T,onChange:function(e){m||S?e.preventDefault():C(e)},readOnly:S,tabIndex:(0,v.getTabIndex)(S||m,I),type:"checkbox",value:A}),indicator:_(f),onChange:C,readOnly:S,ref:t,size:w}),s)});E.propTypes={alignment:s.default.oneOf(Object.keys(h.ALIGNMENT_CLASSES)),"aria-label":s.default.string,"aria-labelledby":s.default.string,checked:s.default.bool,children:s.default.node,color:s.default.string,description:s.default.node,descriptionLayout:s.default.oneOf(["horizontal","vertical"]),disabled:s.default.bool,indeterminate:s.default.bool,inline:s.default.bool,innerPadding:s.default.oneOf(Object.keys(h.PADDING_OPTIONS)).isRequired,labelClassName:s.default.string,name:s.default.string,onChange:s.default.func,readOnly:s.default.bool,size:s.default.oneOfType([(0,m.propTypeForSizes)(["sm"]),s.default.oneOf(["default"])]),value:s.default.any};E.defaultProps={alignment:"start",checked:!1,descriptionLayout:"vertical",innerPadding:"default"};E.displayName="UICheckbox";var T=(0,f.default)(E);t.default=T;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=d;var i=n(a(117)),o=r(a(6)),s=n(a(950)),l=a(1296),u=a(951);function d(e){var t=(0,o.forwardRef)(function(t,a){t.checked,t.defaultChecked,t.onChange;var r=(0,i.default)(t,["checked","defaultChecked","onChange"]),n=(0,l.useChecked)(t),s=n.checked,u=n.onChange;return o.default.createElement(e,Object.assign({},r,{checked:s,onChange:u,ref:a}))});t.propTypes=Object.assign({},e.propTypes,{},l.checkedPropTypes);t.defaultProps=Object.assign({},e.defaultProps,{defaultChecked:!(!e.defaultProps||null==e.defaultProps.checked)&&e.defaultProps.checked});delete t.defaultProps.checked;t.displayName="Checkable("+(0,s.default)(e)+")";(0,u.attachWrappedComponent)(t,e);return t}e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.checkedDefaultProps=t.checkedPropTypes=t.useChecked=void 0;var n=r(a(34)),i=r(a(7)),o=a(6),s=function(e){var t=e.checked,a=e.defaultChecked,r=e.onChange,i=(0,o.useState)(a),s=(0,n.default)(i,2),l=s[0],u=s[1],d=(0,o.useCallback)(function(e){u(e.target.checked);r&&r(e)},[r]);return{checked:void 0!==t?t:l,onChange:d}};t.useChecked=s;var l={checked:i.default.bool,defaultChecked:i.default.bool,onChange:i.default.func};t.checkedPropTypes=l;var u={defaultChecked:!1};t.checkedDefaultProps=u},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=i;var n=r(a(6));function i(e){return n.default.createElement("svg",{role:"presentation",viewBox:"0 0 15 15.343",xmlns:"http://www.w3.org/2000/svg"},n.default.createElement("path",Object.assign({},e,{d:"M1.013 8.11c0-.223.078-.412.234-.568l1.14-1.14c.155-.155.345-.233.568-.233s.413.077.57.233l2.46 2.47 5.492-5.5c.156-.156.346-.234.568-.234.224 0 .413.077.57.233l1.138 1.14c.156.155.234.345.234.568 0 .224-.078.414-.234.57l-6.06 6.06-1.14 1.14c-.155.155-.345.233-.568.233s-.413-.078-.57-.234l-1.138-1.14-3.03-3.03c-.156-.156-.234-.346-.234-.57z"})))}i.displayName="UICheckmark";e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.SIZE_OPTIONS=t.PADDING_OPTIONS=t.ALIGNMENT_CLASSES=void 0;var r={start:"",baseline:"private-checkbox--align-baseline",center:"private-checkbox--align-center",end:"private-checkbox--align-end"};t.ALIGNMENT_CLASSES=r;var n={default:"",none:"private-checkbox--flush"};t.PADDING_OPTIONS=n;var i={default:"",sm:"private-checkbox--small"};t.SIZE_OPTIONS=i},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(117)),o=n(a(864)),s=(n(a(7)),r(a(6))),l=a(953),u=a(1282),d=a(891),c=a(1298),f=(0,s.forwardRef)(function(e,t){var a=e.alignment,r=e.checked,n=e.children,f=e.childWrapperId,p=e.className,m=e.description,v=e.descriptionId,h=e.descriptionLayout,g=e.disabled,y=e.indicator,b=e.inline,_=e.input,E=e.labelClassName,T=e.onChange,C=e.readOnly,S=e.size,M=(0,i.default)(e,["alignment","checked","children","childWrapperId","className","description","descriptionId","descriptionLayout","disabled","indicator","inline","input","labelClassName","onChange","readOnly","size"]),I=(0,d.toShorthandSize)(S);return s.default.createElement("div",Object.assign({},M,{className:(0,o.default)(p,c.ALIGNMENT_CLASSES[a],c.SIZE_OPTIONS[I],g&&"private-checkbox--disabled",C&&"private-checkbox--readonly",b&&"private-checkbox--inline",m&&"vertical"===h&&"private-checkbox--stack-contents"),ref:t}),s.default.createElement("label",{className:(0,o.default)("private-checkbox__label",E),onClick:function(e){(0,l.isFirefox)()&&(0,u.isModifierPressed)(e)&&T(Object.assign({},e,{type:"change",target:{checked:!r}}))}},s.default.createElement("span",{className:"private-checkbox__inner"},_,y,n&&s.default.createElement("span",{className:"private-checkbox__text"+("sm"===I?" private-checkbox__text--small":""),id:f},n))),m&&s.default.createElement("span",{className:"private-checkbox__desc",id:v},m))});f.displayName="ToggleInputWrapper";0;var p=f;t.default=p;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});Object.defineProperty(t,"Big",{enumerable:!0,get:function(){return n.default}});Object.defineProperty(t,"Code",{enumerable:!0,get:function(){return i.default}});Object.defineProperty(t,"Pre",{enumerable:!0,get:function(){return o.default}});Object.defineProperty(t,"Small",{enumerable:!0,get:function(){return s.default}});Object.defineProperty(t,"HR",{enumerable:!0,get:function(){return l.default}});var n=r(a(1301)),i=r(a(1302)),o=r(a(1303)),s=r(a(1137)),l=r(a(1304))},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=l;var n=r(a(117)),i=r(a(6)),o=r(a(864)),s=r(a(1022));function l(e){var t=e.className,a=(0,n.default)(e,["className"]);return i.default.createElement(s.default,Object.assign({},a,{className:(0,o.default)("private-big",t)}))}l.propTypes=s.default.propTypes;l.defaultProps=s.default.defaultProps;l.displayName="Big";e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(117)),i=r(a(6)),o=r(a(864)),s=function(e){var t=e.className,a=(0,n.default)(e,["className"]);return i.default.createElement("code",Object.assign({},a,{className:(0,o.default)(t,"private-code")}))},l=s;t.default=l;s.displayName="Code";e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(117)),i=r(a(7)),o=r(a(6)),s=r(a(864)),l=function(e){var t=e.className,a=e.use,r=(0,n.default)(e,["className","use"]);return o.default.createElement("pre",Object.assign({},r,{className:(0,s.default)(t,"code"===a&&"private-pre--code")}))};l.propTypes={use:i.default.oneOf(["default","code"])};l.defaultProps={use:"default"};l.displayName="Pre";var u=l;t.default=u;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=c;var n=r(a(7)),i=r(a(6)),o=a(900),s=r(a(862)),l=a(891),u=a(894),d=s.default.hr.withConfig({displayName:"HR__StyledHR",componentId:"gn64i7-0"})(["background-color:",";border:0;height:1px;min-height:1px;width:100%;",";"],o.HR_BORDER_COLOR,function(e){var t=e.distance;return(0,u.setDistance)(t)});function c(e){return i.default.createElement(d,e)}c.propTypes={distance:n.default.oneOfType([l.allSizes,n.default.oneOf(["flush"])])};c.defaultProps={distance:"md"};c.displayName="HR";e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=i;var n=r(a(158));function i(e){var t=e.validationMessage,a=e.error;t&&!a&&n.default.warn({message:"UIFormControl: Use of `error={false}` with `validationMessage` is discouraged.",url:"https://git.hubteam.com/HubSpot/UIComponents/issues/4597",key:"UIFormControl: `error={false}` with `validationMessage`"})}e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.isIOSDevice=void 0;var r=function(){return!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)};t.isIOSDevice=r},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(4)),i=r(a(5)),o=r(a(75)),s=r(a(77)),l=r(a(78)),u=r(a(287)),d=r(a(1005)),c=r(a(7)),f=r(a(6)),p=r(a(10)),m=r(a(862)),v=r(a(957)),h=a(1308),g=r(a(1309)),y=r(a(1316)),b=m.default.input.withConfig({displayName:"AttachmentPickerButton__HiddenInput",componentId:"mj74yt-0"})(["display:none;"]),_=m.default.span.withConfig({displayName:"AttachmentPickerButton__IconStyles",componentId:"mj74yt-1"})(["font-size:",";"],function(e){return e.isMobile?h.mobileIconFontSize:void 0}),E=function(e){(0,l.default)(t,e);function t(e){var a;(0,n.default)(this,t);(a=(0,o.default)(this,(0,s.default)(t).call(this,e))).inputRefCallback=function(e){a.inputRef=e};a.findInputNode=function(){return a.inputRef?p.default.findDOMNode(a.inputRef):null};a.clearInputNode=function(){var e=a.findInputNode();e&&(e.value="")};a.handlePickerClick=function(e){var t=a.findInputNode();t&&t.click();a.props.onClick(e)};a.onInputChange=function(e){var t=e.target.files;a.props.onSelectFiles({files:t});a.clearInputNode()};a.renderMaxFileSizeTooltip=function(){if(!a.props.mobile)return f.default.createElement(d.default,{message:"conversations-visitor-ui.fileSizeLimit",options:{size:u.default.formatSize(a.props.maxAttachmentFileSize)}})};a.inputRef=null;return a}(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.color,a=e.disabled,r=e.mobile;return f.default.createElement(f.default.Fragment,null,f.default.createElement(y.default,{content:this.renderMaxFileSizeTooltip(),placement:"top center"},f.default.createElement(g.default,{disabled:a,onClick:this.handlePickerClick,use:"transparent-on-background","aria-label":u.default.text("conversations-visitor-ui.visitorExperienceAriaLabels.attachment"),shape:"circle"},f.default.createElement(_,{isMobile:r},f.default.createElement(v.default,{className:"m-all-0",name:"attach",color:t})))),f.default.createElement(b,{accept:this.props.accept.join(","),"data-selenium-test":"visitor-attachment-file-input",disabled:this.props.disabled,ref:this.inputRefCallback,type:"file",multiple:this.props.allowMultiple,onChange:this.onInputChange}))}}]);return t}(f.default.PureComponent);E.displayName="AttachmentPickerButton";E.propTypes={accept:c.default.arrayOf(c.default.string).isRequired,allowMultiple:c.default.bool.isRequired,color:c.default.string,disabled:c.default.bool,maxAttachmentFileSize:c.default.number.isRequired,mobile:c.default.bool,onClick:c.default.func,onSelectFiles:c.default.func.isRequired};E.defaultProps={accept:[],allowMultiple:!1,onClick:function(){}};var T=E;t.default=T;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.mobileIconFontSize=void 0;var r="22px";t.mobileIconFontSize=r},,,,,,,,function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(34)),o=r(a(6)),s=n(a(7)),l=n(a(862)),u=a(1317),d=n(a(1318)),c=n(a(1322)),f=n(a(1310)),p=a(1324),m=l.default.div.withConfig({displayName:"VizExTooltip__Popover",componentId:"sc-1iiluey-0"})(["transition-property:",";transition-duration:","ms;opacity:",";transform:",";position:absolute;pointer-events:none;width:100%;height:100%;"],function(e){return e.transitioning?"opacity ease-out, transform ease-out":"none"},function(e){return e.duration},function(e){return e.open?"1":"0"},function(e){var t=e.open,a=e.transitioning;return t&&!a?"none":t?"scale(1)":"scale(.75)"}),v=l.default.div.withConfig({displayName:"VizExTooltip__PopoverWrapper",componentId:"sc-1iiluey-1"})(["display:inline-block;position:relative;"]),h=function(e){var t=e.content,a=e.backgroundColor,r=e.textColor,n=e.placement,s=e.children,l=e.theme,u=e.onOpenChange,f=e.open,h=(0,o.useState)(!1),g=(0,i.default)(h,2),y=g[0],b=g[1];if(!t)return s;var _="boolean"==typeof f,E=function(){if(!_){(0,p.callIfValid)(u,!0);b(!0)}},T=function(){if(!_){(0,p.callIfValid)(u,!1);b(!1)}},C=_?f:y;return o.default.createElement(v,{onMouseEnter:E,onMouseLeave:T},o.default.createElement(m,{open:C,duration:250,transitioning:!0},o.default.createElement(c.default,{textColor:r,backgroundColor:a,placement:n,open:C,theme:l,"data-test-open":C},t),o.default.createElement(d.default,{backgroundColor:a,placement:n,theme:l})),s)};h.propTypes={backgroundColor:s.default.string,children:s.default.node,content:s.default.node,onOpenChange:s.default.func,open:s.default.bool,placement:s.default.oneOf(u.PLACEMENTS),textColor:s.default.string,theme:f.default};h.displayName="VizExTooltip";h.defaultProps={placement:"top right"};var g=h;t.default=g;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.OPPOSITE_DIRECTIONS=t.PLACEMENTS=t.PLACEMENTS_SIDES=t.PLACEMENTS_VERT=t.PLACEMENTS_HORIZ=void 0;var r=["left","right"];t.PLACEMENTS_HORIZ=r;var n=["top","bottom"];t.PLACEMENTS_VERT=n;var i=r.concat(n);t.PLACEMENTS_SIDES=i;var o=i.concat(["left top","left bottom","right top","right bottom","top left","top right","bottom left","bottom right","top center","bottom center","left middle","right middle"]);t.PLACEMENTS=o;var s={top:"bottom",bottom:"top",left:"right",right:"left",middle:"middle",center:"center"};t.OPPOSITE_DIRECTIONS=s},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(862)),i=a(1319),o=a(1321),s=n.default.div.withConfig({displayName:"VizExTooltipArrow",componentId:"myy70c-0"})(["position:absolute;pointer-events:none;border:none;clip-path:polygon(100% 100%,0 100%,100% 0);border-top-left-radius:100%;border-radius:3px;border-top-color:transparent !important;border-left-color:transparent !important;border-bottom-right-radius:3px;width:16px;height:16px;background-color:",";",""],function(e){var t=e.theme;return(0,o.getTooltipBackgroundColor)(t)},i.getArrowSpacing);t.default=s;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getArrowSpacing=void 0;var r=a(1320),n=a(862),i=16,o=8,s=function(e){var t=e.placement;switch((0,r.getSide)(t)){case"top":return(0,n.css)(["transform:rotate(45deg);top:-","px;"],i+5);case"right":return(0,n.css)(["transform:rotate(135deg);right:-","px;"],i+5);case"bottom":return(0,n.css)(["transform:rotate(-135deg);bottom:-","px;"],i+5);case"left":return(0,n.css)(["transform:rotate(-45deg);left:-","px;"],i+5);default:return""}},l=function(e){var t=e.placement;switch((0,r.getEdge)(t)){case"top":return(0,n.css)(["top:","px;"],o);case"middle":return(0,n.css)(["top:calc(50% - ","px);"],i/2);case"bottom":return(0,n.css)(["bottom:","px;"],o);case"left":return(0,n.css)(["left:","px;"],o);case"center":return(0,n.css)(["left:calc(50% - ","px);"],i/2);case"right":return(0,n.css)(["right:","px;"],o);default:return""}},u=function(e){var t=e.placement;return(0,n.css)(["",";",";"],s({placement:t}),l({placement:t}))};t.getArrowSpacing=u},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getSide=n;t.isHoriz=i;t.getEdge=o;var r=a(1317);function n(e){return e.split(" ")[0]}function i(e){return r.PLACEMENTS_HORIZ.includes(e)}function o(e){var t=e.split(" ")[1];return t||(i(n(e))?"middle":"center")}},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getTooltipTextColor=t.getTooltipBackgroundColor=void 0;var r=a(994),n="#425b76",i=function(){return n};t.getTooltipBackgroundColor=i;var o=function(){return r.WHITE};t.getTooltipTextColor=o},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(862)),i=a(1323),o=a(1321),s=n.default.div.withConfig({displayName:"VizExTooltipBody",componentId:"qy3p0o-0"})(["border-radius:3px;font-size:13px;max-width:232px;display:block;position:absolute;visibility:visible;box-shadow:0 3px 8px rgba(0,0,0,0.1);line-height:1.5;padding:10px 16px;text-decoration:none;word-wrap:break-word;",";white-space:nowrap;background-color:",";color:",";pointer-events:",";"],i.getBodySpacing,function(e){var t=e.theme;return(0,o.getTooltipBackgroundColor)(t)},function(e){var t=e.theme;return(0,o.getTooltipTextColor)(t)},function(e){return e.open?"all":"none"});t.default=s;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getBodySpacing=void 0;var r=a(1320),n=a(862),i=16,o=function(e){var t=e.placement;switch((0,r.getEdge)(t)){case"top":return(0,n.css)(["top:0;"]);case"bottom":return(0,n.css)(["bottom:0;"]);case"left":return(0,n.css)(["left:0;"]);case"right":return(0,n.css)(["right:0;"]);default:return""}},s=function(e){var t=e.placement;switch((0,r.getSide)(t)){case"top":return(0,n.css)(["transform:translateY(-100%);top:-","px;"],i-5);case"right":return(0,n.css)(["transform:translateX(100%);right:-","px;"],i-5);case"bottom":return(0,n.css)(["transform:translateY(100%);bottom:-","px;"],i-5);case"left":return(0,n.css)(["transform:translateX(-100%);left:-","px;"],i-5);default:return""}},l=function(e){switch(e.placement){case"top center":case"top middle":return(0,n.css)(["transform:translate(-50%,-100%);left:50%;"]);case"bottom middle":case"bottom center":return(0,n.css)(["transform:translate(-50%,100%);left:50%;"]);case"left center":case"left middle":return(0,n.css)(["transform:translate(-100%,-50%);top:50%;"]);case"right center":case"right middle":return(0,n.css)(["transform:translate(100%,-50%);top:50%;"]);default:return""}},u=function(e){var t=e.placement;return(0,n.css)(["",";",";",""],s({placement:t}),o({placement:t}),l({placement:t}))};t.getBodySpacing=u},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.callIfValid=void 0;var r=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];"function"==typeof e&&e.apply(void 0,a)};t.callIfValid=r},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.WHITELISTED_FILES=void 0;var r=["video/*","audio/*","application/json","application/vnd.ms-excel","application/vnd.ms-powerpoint","application/msword","application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.oasis.opendocument.graphics","application/vnd.oasis.opendocument.presentation","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.text","image/gif","image/jpeg","image/jpg","image/png","image/tiff","text/calendar","text/css","text/csv","text/plain"];t.WHITELISTED_FILES=r},,function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(76)),d=n(a(78)),c=n(a(1275)),f=n(a(517)),p=n(a(7)),m=r(a(6)),v=a(1328),h=a(324),g=n(a(881)),y=a(1213),b=a(60),_=a(1233),E=a(1325),T=a(1329),C=function(e){(0,d.default)(t,e);function t(e){var a;(0,i.default)(this,t);(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).publishTypingMessage=(0,f.default)(a.props.publishTypingMessage,v.SEND_TYPING_MESSAGE_DEBOUNCE_MS,{leading:!0,trailing:!1,maxWait:v.SEND_TYPING_MESSAGE_DEBOUNCE_MS});a.onChatInputChanged=a.onChatInputChanged.bind((0,u.default)(a));a.onPublishMessage=a.onPublishMessage.bind((0,u.default)(a));a.onSelectAttachmentFiles=a.onSelectAttachmentFiles.bind((0,u.default)(a));a.onRemoveAttachment=a.onRemoveAttachment.bind((0,u.default)(a));a.inputStagingEvent=(0,f.default)(a.props.inputStagingEvent,T.INPUT_STAGING_EVENT_DEBOUNCE_MS);return a}(0,o.default)(t,[{key:"onChatInputChanged",value:function(e){var t=this.props,a=t.currentConversation,r=t.disablePublish,n=t.shouldSendInputStagingEvent,i=t.showInitialMessageBubble;(0,t.setMessageEditorStagingText)(e);r||this.publishTypingMessage({thread:a});n&&this.inputStagingEvent(e);i&&this.props.closeInitialMessageBubble()}},{key:"onPublishMessage",value:function(e){var t=e.text,a=e.richText,r=e.quickReply,n=this.props,i=n.messagesPageUri,o=n.publishMessage,s=n.stagedAttachments,l=n.removeMessageEditorStagingText;this.publishTypingMessage.cancel();o({text:t,richText:a,quickReply:r,url:i,fileAttachment:(0,_.buildFileAttachment)(s)});l()}},{key:"onSelectAttachmentFiles",value:function(e){var t=e.files;if(t&&t.length){var a=this.props,r=a.onSelectAttachmentFile,n=a.currentConversation;if(a.supportsMultipleAttachments)Array.from(t).forEach(function(e){r({file:e,thread:n})});else{var i=t.item(0);r({file:i,thread:n})}}}},{key:"onRemoveAttachment",value:function(e){var t=e.attachment,a=this.props,r=a.currentConversation,n=a.onRemoveAttachment;n({attachment:t,thread:r})}},{key:"render",value:function(){var e=this.props,t=e.coloring,a=e.currentConversation,r=e.disablePublish,n=e.disableTextInput,i=e.isOnFocus,o=e.mobile,s=e.networkOffline,l=e.shouldDisableAttachment,u=e.showingHsBranding,d=e.stagedAttachments,f=e.supportsMultipleAttachments,p=e.toggleOnAndOffInputFocus,v=e.stagedMessage,g=e.showQuickReplyPlaceholder;return m.default.createElement(c.default,{coloring:t,chatInputChanged:this.onChatInputChanged,disabled:n,disablePublish:r,isOnFocus:i,maxAttachmentFileSize:y.MAX_FILE_SIZE,mobile:o,networkOffline:s,onSelectAttachmentFiles:this.onSelectAttachmentFiles,onRemoveAttachment:this.onRemoveAttachment,publishMessage:this.onPublishMessage,shouldDisableAttachment:l,showingHsBranding:u,stagedAttachments:d,stagedMessageEditorText:v,supportsAttachments:(0,h.isPersistedThread)(a),supportsMultipleAttachments:f,toggleOnAndOffInputFocus:p,fileTypes:E.WHITELISTED_FILES,showQuickReplyPlaceholder:g})}}]);return t}(m.PureComponent);C.displayName="MessageEditorWrapper";C.propTypes={closeInitialMessageBubble:p.default.func.isRequired,coloring:(0,g.default)("ColoringRecord").isRequired,currentConversation:(0,g.default)("Thread"),disablePublish:p.default.bool.isRequired,disableTextInput:p.default.bool.isRequired,inputStagingEvent:p.default.func,isOnFocus:p.default.bool.isRequired,messagesPageUri:p.default.string,mobile:p.default.bool,networkOffline:p.default.bool.isRequired,onRemoveAttachment:p.default.func.isRequired,onSelectAttachmentFile:p.default.func.isRequired,publishMessage:p.default.func.isRequired,publishTypingMessage:p.default.func.isRequired,removeMessageEditorStagingText:p.default.func.isRequired,setMessageEditorStagingText:p.default.func.isRequired,shouldDisableAttachment:p.default.bool,shouldSendInputStagingEvent:p.default.bool.isRequired,showInitialMessageBubble:p.default.bool.isRequired,showQuickReplyPlaceholder:p.default.bool.isRequired,showingHsBranding:p.default.bool.isRequired,stagedAttachments:p.default.instanceOf(b.List),stagedMessage:p.default.string,supportsMultipleAttachments:p.default.bool.isRequired,toggleOnAndOffInputFocus:p.default.func};var S=C;t.default=S;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.SEND_TYPING_MESSAGE_DEBOUNCE_MS=void 0;var r=5e3;t.SEND_TYPING_MESSAGE_DEBOUNCE_MS=r},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.INPUT_STAGING_EVENT_DEBOUNCE_MS=void 0;var r=1e3;t.INPUT_STAGING_EVENT_DEBOUNCE_MS=r},,,,,,,,function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.applyGdprConsent=void 0;var n=r(a(56)),i=a(1116),o=a(1262),s=function(){return function(e,t){(0,o.shouldRecordImplicitConsentToProcess)(t())&&e((0,i.consentToProcess)());return n.default.Promise.resolve()}};t.applyGdprConsent=s},,,,,,function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.MOBILE=t.UNKNOWN=t.API=t.WEB=void 0;var r="WEB";t.WEB=r;var n="API";t.API=n;var i="UNKNOWN";t.UNKNOWN=i;var o="MOBILE";t.MOBILE=o},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.trackSendMessage=void 0;var r=a(273),n=function(e){var t=e.threadId;return function(e){var a={};"number"==typeof t&&(a.threadId=t);e((0,r.trackInteraction)("send-message",a))}};t.trackSendMessage=n},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.buildVisitorCommonMessage=void 0;var n=r(a(36)),i=a(173),o=r(a(355)),s=a(182),l=a(172),u=a(154),d=a(252),c=a(578),f=a(349),p=a(319),m=function(e){var t,a=e.clientType,r=e.fileAttachment,m=e.quickReply,v=e.richText,h=e.senderId,g=e.text,y=e.thread,b=(0,p.getSource)(y),_=(0,l.toCmfSender)(i.VISITOR),E=(0,s.getSenderKeyFromType)(_),T=[];r&&T.push(r);m&&T.push(new o.default(m));return(0,f.buildCommonMessage)({status:{source:b,messageStatus:c.SENT},clientType:a,attachments:T,text:g,richText:v,id:(0,d.generateUuid)(),sender:(t={},(0,n.default)(t,u.MESSAGE_TYPE_ID,_),(0,n.default)(t,E,h),t)})};t.buildVisitorCommonMessage=m},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.publishVisitorMessage=C;var n=a(319),i=a(1343),o=r(a(1347)),s=a(1350),l=a(1337),u=a(407),d=a(324),c=a(756),f=a(1208),p=a(469),m=a(1344),v=a(1345),h=a(260),g=a(1355),y=a(472),b=a(1357),_=a(1360),E=a(1182),T=a(1361);function C(e){var t=e.text,a=e.richText,r=e.quickReply,C=e.fileAttachment;return function(e,S){var M=(0,p.getSelectedThread)(S()),I=(0,d.isPersistedThread)(M),A=(0,n.getChannelName)(M),P=(0,n.getThreadId)(M),x=(0,c.getMessagesUtk)(S()),O=(0,y.getMessagesPageUri)(S()),R=(0,v.buildVisitorCommonMessage)({clientType:i.WEB,fileAttachment:C,quickReply:r,richText:a,senderId:x,text:t,thread:M});e((0,f.clearAttachments)(P));e((0,m.trackSendMessage)({threadId:P}));if(!I){e((0,h.stageMessageOnStubbedThread)(R));return e((0,s.createNewThread)())}if((0,b.shouldRecordUrlContextUpdate)(S(),{threadId:P})){e((0,u.publishMessage)({channel:A,message:(0,g.buildUrlContextUpdateMessage)(O),threadId:P})).done();e((0,_.updateThreadCurrentUrl)({threadId:P,currentUrl:O}))}(0,T.getMostRecentMessageIsEmailPrompt)(S())&&o.default.test(t)&&e((0,E.sendVisitorEmailAddress)({email:t,consentToCommunicate:!1,threadId:P}));return e((0,u.publishMessage)({channel:A,message:R,threadId:P})).then(function(){return e((0,l.applyGdprConsent)())})}}},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(764)),i=r(a(1348)),o=(0,n.default)({name:"EmailAddress",validator:function(e){return i.default.test(e)}});t.default=o;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(1349)),i=new RegExp("^(?:.+)@"+n.default.domain+"$");t.default=i;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r="\\.",n='\\s\\?\\#\\/\\(\\)\\=\\:\\;\\@\\\\"'+r,i="(?:www"+r+")",o="(?:[%a-zA-Z0-9_-]+)",s="(?:(?:\\.[%a-zA-Z0-9-]+)[^\\.\\s])",l="\\s\\?\\#\\&",u={www:i,domain:i+"?(?:(?:[^"+n+"]+)"+r+")+(?:[^"+n+"]+)",protocol:"(?:(?:https?:)?\\/\\/)",protocolRequired:"(?:https?:\\/\\/)",path:"(?:(?:\\/[^\\s\\/\\#\\&\\?]*)+\\/?)",wildcardPath:"(?:(/(?:[%a-zA-Z0-9_-])*?)*(?:/[\\*]))",file:""+o+s,fileName:o,fileExtension:s,search:"(?:([\\?&#][^"+l+"]*?=?([^"+l+"]*))+)",ungroupedSearch:"(?:(?:[\\?&#][^"+l+"]*?=?(?:[^"+l+"]*))+)"};t.default=u;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.createNewThread=x;var n=r(a(391)),i=a(261),o=a(60),s=r(a(145)),l=a(263),u=a(759),d=a(1122),c=a(472),f=a(421),p=a(1351),m=a(330),v=a(273),h=a(1120),g=a(756),y=a(1119),b=a(1353),_=a(492),E=a(1354),T=a(321),C=a(191),S=a(754),M=a(800),I=(0,i.createAction)(_.CREATE_NEW_THREAD.STARTED),A=(0,i.createAction)(_.CREATE_NEW_THREAD.SUCCEEDED),P=(0,i.createAction)(_.CREATE_NEW_THREAD.FAILED);function x(){return function(e,t){var a=(0,f.getSessionId)(t()),r=(0,d.getMessageId)(t()),i=(0,c.getMessagesPageUri)(t()),_=(0,h.getHubspotUtk)(t()),x=(0,C.getLatestWidgetData)(t()),O=(0,M.isUngatedForExitIntentGDPR)(t());e(I());return(0,b.createVisitorThread)({sessionId:a,hubspotUtk:_,isUngatedForExitIntentGDPRCookieBanner:O,messageId:r,messagesPageUri:i,visitorThreadInitialHistory:(0,m.getVisitorInitialThreadHistory)(t()),widgetData:x}).then(function(a){var r=a.channelDetails,d=a.sessionId,c=a.id,f=a.history,m=new n.default(Object.assign({},f,{attachments:(0,o.Map)((0,s.default)("attachments",f))})),h=(0,p.buildCreatedThread)({channelDetails:r,messagesPageUri:i,threadId:c,threadHistory:m});e((0,y.updateSessionId)(d));e((0,v.trackInteraction)("start-conversation",{action:"new conversation started",threadId:c}));e(A({channel:(0,T.getChannelName)(r),threadId:c,conversation:h,threadHistory:m}));e((0,l.addAvailabilityMessage)({channel:(0,T.getChannelName)(r),threadId:c}));e((0,E.postConversationStartedEvent)({thread:h}));(0,S.gdprCookieConsentOnExitIntentEnabled)(x)&&O||e((0,u.handleStoreMessagesCookie)((0,g.getMessagesUtk)(t())))}).catch(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e(P({status:t.status,message:t.message,error:t}))})}}},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.buildCreatedThread=void 0;var n=r(a(413)),i=a(474),o=a(1352),s=a(477),l=function(e){var t=e.channelDetails,a=e.messagesPageUri,r=e.threadHistory,l=e.threadId;return(0,s.buildThread)({channelDetails:t,currentUrl:a,latestSessionStartedAt:Date.now(),source:i.LIVE_CHAT,status:n.default.STARTED,threadId:l}).set("latestMessage",(0,o.findLastConversationalMessage)(r))};t.buildCreatedThread=l},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.findLastConversationalMessage=void 0;var n=r(a(488)),i=r(a(161)),o=a(137),s=a(390),l=a(269),u=function(e){(0,s.threadHistoryInvariant)(e);return(0,i.default)(l.getMessages,(0,n.default)(o.isConversationalMessage),function(e){return e&&e.last()})(e)};t.findLastConversationalMessage=u},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.createVisitorThread=o;var n=r(a(52)),i=r(a(434));function o(e){var t=e.sessionId,a=e.messageId,r=e.hubspotUtk,o=e.messagesPageUri,s=e.visitorThreadInitialHistory;return i.default.post("livechat-public/v1/thread/visitor",{query:{sessionId:t,welcomeMessageId:a,hubspotUtk:r,portalId:n.default.get(),expectedResponseType:"WRAPPER_V2"},data:{visitorThreadInitialHistory:s},headers:{"X-HubSpot-Messages-Uri":o}})}},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.postConversationStartedEvent=void 0;var r=a(509),n=a(511),i=a(626),o=function(e){var t=e.thread;return function(e){e((0,r.postExternalApiEvent)({eventType:n.CONVERSATION_STARTED,payload:{conversation:(0,i.serializeThreadForExternalEvent)(t)}}))}};t.postConversationStartedEvent=o},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.buildUrlContextUpdateMessage=u;var n=r(a(36)),i=r(a(364)),o=a(154),s=a(1356),l=a(252);function u(e){var t;return new i.default({contexts:(0,n.default)({},s.ENTRY_URL,(t={},(0,n.default)(t,o.MESSAGE_TYPE_ID,s.ENTRY_URL),(0,n.default)(t,"url",e),t)),id:(0,l.generateUuid)(),timestamp:Date.now()})}},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.MARKETING_EMAIL_REPLY=t.CONNECTED_ACCOUNT=t.CONNECTED_CRM_OBJECT=t.CONTEXT_TYPE_ID=t.CUSTOM=t.ENTRY_URL=t.CHATFLOW=void 0;var r="CHATFLOW";t.CHATFLOW=r;var n="ENTRY_URL";t.ENTRY_URL=n;var i="CUSTOM";t.CUSTOM=i;var o="@type";t.CONTEXT_TYPE_ID=o;var s="CONNECTED_CRM_OBJECT";t.CONNECTED_CRM_OBJECT=s;var l="CONNECTED_ACCOUNT";t.CONNECTED_ACCOUNT=l;var u="MARKETING_EMAIL_REPLY";t.MARKETING_EMAIL_REPLY=u},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.shouldRecordUrlContextUpdate=void 0;var r=a(189),n=a(1358),i=a(472),o=(0,r.createSelector)([n.getCurrentUrlByThreadId,i.getMessagesPageUri],function(e,t){return e!==t});t.shouldRecordUrlContextUpdate=o},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getCurrentUrlByThreadId=void 0;var r=a(189),n=a(297),i=a(1359),o=(0,r.createSelector)([n.getThreadByThreadId],i.getCurrentUrl);t.getCurrentUrlByThreadId=o},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getCurrentUrl=void 0;var n=(0,r(a(145)).default)("currentUrl");t.getCurrentUrl=n},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.updateThreadCurrentUrl=void 0;var r=a(261),n=a(735),i=(0,r.createAction)(n.UPDATE_THREAD_CURRENT_URL,function(e){return{currentUrl:e.currentUrl,threadId:e.threadId}});t.updateThreadCurrentUrl=i},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getMostRecentMessageIsEmailPrompt=void 0;var r=a(189),n=a(1362),i=a(156),o=a(154),s=(0,r.createSelector)([n.getFilteredMessages],function(e){return(0,i.getType)(e.last())===o.EMAIL_CAPTURE_PROMPT});t.getMostRecentMessageIsEmailPrompt=s},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getFilteredMessages=void 0;var n,i=a(269),o=a(1363),s=a(319),l=a(60),u=a(189),d=r(a(1364)),c=r(a(378)),f=r(a(161)),p=a(1366),m=a(469),v=a(1367),h=a(1510),g=a(1512),y=(0,u.createSelector)([m.getSelectedThread,h.getCurrentThreadHistoryData,p.getUnpublishedMessagesForCurrentThread,g.getTypingMessages],function(e,t,a,r){var u=(0,s.getChannelName)(e),p=(0,s.getThreadId)(e),m=(0,i.getMessages)(t)||(0,l.List)(),h=(0,f.default)((0,d.default)(m),(0,d.default)(a),(0,c.default)((0,o.wrapFailedMessage)({threadId:p,channel:u})),(0,d.default)(r))((0,l.List)()),g=h.size?h.filter(v.isSupportedMessageType):(0,l.List)();(0,l.is)(n,g)||(n=g);return n});t.getFilteredMessages=y},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.wrapFailedMessage=void 0;var n=a(578),i=a(156),o=a(144),s=r(a(691)),l=(0,r(a(139)).default)(function(e,t){var a=e.threadId,r=e.channel,l=e.allowRetry,u=void 0===l||l;return(0,o.isCommonMessageFormat)(t)&&(0,i.getStatusForCmf)(t)===n.FAILED?(0,s.default)({message:t,threadId:a,channel:r,allowRetry:u}):t});t.wrapFailedMessage=l},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(139)),i=r(a(1365)),o=(0,n.default)(i.default);t.default=o;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=a(60),n=a(147);n.concat.implement(Array,function(e,t){return r.Iterable.isIterable(e)?t.concat(e.toJS()):t.concat(e)});n.concat.implementInherited(r.Seq.Indexed,function(e,t){return t.concat(e)});n.concat.implementInherited(r.Collection.Indexed,function(e,t){return t.concat(e)});n.concat.implement(String,function(e,t){return t.concat(e)});var i=n.concat;t.default=i;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getUnpublishedMessagesForCurrentThread=void 0;var r=a(192),n=a(310),i=a(189),o=a(1243),s=a(326),l=a(329),u=(0,i.createSelector)([l.getUnpublishedMessages,o.getCurrentThreadId],function(e,t){var a=(0,n.getEntries)(e).map(r.getData);return(0,s.getSortedMessagesByThreadId)(a,t)});t.getUnpublishedMessagesForCurrentThread=u},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.isSupportedMessageType=void 0;var n=r(a(743)),i=r(a(691)),o=a(327),s=a(1368),l=a(1369),u=a(156),d=a(173),c=function(e){if(e instanceof n.default||e instanceof i.default){e=(0,o.getMessage)(e);if((0,u.getSenderType)(e)!==d.VISITOR)return!1}if((0,s.isVisitorTypingMessage)(e))return!1;var t=(0,u.getType)(e);return Object.keys(l.MessageHistoryConfig).some(function(e){return e===t})};t.isSupportedMessageType=c},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.isVisitorTypingMessage=void 0;var r=a(187),n=a(137),i=function(e){return(0,n.isTypingMessage)(e)&&(0,r.isFromVisitor)(e)};t.isVisitorTypingMessage=i},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.MessageHistoryConfig=void 0;var n,i=r(a(36)),o=a(1370),s=r(a(1371)),l=a(143),u=a(154),d=a(185),c=r(a(1425)),f=r(a(1445)),p=r(a(1452)),m=r(a(1474)),v=r(a(1486)),h=r(a(1489)),g=r(a(1505)),y=a(1508),b=(n={},(0,i.default)(n,d.ACTIVELY_PUBLISHING,p.default),(0,i.default)(n,u.CHAT_MESSAGE,g.default),(0,i.default)(n,l.COMMON_MESSAGE,(0,y.withConsent)(g.default)),(0,i.default)(n,o.DATE_MESSAGE,f.default),(0,i.default)(n,u.EMAIL_CAPTURE_PROMPT,m.default),(0,i.default)(n,d.FAILED_TO_PUBLISH,v.default),(0,i.default)(n,u.INITIAL_MESSAGE,(0,y.withConsent)(h.default)),(0,i.default)(n,u.OFFICE_HOURS,c.default),(0,i.default)(n,u.TYPICAL_RESPONSE_TIME,c.default),(0,i.default)(n,u.TYPING,s.default),n);t.MessageHistoryConfig=b},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.DATE_MESSAGE=t.MESSAGE_TYPE_ID=void 0;var r="@type";t.MESSAGE_TYPE_ID=r;var n="DATE_MESSAGE";t.DATE_MESSAGE=n},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=n(a(1372)),c=a(1385),f=n(a(1386)),p=n(a(1389)),m=a(1390),v=a(1381),h=a(1393),g=n(a(1395)),y=n(a(881)),b=a(156),_=a(173),E=r(a(6)),T=n(a(1402)),C=n(a(1407)),S=n(a(1408)),M=n(a(1409)),I=n(a(1416)),A=n(a(1417)),P=n(a(1418)),x=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.message,a=e.positionDescriptors,r=e.senders,n=(0,b.getSenderId)(t),i=(0,b.getSenderType)(t),o=(0,b.getSenderType)(t)===_.VISITOR,s=(0,m.findSender)(n,i,r),l=(0,v.getData)(s),u=(0,h.isSenderLoading)(s),f=o?c.VISITOR:c.AGENT;return E.default.createElement(T.default,{positionDescriptors:a,use:f},E.default.createElement(I.default,null,E.default.createElement(C.default,null,E.default.createElement(d.default,{sender:l,isLoading:u})),E.default.createElement(A.default,null,E.default.createElement(P.default,{message:t,sender:l,isSenderLoading:u}))),E.default.createElement(S.default,null,E.default.createElement(M.default,null,E.default.createElement(g.default,null))))}}]);return t}(E.PureComponent);x.displayName="TypingIndicatorMessage";x.propTypes={message:(0,y.default)("PubNubMessageRecord").isRequired,positionDescriptors:f.default.isRequired,senders:p.default.isRequired};var O=x;t.default=O;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(76)),d=n(a(78)),c=n(a(881)),f=n(a(1373)),p=a(899),m=n(a(7)),v=r(a(6)),h=n(a(862)),g=n(a(957)),y=n(a(996)),b=a(166),_=a(1381),E=a(1383),T=a(173),C=function(){},S=32,M=(0,h.default)(g.default).withConfig({displayName:"SenderAvatar__StyledUIIcon",componentId:"gawthl-0"})(["width:","px;height:","px;font-size:24px !important;text-align:center;line-height:","px;border-radius:","px;background-color:",";color:",";"],S,S,S,S/2,p.EERIE,p.OLAF),I=function(e){(0,d.default)(t,e);function t(e){var a;(0,i.default)(this,t);(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).handleClick=a.handleClick.bind((0,u.default)(a));return a}(0,o.default)(t,[{key:"handleClick",value:function(){var e=this.props;(0,e.onClick)(e.sender)}},{key:"render",value:function(){var e=this.props,t=e.isLoading,a=e.sender,r=e.size;if(t)return v.default.createElement(f.default,{size:32});if(!a)return v.default.createElement(y.default,{size:r});switch((0,b.getSenderType)(a)){case T.BOT:return v.default.createElement(y.default,{size:r,src:(0,_.getAvatar)(a)||E.mrHubBot});case T.SYSTEM:return v.default.createElement(M,{name:"simpleBot"});default:return v.default.createElement("span",{onClick:this.handleClick},v.default.createElement(y.default,{size:r,src:(0,_.getAvatar)(a)}))}}}]);return t}(v.PureComponent);t.default=I;I.displayName="SenderAvatar";I.propTypes={isLoading:m.default.bool,onClick:m.default.func.isRequired,sender:(0,c.default)("Sender"),size:y.default.propTypes.size};I.defaultProps={onClick:C,size:"sm"};e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(7)),i=r(a(862)),o=r(a(1374)),s=a(1380),l=a(1378),u=(0,i.default)(o.default).withConfig({displayName:"SkeletonCircle",componentId:"sc-1a3tugc-0"})(["border-radius:50%;width:",";height:",";min-width:",";"],function(e){var t=e.size;return(0,l.getSize)(t)},function(e){var t=e.size;return(0,l.getSize)(t)},function(e){var t=e.size;return(0,l.getSize)(t)});u.defaultProps={size:s.CIRCLE_BASE_SIZE};u.propTypes={size:n.default.number};var d=u;t.default=d;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(7)),i=r(a(862)),o=a(1375),s=a(1378),l=a(1379),u=a(1377),d=i.default.div.withConfig({displayName:"SkeletonBase",componentId:"naonl1-0"})(["margin:",";padding:",";",";",";"],function(e){var t=e.margin;return t?(0,s.getSize)(t):void 0},function(e){var t=e.padding;return t?(0,s.getSize)(t):void 0},function(e){var t=e.use;return(0,o.getBackground)({use:t})},function(e){return e.use!==u.BLANK&&l.animation});d.defaultProps={use:u.DEFAULT};d.propTypes={margin:n.default.oneOfType([n.default.number,n.default.string]),padding:n.default.oneOfType([n.default.number,n.default.string]),use:n.default.oneOf([u.DEFAULT,u.SHADE,u.DARK,u.BLANK])};var c=d;t.default=c;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getBackground=void 0;var r=a(1376),n=a(1377),i=function(e){return r.COLOUR_MAPPINGS[e]},o=function(e){var t=e.use;return t===n.BLANK?r.BLANK_BACKGROUND:(0,r.makeGradientBackground)(i(t))};t.getBackground=o},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.makeGradientBackground=t.BLANK_BACKGROUND=t.COLOUR_MAPPINGS=void 0;var n,i=r(a(36)),o=a(899),s=a(1377),l=(n={},(0,i.default)(n,s.DEFAULT,{primary:o.GYPSUM,secondary:o.KOALA}),(0,i.default)(n,s.SHADE,{primary:o.KOALA,secondary:o.GYPSUM}),(0,i.default)(n,s.DARK,{primary:o.HEFFALUMP,secondary:o.SLINKY}),n);t.COLOUR_MAPPINGS=l;var u="\n  background: "+o.OLAF+";\n";t.BLANK_BACKGROUND=u;var d=function(e){var t=e.primary;return"\n  background: "+t+";\n  background: linear-gradient(to right, "+t+", "+e.secondary+" 20%, "+t+" 40%);\n  background-size: 1200px;\n"};t.makeGradientBackground=d},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.DARK=t.SHADE=t.BLANK=t.DEFAULT=void 0;var r="default";t.DEFAULT=r;var n="blank";t.BLANK=n;var i="on-shade";t.SHADE=i;var o="on-dark";t.DARK=o},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getSize=void 0;var r=function(e){return"number"==typeof e},n=function(e){return r(e)?e+"px":e};t.getSize=n},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.animation=void 0;var r=a(862),n="1s",i="linear",o="0s",s="infinite",l="forwards",u=700,d=(0,r.keyframes)(["0%{background-position:-","px 0}100%{background-position:","px 0}"],u,u),c=(0,r.css)(["animation:"," "," "," "," "," ",";"],d,n,i,o,s,l);t.animation=c},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.BOX_BASE_WIDTH=t.BOX_BASE_HEIGHT=t.CIRCLE_BASE_SIZE=void 0;var r=32;t.CIRCLE_BASE_SIZE=r;var n=15;t.BOX_BASE_HEIGHT=n;var i=40;t.BOX_BASE_WIDTH=i},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getNonDefaultSource=t.getDisplayName=t.getStatus=t.getData=t.getSenderType=t.getLastName=t.getId=t.getFirstName=t.getEmail=t.getAvatar=void 0;var n=r(a(287)),i=r(a(159)),o=a(173),s=a(1382),l=(0,i.default)(s.AVATAR);t.getAvatar=l;var u=(0,i.default)(s.EMAIL);t.getEmail=u;var d=(0,i.default)(s.FIRST_NAME);t.getFirstName=d;var c=(0,i.default)(s.ID);t.getId=c;var f=(0,i.default)(s.LAST_NAME);t.getLastName=f;var p=(0,i.default)(s.SENDER_TYPE);t.getSenderType=p;var m=(0,i.default)(s.DATA);t.getData=m;var v=(0,i.default)(s.STATUS);t.getStatus=v;var h=function(e){var t=d(e),a=f(e),r=u(e),i=p(e);return t&&a?t+" "+a:t||(r||(i===o.VISITOR?n.default.text("conversations-message-history.responder.unknownVisitorAvatar"):null))};t.getDisplayName=h;var g=function(e){var t=l(e);return t&&!t.includes("default")?t:null};t.getNonDefaultSource=g},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.STATUS=t.SENDER_TYPE=t.LAST_NAME=t.ID=t.FIRST_NAME=t.EMAIL=t.DATA=t.AVATAR=void 0;var r=["avatar"];t.AVATAR=r;var n=["data"];t.DATA=n;var i=["email"];t.EMAIL=i;var o=["firstName"];t.FIRST_NAME=o;var s=["id"];t.ID=s;var l=["lastName"];t.LAST_NAME=l;var u=["senderType"];t.SENDER_TYPE=u;var d=["status"];t.STATUS=d},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});Object.defineProperty(t,"mrHubBot",{enumerable:!0,get:function(){return n.default}});var n=r(a(1384))},function(e,t){e.exports="//static.hsappstatic.net/salesImages/static-1.407/messages/bot-avatar.svg"},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.VISITOR=t.DEFAULT=t.AGENT=void 0;var r="agent";t.AGENT=r;var n="default";t.DEFAULT=n;var i="visitor";t.VISITOR=i},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(7)),i=a(1387),o=a(1388),s=(0,i.setOf)(n.default.oneOf([o.FIRST,o.FIRST_IN_GROUP,o.LAST_IN_GROUP,o.LAST]));t.default=s;e.exports=t.default},function(e,t,a){"use strict";var r=a(60),n="<<anonymous>>",i={listOf:c,mapOf:p,orderedMapOf:m,setOf:v,orderedSetOf:h,stackOf:g,iterableOf:y,recordOf:b,shape:E,contains:E,mapContains:T,list:l("List",r.List.isList),map:l("Map",r.Map.isMap),orderedMap:l("OrderedMap",r.OrderedMap.isOrderedMap),set:l("Set",r.Set.isSet),orderedSet:l("OrderedSet",r.OrderedSet.isOrderedSet),stack:l("Stack",r.Stack.isStack),seq:l("Seq",r.Seq.isSeq),record:l("Record",function(e){return e instanceof r.Record}),iterable:l("Iterable",r.Iterable.isIterable)};function o(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":e instanceof r.Iterable?"Immutable."+e.toSource().split(" ")[0]:t}function s(e){function t(t,a,r,i,o,s){for(var l=arguments.length,u=Array(l>6?l-6:0),d=6;d<l;d++)u[d-6]=arguments[d];s=s||r;i=i||n;return null!=a[r]?e.apply(void 0,[a,r,i,o,s].concat(u)):t?new Error("Required "+o+" `"+s+"` was not specified in `"+i+"`."):void 0}var a=t.bind(null,!1);a.isRequired=t.bind(null,!0);return a}function l(e,t){function a(a,r,n,i,s){var l=a[r];if(!t(l)){var u=o(l);return new Error("Invalid "+i+" `"+s+"` of type `"+u+"` supplied to `"+n+"`, expected `"+e+"`.")}return null}return s(a)}function u(e,t,a){function r(r,n,i,s,l){for(var u=arguments.length,d=Array(u>5?u-5:0),c=5;c<u;c++)d[c-5]=arguments[c];var f=r[n];if(!a(f)){var p=s,m=o(f);return new Error("Invalid "+p+" `"+l+"` of type `"+m+"` supplied to `"+i+"`, expected an Immutable.js "+t+".")}if("function"!=typeof e)return new Error("Invalid typeChecker supplied to `"+i+"` for propType `"+l+"`, expected a function.");for(var v=f.toArray(),h=0,g=v.length;h<g;h++){var y=e.apply(void 0,[v,h,i,s,l+"["+h+"]"].concat(d));if(y instanceof Error)return y}}return s(r)}function d(e){function t(t,a,r,n,i){for(var o=arguments.length,s=Array(o>5?o-5:0),l=5;l<o;l++)s[l-5]=arguments[l];var u=t[a];if("function"!=typeof e)return new Error("Invalid keysTypeChecker (optional second argument) supplied to `"+r+"` for propType `"+i+"`, expected a function.");for(var d=u.keySeq().toArray(),c=0,f=d.length;c<f;c++){var p=e.apply(void 0,[d,c,r,n,i+" -> key("+d[c]+")"].concat(s));if(p instanceof Error)return p}}return s(t)}function c(e){return u(e,"List",r.List.isList)}function f(e,t,a,r){function n(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return u(e,a,r).apply(void 0,i)||t&&d(t).apply(void 0,i)}return s(n)}function p(e,t){return f(e,t,"Map",r.Map.isMap)}function m(e,t){return f(e,t,"OrderedMap",r.OrderedMap.isOrderedMap)}function v(e){return u(e,"Set",r.Set.isSet)}function h(e){return u(e,"OrderedSet",r.OrderedSet.isOrderedSet)}function g(e){return u(e,"Stack",r.Stack.isStack)}function y(e){return u(e,"Iterable",r.Iterable.isIterable)}function b(e){function t(t,a,n,i,s){for(var l=arguments.length,u=Array(l>5?l-5:0),d=5;d<l;d++)u[d-5]=arguments[d];var c=t[a];if(!(c instanceof r.Record)){var f=o(c);return new Error("Invalid "+i+" `"+s+"` of type `"+f+"` supplied to `"+n+"`, expected an Immutable.js Record.")}for(var p in e){var m=e[p];if(m){var v=c.toObject(),h=m.apply(void 0,[v,p,n,i,s+"."+p].concat(u));if(h)return h}}}return s(t)}function _(e){var t=void 0===arguments[1]?"Iterable":arguments[1],a=void 0===arguments[2]?r.Iterable.isIterable:arguments[2];function n(r,n,i,s,l){for(var u=arguments.length,d=Array(u>5?u-5:0),c=5;c<u;c++)d[c-5]=arguments[c];var f=r[n];if(!a(f)){var p=o(f);return new Error("Invalid "+s+" `"+l+"` of type `"+p+"` supplied to `"+i+"`, expected an Immutable.js "+t+".")}var m=f.toObject();for(var v in e){var h=e[v];if(h){var g=h.apply(void 0,[m,v,i,s,l+"."+v].concat(d));if(g)return g}}}return s(n)}function E(e){return _(e)}function T(e){return _(e,"Map",r.Map.isMap)}e.exports=i},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.LAST=t.LAST_IN_GROUP=t.FIRST_IN_GROUP=t.FIRST=void 0;var r="FIRST";t.FIRST=r;var n="FIRST_IN_GROUP";t.FIRST_IN_GROUP=n;var i="LAST_IN_GROUP";t.LAST_IN_GROUP=i;var o="LAST";t.LAST=o},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(881)),i=r(a(7)),o=r(a(1387)),s=o.default.mapOf(o.default.recordOf({data:(0,n.default)("Sender"),status:i.default.string.isRequired}),(0,n.default)("SenderLocator"));t.default=s;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.findSender=void 0;var n=r(a(134)),i=a(1391),o=(0,n.default)(function(e,t,a){return t?a.get((0,i.buildSenderLocator)(t,e)):null});t.findSender=o},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.buildSenderLocator=void 0;var n=a(173),i=r(a(1392)),o=[n.AGENT,n.BOT,n.SYSTEM,n.VISITOR],s=function(e,t){o.includes(e)||console.warn("buildSenderLocator recevied invalid sender type "+e+" expected one of: "+o);return e===n.VISITOR?(0,i.default)({senderType:n.VISITOR}):(0,i.default)({senderType:e,senderId:t?""+t:null})};t.buildSenderLocator=s},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=(0,a(60).Record)({senderId:null,senderType:null},"SenderLocator");t.default=r;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.isSenderLoading=void 0;var n=r(a(134)),i=a(1381),o=a(1394),s=(0,n.default)(function(e){return!(0,i.getData)(e)&&(0,i.getStatus)(e)===o.STARTED});t.isSenderLoading=s},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.SUCCEEDED=t.STARTED=t.TYPE=void 0;var r="@type";t.TYPE=r;var n="STARTED";t.STARTED=n;var i="SUCCEEDED";t.SUCCEEDED=i},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=t.TypingDotsWrapper=t.Dot=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=a(900),c=r(a(6)),f=r(a(862)),p=a(1396),m=a(1397),v=n(a(1398)),h=(0,f.keyframes)(["25%{background-color:",";}75%{background-color:",";}"],d.LOADING_INACTIVE_COLOR,d.LOADING_INACTIVE_COLOR),g=(0,f.keyframes)(["0%,100%{transform:translateY(0);}25%{transform:translateY(.25em);}50%{transform:translateY(0);}75%{transform:translateY(-.25em);}"]);(0,p.isIE11)()&&(g=(0,f.keyframes)(["0%,100%{top:0;}25%{top:.25em;}50%{top:0}75%{top:-.25em;}"]));var y=f.default.div.withConfig({displayName:"TypingDots__Dot",componentId:"i7c3ap-0"})(["position:relative;background-color:currentColor;color:",";border-radius:50%;height:1em;width:1em;animation:",",",";animation-duration:1s;animation-timing-function:linear;animation-iteration-count:infinite;&:not(:last-child){margin-right:0.75em;}&:nth-child(2){animation-delay:-0.66s;}&:nth-child(3){animation-delay:-0.33s;}"],function(e){return e.color?e.color:d.LOADING_DEFAULT_COLOR},g,h);t.Dot=y;var b=f.default.div.withConfig({displayName:"TypingDots__TypingDotsWrapper",componentId:"i7c3ap-1"})(["display:flex;align-items:center;justify-content:center;height:24px;font-size:8px;width:4.5em;"]);t.TypingDotsWrapper=b;var _=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=(0,m.getWidgetAccent)(this.context);return c.default.createElement(b,null,c.default.createElement(y,{color:e,className:"dot-1"}),c.default.createElement(y,{color:e,className:"dot-2"}),c.default.createElement(y,{color:e,className:"dot-3"}))}}]);return t}(c.Component);_.contextType=v.default;_.displayName="TypingDots";var E=_;t.default=E},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.isIE11=void 0;var r=window.navigator?navigator.userAgent.toLowerCase():"",n=function(){return r.includes("trident/")>=0};t.isIE11=n},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getWidgetAccent=t.getQuickReplyTheme=t.getFileAttachmentTheme=t.getTextColor=t.getMessageSpacing=t.getBorderWidth=t.getBorderRadius=t.getBorderColor=t.getBackgroundColor=t.getAvatarWidth=t.getAlignment=void 0;var n=r(a(145)),i=(0,n.default)("alignItems");t.getAlignment=i;var o=(0,n.default)("avatarWidth");t.getAvatarWidth=o;var s=(0,n.default)("backgroundColor");t.getBackgroundColor=s;var l=(0,n.default)("borderColor");t.getBorderColor=l;var u=(0,n.default)("borderRadius");t.getBorderRadius=u;var d=(0,n.default)("borderWidth");t.getBorderWidth=d;var c=(0,n.default)("messageSpacing");t.getMessageSpacing=c;var f=(0,n.default)("textColor");t.getTextColor=f;var p=(0,n.default)("fileAttachmentTheme");t.getFileAttachmentTheme=p;var m=(0,n.default)("quickReplyTheme");t.getQuickReplyTheme=m;var v=(0,n.default)("widgetAccent");t.getWidgetAccent=v},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=a(6),i=r(a(1399)),o=(0,n.createContext)((0,i.default)());t.default=o;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(1400)),i=a(899),o=a(60),s=r(a(1401)),l=(0,o.Record)({alignItems:"flex-start",avatarWidth:"32px",backgroundColor:i.KOALA,borderColor:i.BATTLESHIP,borderRadius:"4px",borderWidth:"1px",messageSpacing:"8px",textColor:i.HEFFALUMP,fileAttachmentTheme:(0,n.default)(),quickReplyTheme:(0,s.default)(),widgetAccent:i.HEFFALUMP},"Theme");t.default=l;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=(0,a(60).Record)({tileBackgroundColor:"rgba(255, 255, 255, 1)"},"FileAttachmentTheme");t.default=r;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=a(60),n=a(899),i=(0,r.Record)({width:"auto",minHeight:36,borderColor:n.FLINT,whiteSpace:"normal",lineHeight:"1rem",color:n.FLINT},"QuickReplyTheme");t.default=i;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=n(a(1403)),c=n(a(1404)),f=n(a(1386)),p=n(a(7)),m=r(a(6)),v=n(a(862)),h=n(a(1405)),g=n(a(1398)),y=a(1397),b=n(a(1406)),_=a(1407),E=a(1408),T=a(1415),C=a(1416),S=a(1417),M="8px",I=v.default.div.withConfig({displayName:"PrimaryMessage__PrimaryMessageWrapper",componentId:"sc-1oc9g5v-0"})(["display:flex;flex-direction:column;align-items:",";padding-left:",";","{","{width:",";margin-left:-",";margin-right:",";}>:first-child{&","{margin-left:",";}}}","{margin-left:",";}","{margin-left:",";}"],function(e){return e.alignment||"flex-start"},M,C.PrimaryMessageHeaderWrapper,_.PrimaryMessageAvatarWrapper,function(e){return e.avatarWidth},M,M,S.PrimaryMessageHeaderContentWrapper,function(e){return e.avatarWidth},E.PrimaryMessageContentWrapper,function(e){return e.avatarWidth},T.PrimaryMessageFooterWrapper,function(e){return e.avatarWidth}),A=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.children,r=t.className,n=t.positionDescriptors,i=t.use;return a?m.default.createElement(b.default,{themeConfig:this.context,use:i},m.default.createElement(d.default,{positionDescriptors:n,className:r},m.default.createElement(g.default.Consumer,null,function(t){return m.default.createElement(I,{"data-test-id":e.props["data-test-id"],"data-test-use":i,alignment:(0,y.getAlignment)(t),avatarWidth:(0,y.getAvatarWidth)(t)},a)}))):null}}]);return t}(m.PureComponent);t.default=A;A.contextType=h.default;A.displayName="PrimaryMessage";A.propTypes={children:p.default.node,className:p.default.string,"data-test-id":p.default.string,positionDescriptors:f.default,use:c.default};e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(862)).default.div.withConfig({displayName:"SpacingWrapper",componentId:"ufvnhz-0"})(["padding-top:4px;padding-bottom:4px;padding-left:10px;padding-right:10px;width:100%;"]);t.default=n;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(7)),i=a(1385),o=n.default.oneOf([i.DEFAULT,i.AGENT,i.VISITOR]);t.default=o;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=t.defaultThemeConfig=void 0;var n,i=r(a(36)),o=a(899),s=a(6),l=a(1385),u=r(a(1399)),d=(n={},(0,i.default)(n,l.DEFAULT,(0,u.default)()),(0,i.default)(n,l.AGENT,(0,u.default)()),(0,i.default)(n,l.VISITOR,(0,u.default)({backgroundColor:o.CALYPSO_LIGHT,borderColor:o.CALYPSO_MEDIUM,alignment:"flex-end"})),n);t.defaultThemeConfig=d;var c=(0,s.createContext)(d);t.default=c},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=a(1385),o=n(a(1404)),s=n(a(881)),l=n(a(7)),u=r(a(6)),d=n(a(37)),c=n(a(1399)),f=a(1405),p=n(a(1398)),m=function(e){(0,d.default)(void 0===e||"object"==typeof e,"Invalid config type given");e&&Object.values(e).forEach(function(e){(0,d.default)(e instanceof c.default,"All themes in the configuration must be a `Theme` record. Found %s",typeof e)})},v=(0,u.memo)(function(e){var t=e.themeConfig,a=e.use,r=e.children;m(t);t=Object.assign({},f.defaultThemeConfig,t);var n=a?t[a]:t[i.DEFAULT]||(0,c.default)();return u.default.createElement(p.default.Provider,{value:n},r)});v.displayName="ThemeProvider";v.propTypes={children:l.default.node.isRequired,themeConfig:l.default.objectOf((0,s.default)("Theme")),use:o.default};var h=v;t.default=h;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=t.PrimaryMessageAvatarWrapper=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=n(a(7)),c=r(a(6)),f=n(a(862)).default.div.withConfig({displayName:"PrimaryMessageAvatar__PrimaryMessageAvatarWrapper",componentId:"sc-1wukr1t-0"})(["align-items:center;display:flex;flex-shrink:0;justify-items:center;margin-top:35px;"]);t.PrimaryMessageAvatarWrapper=f;var p=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.className;return c.default.createElement(f,{className:a},t)}}]);return t}(c.PureComponent);t.default=p;p.displayName="PrimaryMessageAvatar";p.propTypes={children:d.default.node.isRequired,className:d.default.string}},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=t.PrimaryMessageContentWrapper=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(76)),d=n(a(78)),c=n(a(7)),f=r(a(6)),p=n(a(862)),m=n(a(1398)),v=a(1397),h=a(1409),g=p.default.div.withConfig({displayName:"PrimaryMessageContent__PrimaryMessageContentWrapper",componentId:"sc-11k83ed-0"})(["position:relative;min-height:32px;word-break:break-word;box-sizing:border-box;border-style:solid;border-width:",";border-color:",";background-color:",";color:",";display:inline-flex;align-items:center;flex-direction:column;border-radius:",";","{border-top-style:solid;border-top-width:1px;border-top-color:",";&:first-child{border-top:none;}}max-width:284px;"],function(e){return e.borderWidth},function(e){return e.borderColor},function(e){return e.backgroundColor},function(e){return e.textColor},function(e){return e.borderRadius},h.PrimaryMessageContentSectionWrapper,function(e){return e.borderColor});t.PrimaryMessageContentWrapper=g;var y=function(e){(0,d.default)(t,e);function t(e){var a;(0,i.default)(this,t);(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).state={expanded:!!e.isLastMessage};a.onCollapseButtonClick=a.onCollapseButtonClick.bind((0,u.default)(a));a.expandMessage=a.expandMessage.bind((0,u.default)(a));return a}(0,o.default)(t,[{key:"onCollapseButtonClick",value:function(){this.setState({expanded:!1})}},{key:"expandMessage",value:function(){this.state.expanded||this.setState({expanded:!0})}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.className;return f.default.createElement(g,{className:a,backgroundColor:(0,v.getBackgroundColor)(this.context),borderColor:(0,v.getBorderColor)(this.context),borderRadius:(0,v.getBorderRadius)(this.context),borderWidth:(0,v.getBorderWidth)(this.context),textColor:(0,v.getTextColor)(this.context)},t)}}]);return t}(f.PureComponent);t.default=y;y.contextType=m.default;y.displayName="PrimaryMessageContent";y.propTypes={children:c.default.node,className:c.default.string,isLastMessage:c.default.bool}},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=t.PrimaryMessageContentSectionWrapper=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(76)),d=n(a(78)),c=n(a(7)),f=r(a(6)),p=n(a(862)),m=n(a(1410)),v=n(a(1398)),h=a(1397),g=p.default.div.withConfig({displayName:"PrimaryMessageContentSection__PaddedArea",componentId:"sc-1mdac52-0"})(["padding:8px 16px;"]),y=p.default.div.withConfig({displayName:"PrimaryMessageContentSection__BlockPointerEvents",componentId:"sc-1mdac52-1"})(["pointer-events:",";"],function(e){return e.block?"none":"all"}),b=p.default.div.withConfig({displayName:"PrimaryMessageContentSection__PrimaryMessageContentSectionWrapper",componentId:"sc-1mdac52-2"})(["width:100%;button{width:auto;}"]);t.PrimaryMessageContentSectionWrapper=b;var _=function(e){(0,d.default)(t,e);function t(e){var a;(0,i.default)(this,t);(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).state={expanded:!!e.isLastMessage};a.onCollapseButtonClick=a.onCollapseButtonClick.bind((0,u.default)(a));a.expandMessage=a.expandMessage.bind((0,u.default)(a));return a}(0,o.default)(t,[{key:"onCollapseButtonClick",value:function(){this.setState({expanded:!1})}},{key:"expandMessage",value:function(){this.state.expanded||this.setState({expanded:!0})}},{key:"renderContent",value:function(){var e=this.props,t=e.canExpand,a=e.children,r=this.state.expanded;return t?f.default.createElement(m.default,{gradientColor:(0,h.getBackgroundColor)(this.context),onCollapseButtonClick:this.onCollapseButtonClick,expanded:r,maxHeight:240},f.default.createElement(g,null,f.default.createElement(y,{block:!r},a))):f.default.createElement(g,null,a)}},{key:"render",value:function(){var e=this.props,t=e.canExpand,a=e.children,r=e.className;return f.default.Children.count(a)>0?f.default.createElement(b,{className:r},f.default.createElement("div",{onClick:t?this.expandMessage:function(){},className:"width-100 padding-x-4 padding-y-2"},this.renderContent())):null}}]);return t}(f.PureComponent);t.default=_;_.contextType=v.default;_.displayName="PrimaryMessageContentSection";_.propTypes={canExpand:c.default.bool,children:c.default.node,className:c.default.string,isLastMessage:c.default.bool}},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(4)),i=r(a(5)),o=r(a(75)),s=r(a(77)),l=r(a(78)),u=r(a(287)),d=r(a(862)),c=r(a(7)),f=r(a(6)),p=r(a(864)),m=a(914),v=a(888),h=a(899),g=r(a(1411)),y=a(911),b=r(a(963)),_=r(a(912)),E=r(a(1046)),T=r(a(1047)),C=a(1093),S=a(944),M=r(a(1414)),I=r(a(957)),A=r(a(38)),P=a(1034),x=(0,d.default)(M.default).withConfig({displayName:"UIExpandableText__ExpandableTextOverhang",componentId:"sc-1y91zlz-0"})(["",";"],function(e){return e.scrollable&&"\n    /* Compensate for border on scroll container */\n    right: 1px;\n    bottom: 1px;\n    left: 1px;\n  "});x.propTypes=Object.assign({},M.default.propTypes,{scrollable:c.default.bool.isRequired});x.defaultProps=M.default.defaultProps;var O=function(e){return{maxHeight:e}},R=function(e,t){return null!=t?16*t:e},k=function(e){(0,l.default)(t,e);function t(e){var a;(0,n.default)(this,t);(a=(0,o.default)(this,(0,s.default)(t).call(this,e))).delayedFitToMaxLines=function(){(0,P.cancelSchedulerCallback)(a._timeout);a._timeout=(0,P.requestSchedulerCallback)(a.fitToMaxLines)};a.fitToMaxLines=function(){if(a._el){var e=a.props,t=e.maxHeight,r=e.maxHeightRems,n=a.state,i=n.collapsible,o=n.contentHeight,s=a._el.scrollHeight;o!==s&&a.setState({contentHeight:s});var l=s>R(t,r);i!==l&&a.setState({collapsible:l})}};a.handleExpandButtonClick=function(e){var t=a.props,r=t.onExpandButtonClick,n=t.onExpandedChange;(0,y.callIfPossible)(r,e);n((0,_.default)(!0))};a.handleCollapseButtonClick=function(e){var t=a.props,r=t.onCollapseButtonClick,n=t.onExpandedChange;(0,y.callIfPossible)(r,e);var i=a._el;i.style.maxHeight=i.scrollHeight+"px";n((0,_.default)(!1))};a.handleTextWrapperFocus=function(e){var t=a.props,r=t.expandOnFocus,n=t.onExpandedChange,i=t.toggleable;if(r&&i){if(!(0,m.isPageInKeyboardMode)()&&!/TEXTAREA|INPUT/.test(e.target.tagName))return;n((0,_.default)(!0))}};a.handleTextWrapperTransitionEnd=function(e){var t=a._el;if(e.target===t&&"max-height"===e.propertyName){var r=a.state,n=r.expanded,i=r.fullyExpanded;n&&!i&&a.setState({fullyExpanded:!0})}};a.textWrapperRefCallback=function(e){a._el=e};a.state={contentHeight:null,collapsible:!1,fullyExpanded:!1};a._getStyle=(0,A.default)(O);return a}(0,i.default)(t,[{key:"componentDidMount",value:function(){this.delayedFitToMaxLines();this.startMutationObserver();addEventListener("resize",this.delayedFitToMaxLines);this._el&&this._el.addEventListener("load",this.delayedFitToMaxLines,!0);(0,C.fontsLoaded)()||C.fontsLoadedPromise.then(this.delayedFitToMaxLines)}},{key:"UNSAFE_componentWillUpdate",value:function(){this.stopMutationObserver()}},{key:"componentDidUpdate",value:function(e,t){t.contentHeight===this.state.contentHeight&&t.collapsible===this.state.collapsible&&this.delayedFitToMaxLines();t.collapsible!==this.state.collapsible&&(0,y.callIfPossible)(this.props.onCollapsibleChange,this.state.collapsible);this.startMutationObserver()}},{key:"componentWillUnmount",value:function(){this.stopMutationObserver();(0,P.cancelSchedulerCallback)(this._timeout);removeEventListener("resize",this.delayedFitToMaxLines);this._el&&this._el.removeEventListener("load",this.delayedFitToMaxLines,!0)}},{key:"startMutationObserver",value:function(){if(this._el){this._observer=new MutationObserver(this.delayedFitToMaxLines);this._observer.observe(this._el,{attributes:!0,childList:!0,subtree:!0})}}},{key:"stopMutationObserver",value:function(){if(this._observer){this._observer.disconnect();this._observer=null}}},{key:"render",value:function(){var e=this.props,t=e.buttonAlign,a=e.children,r=e.className,n=e.collapseButtonText,i=e.expandButtonText,o=e.expanded,s=e.fadeOutHeight,l=e.fadeOutHeightRems,u=e.gradientColor,d=e.hideButtonCaret,c=e.maxHeight,m=e.maxHeightRems,v=e.onCollapseButtonClick,y=e.onExpandButtonClick,b=e.Overhang,_=e.scrollable,T=e.toggleable,C=e.use,S=this.state,M=S.collapsible,A=S.contentHeight,P=S.fullyExpanded,x=(0,p.default)(r,"private-expandable-text",_&&"private-expandable-text--scrollable"),O=(0,p.default)("private-expandable-text__toggle-button",_?"align-right":"left"===t&&"align-left"),k=o?A:R(c,m),N=T&&M?f.default.createElement(g.default,{"aria-hidden":o?!v:!y,className:O,onClick:o?this.handleCollapseButtonClick:this.handleExpandButtonClick,use:"link"},_||d?null:f.default.createElement(I.default,{color:h.CALYPSO,name:o?"up":"down"}),(0,E.default)(o?n:i)):null,L="on-dark"===C?h.GYPSUM:h.OLAF;return f.default.createElement("div",{className:"private-expandable-text__container","data-collapsible":M},_&&N,f.default.createElement("div",{className:"private-expandable-text__overhang-wrapper"},f.default.createElement("div",{className:x,onFocus:this.handleTextWrapperFocus,onTransitionEnd:this.handleTextWrapperTransitionEnd,ref:this.textWrapperRefCallback,style:P?null:this._getStyle(k)},a),M&&!o?f.default.createElement(b,{gradientColor:null!=u?u:L,scrollable:_,side:"bottom",size:R(s,l)}):null),!_&&N)}}]);return t}(f.default.Component);k.propTypes={buttonAlign:c.default.oneOf(["left","center"]).isRequired,children:c.default.node.isRequired,collapseButtonText:(0,T.default)(c.default.node).isRequired,expandButtonText:(0,T.default)(c.default.node).isRequired,expanded:c.default.bool,expandOnFocus:c.default.bool.isRequired,fadeOutHeight:c.default.number.isRequired,fadeOutHeightRems:(0,S.hidden)(c.default.number),gradientColor:c.default.string,hideButtonCaret:c.default.bool.isRequired,maxHeight:c.default.number.isRequired,maxHeightRems:(0,S.hidden)(c.default.number),onCollapsibleChange:(0,S.hidden)(c.default.func),onCollapseButtonClick:c.default.func,onExpandButtonClick:c.default.func,onExpandedChange:c.default.func,Overhang:(0,v.getPropType)(x),scrollable:c.default.bool,toggleable:c.default.bool,use:c.default.oneOf(["default","on-dark"])};k.defaultProps={buttonAlign:"center",collapseButtonText:function(){return u.default.text("salesUI.UIExpandableText.collapseButtonText")},expandButtonText:function(){return u.default.text("salesUI.UIExpandableText.expandButtonText")},expanded:!1,expandOnFocus:!0,fadeOutHeight:32,hideButtonCaret:!1,maxHeight:80,Overhang:x,scrollable:!1,toggleable:!0,use:"default"};k.displayName="UIExpandableText";var N=(0,b.default)(k,["expanded"]);t.default=N;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(117));a(914);var o=n(a(864)),s=n(a(287)),l=n(a(7)),u=r(a(6)),d=a(1412),c=n(a(949)),f=n(a(1413)),p=n(a(957)),m=a(952),v=n(a(1031)),h=a(1029),g=a(944),y=n(a(927)),b=a(891),_=n(a(907)),E=a(954),T=a(908),C=n(a(948));(0,m.setupStyledComponents)();var S=function(e){return e&&d.USE_CLASSES[e]?e:"secondary"},M=function(e){var t="",a=0,r=u.Children.toArray(e);return u.Children.map(e,function(e){a+=1;if(null==e)return null;if("string"==typeof e){t+=e;if(r.length<a||"string"!=typeof r[a]){var n=u.default.createElement("span",null,t);t="";return n}return null}return e})},I=function(e,t){return e?u.default.createElement(p.default,Object.assign({},t,{"aria-label":s.default.text("salesUI.UILink.externalTitle"),className:t&&t.className||"private-link--external__icon",name:"externalLink"})):null},A=function(e,t,a,r,n){return e?u.default.createElement(v.default,Object.assign({innerClassName:"private-button__truncate-string",useFlex:!0,fixedChildren:n,tooltip:a||r},t),u.default.createElement("span",null,r)):r},P=function(e){var t=e._useNativeButton,a=e["aria-pressed"],r=(e.active,e.autoFocus),n=e.block,s=e.buttonRef,l=e.children,c=e.className,p=e.disabled,m=e.external,v=e.href,g=e.iconProps,y=e.onClick,_=e.rel,P=e.responsive,x=e.size,O=e.tabIndex,R=e.target,k=e.truncate,N=e.truncateStringProps,L=e.truncateTooltip,w=e.use,F=(0,i.default)(e,["_useNativeButton","aria-pressed","active","autoFocus","block","buttonRef","children","className","disabled","external","href","iconProps","onClick","rel","responsive","size","tabIndex","target","truncate","truncateStringProps","truncateTooltip","use"]),D=(0,f.default)(e),U=D.active,j=D.onMouseDown,B=D.onKeyDown,H=D.onKeyUp,q=D.onBlur;(0,u.useEffect)(function(){r&&v&&s.current.focus()},[]);var W=function(e){if(p){e.preventDefault();e.stopPropagation()}else y&&y(e)},z=function(e){B&&B(e);if(e.target===s.current&&y&&v&&" "===e.key){e.preventDefault();p?e.stopPropagation():y(e)}},G=(0,b.toShorthandSize)(x),V=(0,E.getTabIndex)(p,O),Q=(0,h.getTarget)(m,R),K=S(w);0;var Y=M(l),X=I(m,g),Z=A(k,N,L,Y,X),J="unstyled"===K?(0,o.default)(c,d.USE_CLASSES[K]):(0,o.default)("uiButton private-button",d.USE_CLASSES[K],d.SIZE_CLASSES[G]||d.SIZE_CLASSES.default,c,U&&"private-button--active",n&&"private-button--block",p&&"disabled private-button--disabled",!P&&"private-button--non-responsive",-1===d.LINK_USES.indexOf(K)&&"private-button--non-link"),$=Object.assign({},F,{"aria-disabled":p,className:J,"data-button-use":K,onBlur:q,onClick:W,onKeyDown:z,onKeyUp:H,onMouseDown:j,ref:s,tabIndex:V});if(v){var ee=(0,h.getRel)(_,Q);return(0,h.renderSecurityTaggedLink)(v,u.default.createElement("a",Object.assign({},$,{href:(0,T.getSafeUrl)(v),rel:ee,target:Q}),Z,k||X))}var te=t?"button":C.default;if(!t){$.buttonRef=s;delete $.ref}return u.default.createElement(te,Object.assign({},$,{"aria-pressed":null!=a?a:U||void 0,autoFocus:r,disabled:t?void 0:p,onKeyDown:B}),Z)};P.propTypes={_useNativeButton:l.default.bool,active:(0,g.hidden)(l.default.bool),autoFocus:l.default.bool,"aria-pressed":l.default.bool,block:l.default.bool,buttonRef:y.default,children:l.default.node,disabled:l.default.bool.isRequired,external:l.default.bool.isRequired,hovered:(0,g.hidden)(l.default.bool),href:_.default,iconProps:l.default.object,responsive:l.default.bool.isRequired,rel:l.default.string,size:(0,b.propTypeForSizes)(["xs","sm","md"],["default"]),target:l.default.string,truncate:l.default.bool.isRequired,truncateStringProps:l.default.object,truncateTooltip:l.default.node,type:l.default.oneOf(["button","reset","submit"]).isRequired,use:l.default.oneOf(Object.keys(d.USE_CLASSES)).isRequired};P.defaultProps={_useNativeButton:!0,disabled:!1,external:!1,responsive:!0,size:"md",truncate:!1,type:"button",use:"secondary"};P.displayName="UIButton";var x=(0,c.default)(P);t.default=x;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.LINK_USES=t.USE_CLASSES=t.SIZE_CLASSES=void 0;var r={default:"private-button--default",sm:"private-button--sm",xs:"private-button--xs",md:"private-button--default"};t.SIZE_CLASSES=r;var n={danger:"private-button--destructive",link:"private-button__link","link-danger":"private-button__link private-button__link--danger","link-on-dark":"private-button__link private-button__link--on-dark","link-on-bright":"private-button__link private-button__link--on-bright",primary:"private-button--primary","primary-white":"private-button--primary--white",secondary:"private-button--secondary","secondary-ghost":"private-button--secondary--ghost",tertiary:"private-button--tertiary","tertiary-light":"private-button--tertiary-light","tertiary-extra-light":"private-button--tertiary-extra-light",transparent:"private-button--transparent",unstyled:"private-button--unstyled",form:"private-button--form private-form__control","form-on-dark":"private-button--form private-form__control private-button--form--on-dark"};t.USE_CLASSES=n;var i=["link","link-danger","link-on-dark"];t.LINK_USES=i},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=s;var n=r(a(34)),i=a(6),o=function(e){var t=e.key;return"Enter"===t||" "===t};function s(e){var t=e.active,a=e.onMouseDown,r=e.onKeyDown,s=e.onKeyUp,l=e.onBlur,u=(0,i.useState)(!1),d=(0,n.default)(u,2),c=d[0],f=d[1],p=(0,i.useCallback)(function(e){a&&a(e);f(!0)},[a]),m=(0,i.useCallback)(function(e){r&&r(e);o(e)&&f(!0)},[r]),v=(0,i.useCallback)(function(e){s&&s(e);o(e)&&f(!1)},[s]),h=(0,i.useCallback)(function(e){l&&l(e);f(!1)},[l]);(0,i.useEffect)(function(){if(c){var e=function(){f(!1)};addEventListener("mouseup",e);return function(){removeEventListener("mouseup",e)}}},[c]);return{active:null!=t?t:c,onMouseDown:c?a:p,onKeyDown:c?r:m,onKeyUp:c?v:s,onBlur:c?h:l}}e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(7)),i=r(a(862)),o=a(899),s=a(895),l=function(e){return"top"===e||"bottom"===e},u=i.default.div.withConfig({displayName:"UIOverhang",componentId:"sc-1p1lbb5-0"})(["background-image:",";background-size:",";height:",";width:",";opacity:",";pointer-events:none;position:absolute;top:",";bottom:",";left:",";right:",";"],function(e){var t=e.gradientColor;return"linear-gradient(to "+e.side+", "+(0,s.rgba)(t,0)+", "+t+")"},function(e){var t=e.side,a=e.size;return l(t)?"100% "+a+"px}":a+"px 100%"},function(e){var t=e.side,a=e.size;return l(t)&&a+"px"},function(e){var t=e.side,a=e.size;return!l(t)&&a+"px"},function(e){return e.opacity},function(e){return"bottom"!==e.side&&0},function(e){return"top"!==e.side&&0},function(e){return"right"!==e.side&&0},function(e){return"left"!==e.side&&0});u.propTypes={gradientColor:n.default.string.isRequired,opacity:n.default.number.isRequired,side:n.default.oneOf(["top","bottom","left","right"]).isRequired,size:n.default.number.isRequired};u.defaultProps={gradientColor:o.KOALA,opacity:1,size:14};var d=u;t.default=d;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=t.PrimaryMessageFooterWrapper=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=n(a(7)),c=r(a(6)),f=n(a(862)).default.div.withConfig({displayName:"PrimaryMessageFooter__PrimaryMessageFooterWrapper",componentId:"sc-174dsic-0"})(["display:flex;margin-top:4px;max-width:284px;"]);t.PrimaryMessageFooterWrapper=f;var p=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.className;return c.default.createElement(f,{className:a},t)}}]);return t}(c.PureComponent);t.default=p;p.displayName="PrimaryMessageFooter";p.propTypes={children:d.default.node.isRequired,className:d.default.string}},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=t.PrimaryMessageHeaderWrapper=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=n(a(7)),c=r(a(6)),f=n(a(862)).default.div.withConfig({displayName:"PrimaryMessageHeader__PrimaryMessageHeaderWrapper",componentId:"sc-1eprct-0"})(["display:flex;height:16px;align-items:center;margin-top:4px;margin-bottom:4px;width:100%;"]);t.PrimaryMessageHeaderWrapper=f;var p=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.className;return c.default.createElement(f,{className:a},t)}}]);return t}(c.PureComponent);t.default=p;p.displayName="PrimaryMessageHeader";p.propTypes={children:d.default.node.isRequired,className:d.default.string}},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=t.PrimaryMessageHeaderContentWrapper=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=n(a(7)),c=r(a(6)),f=n(a(862)).default.div.withConfig({displayName:"PrimaryMessageHeaderContent__PrimaryMessageHeaderContentWrapper",componentId:"sc-1wx8wxm-0"})(["margin-left:1px;min-width:0;"]);t.PrimaryMessageHeaderContentWrapper=f;var p=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.className;return c.default.createElement(f,{className:a},t)}}]);return t}(c.PureComponent);t.default=p;p.displayName="PrimaryMessageHeaderContent";p.propTypes={children:d.default.node.isRequired,className:d.default.string}},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=n(a(1419)),c=n(a(881)),f=a(156),p=a(166),m=n(a(7)),v=r(a(6)),h=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.isSenderLoading,a=e.message,r=e.sender,n=(0,f.getTimestamp)(a),i=(0,f.getStatusSource)(a)||(0,p.getType)(a);return v.default.createElement(d.default,{timestamp:n,sender:r,isSenderLoading:t,statusSource:i})}}]);return t}(v.PureComponent);t.default=h;h.displayName="TypingHeaderContent";h.propTypes={isSenderLoading:m.default.bool,message:m.default.oneOfType([(0,c.default)("PubNubMessageRecord"),(0,c.default)("CommonMessage")]).isRequired,sender:(0,c.default)("Sender")};e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3),n=a(14);Object.defineProperty(t,"__esModule",{value:!0});t.default=t.StyledUIIcon=void 0;var i,o=r(a(4)),s=r(a(5)),l=r(a(75)),u=r(a(77)),d=r(a(78)),c=r(a(36)),f=r(a(881)),p=a(474),m=a(154),v=a(173),h=r(a(1420)),g=a(899),y=r(a(7)),b=n(a(6)),_=r(a(862)),E=r(a(1137)),T=r(a(957)),C=r(a(1421)),S=r(a(1422)),M=a(1381),I=a(1424),A=(i={},(0,c.default)(i,m.CHAT_MESSAGE,"messages"),(0,c.default)(i,p.EMAIL,"email"),(0,c.default)(i,p.LIVE_CHAT,"messages"),i),P=(0,_.default)(T.default).withConfig({displayName:"SenderHeaderContent__StyledUIIcon",componentId:"sc-1wywpjp-0"})(["margin:0 6px;color:",";"],g.EERIE);t.StyledUIIcon=P;var x=function(e){(0,d.default)(t,e);function t(){(0,o.default)(this,t);return(0,l.default)(this,(0,u.default)(t).apply(this,arguments))}(0,s.default)(t,[{key:"renderMetadata",value:function(){var e=this.props,t=e.statusSource,a=e.timestamp,r=e.sender,n=t!==m.TYPING&&(0,I.getHistoryFormattedTimestamp)(a);if(!n)return null;var i=(0,M.getSenderType)(r)===v.VISITOR?A[t]:null;return b.default.createElement("span",null,i?b.default.createElement(P,{name:i}):b.default.createElement(C.default,null),n)}},{key:"render",value:function(){var e=this.props,t=e.isSenderLoading,a=e.sender;return t?b.default.createElement(h.default,{width:150}):b.default.createElement(E.default,{use:"help"},b.default.createElement("strong",null,b.default.createElement(S.default,{sender:a})),this.renderMetadata())}}]);return t}(b.PureComponent);x.displayName="SenderHeaderContent";x.propTypes={isSenderLoading:y.default.bool,sender:(0,f.default)("Sender"),statusSource:y.default.string,timestamp:y.default.number};var O=x;t.default=O},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(117)),i=r(a(4)),o=r(a(5)),s=r(a(75)),l=r(a(77)),u=r(a(78)),d=r(a(7)),c=r(a(6)),f=r(a(862)),p=r(a(1374)),m=a(1378),v=f.default.div.withConfig({displayName:"SkeletonText__SkeletonTextWrapper",componentId:"l81tz-0"})(["position:relative;width:",";"],function(e){var t=e.width;return(0,m.getSize)(t)}),h=(0,f.default)(p.default).withConfig({displayName:"SkeletonText__SkeletonTextInner",componentId:"l81tz-1"})(["height:0.75em;left:0;position:absolute;top:50%;transform:translateY(-50%);width:100%;"]),g=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.width,a=(0,n.default)(e,["width"]);return c.default.createElement(v,{width:t},"",c.default.createElement(h,a))}}]);return t}(c.default.PureComponent);g.defaultProps={width:"100%"};g.propTypes={width:d.default.oneOfType([d.default.number,d.default.string])};var y=g;t.default=y;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(6)),i=r(a(862)).default.span.withConfig({displayName:"Separator__SeparatorStyleWrapper",componentId:"sc-1on8uqr-0"})(["margin:0 4px;"]),o=function(){return n.default.createElement(i,null,"")};o.displayName="Separator";var s=o;t.default=s;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=n(a(7)),c=r(a(6)),f=n(a(1005)),p=n(a(881)),m=n(a(1420)),v=n(a(1423)),h=a(173),g=a(1381),y=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"getUnknownSenderText",value:function(){switch((0,g.getSenderType)(this.props.sender)){case h.BOT:return c.default.createElement(f.default,{message:"conversations-message-history.responder.bot"});case h.AGENT:return c.default.createElement(f.default,{message:"conversations-message-history.responder.unknownResponder"});case h.VISITOR:return c.default.createElement(f.default,{message:"conversations-message-history.responder.unknownVisitor"});case h.SYSTEM:return c.default.createElement(f.default,{message:"conversations-message-history.responder.automatic"});default:return c.default.createElement(f.default,{message:"conversations-message-history.responder.unknownSender"})}}},{key:"render",value:function(){var e=this.props,t=e.sender;return e.isLoading?c.default.createElement(m.default,{width:100}):t&&(0,v.default)({givenName:(0,g.getFirstName)(t),familyName:(0,g.getLastName)(t),email:(0,g.getEmail)(t)})||this.getUnknownSenderText()}}]);return t}(c.PureComponent);t.default=y;y.displayName="SenderName";y.propTypes={isLoading:d.default.bool,sender:(0,p.default)("Sender")};e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(462)),i=r(a(461)),o=["de","ja"],s=function(e,t){var a=e.givenName,r=e.familyName,s=e.email,l=t&&t.locale||(0,n.default)();return o.indexOf(l)>=0||!a?(0,i.default)({firstName:a,lastName:r,email:s},t):a};t.default=s;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getHistoryFormattedTimestamp=void 0;var n=r(a(287)),i=function(e){return e?n.default.moment.userTz(e).format("LT"):null};t.getHistoryFormattedTimestamp=i},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=n(a(1426)),c=n(a(287)),f=a(1427),p=n(a(1442)),m=n(a(881)),v=a(156),h=a(1443),g=r(a(6)),y=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=this.props.message;return(0,f.hasTextContent)(e)?(0,h.isDuringOfficeHours)(e)?null:g.default.createElement(d.default,{transparent:!0,labelPadding:"m-y-1"},g.default.createElement(p.default,{"aria-label":c.default.text("conversations-visitor-message-history.systemMessage"),contentText:(0,v.getRichText)(e)||(0,v.getPlainText)(e)})):null}}]);return t}(g.PureComponent);y.displayName="AvailabilityMessage";y.propTypes={message:(0,m.default)("PubNubMessageRecord").isRequired};var b=y;t.default=b;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=t.StyledBorder=void 0;var n,i=r(a(36)),o=r(a(7)),s=r(a(6)),l=r(a(1137)),u=r(a(864)),d=r(a(862)),c=a(899),f=d.default.div.withConfig({displayName:"DashedLabel__StyledBorder",componentId:"sc-1r4x2u8-0"})(["display:flex;flex-grow:1;border:solid 1px ",";"],c.GREAT_WHITE);t.StyledBorder=f;function p(e){var t=e.children,a=e.transparent,r=e["data-test-id"],n=e.labelPadding;return s.default.createElement("div",{className:(0,u.default)("display-flex align-end",n,a&&"justify-center",!n&&"m-y-6"),"data-test-id":r||"dashed-label"},!a&&s.default.createElement(f,{className:"m-bottom-3"}),s.default.createElement("div",{className:"max-100 p-x-4"},s.default.createElement(l.default,{use:"help",className:"m-bottom-1 align-center text-center word-break-break-word flex-column"},t)),!a&&s.default.createElement(f,{className:"m-bottom-3"}))}p.displayName="DashedLabel";p.propTypes=(n={children:o.default.node.isRequired},(0,i.default)(n,"data-test-id",o.default.string),(0,i.default)(n,"transparent",o.default.bool),n);var m=p;t.default=m},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.hasTextContent=void 0;var n=a(681),i=r(a(37)),o=r(a(134)),s=a(156),l=r(a(350)),u=r(a(373)),d=r(a(254)),c=a(1428),f=a(174),p=[d.default,l.default,u.default],m=(0,o.default)(function(e){setTimeout(function(){(0,i.default)(p.some(function(t){return e instanceof t}),"hasTextContent: Unsupported message record type %s supplied",(0,n.getRecordName)(e))},0);var t=(0,f.getHasReplies)(e),a=(0,s.getRichText)(e)||(0,s.getPlainText)(e);return t||Boolean(a&&a.length&&(0,c.getEvaluatedTextContent)(a))});t.hasTextContent=m},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getEvaluatedTextContent=void 0;var n=r(a(134)),i=a(1429),o=(0,n.default)(function(e){if(!e)return null;var t=document.createElement("div");t.innerHTML=(0,i.cleanEmail)(e);document.body.appendChild(t);var a=t.innerText;document.body.removeChild(t);return a});t.getEvaluatedTextContent=o},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.cleanEmail=void 0;var n=r(a(134)),i=a(1430),o=a(1434),s=a(1435),l=a(1436),u=a(1437),d=(0,n.default)(function(e){var t=[i.removeOutlookLineBreaks,l.replaceGmailDivs,o.removeStyles,s.fixImages];return(0,u.sanitizeEmail)(e,t)});t.cleanEmail=d},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.removeOutlookLineBreaks=void 0;var r=a(1431),n=function(e,t){return"p"===t&&e&&e.classList&&e.classList.contains("MsoNormal")&&e.children&&e.children.length},i=function(e){return e&&!e.children.legnth&&"o:p"===e.tagName.toLowerCase()&&e.innerHTML.includes("&nbsp;")},o=function(e){return e&&"span"===e.tagName.toLowerCase()&&i(e.firstElementChild)},s=function(e){return!!e.getElementsByTagName("img").length},l=function e(t){var a=t.node,l=t.node_name;if(n(a,l)){var u=a.firstElementChild;if(i(u)||o(u)){if(s(a)){a.removeChild(u);return e({node:a,node_name:"p"})}return{node:r.secureDocument.createElement("br")}}var d=r.secureDocument.createElement("div");Object.keys(a.attributes).forEach(function(e){var t=a.attributes[e];d.setAttribute(t.nodeName,t.nodeValue)});d.innerHTML=a.innerHTML.trim().replace(/&nbsp;/g,"");return{node:d}}return null};t.removeOutlookLineBreaks=l},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.sanitizeConfig=t.secureDocument=void 0;var r=a(1430),n=a(1432),i=a(1433),o=a(1434),s=a(1435),l=a(1436),u=document.implementation.createHTMLDocument("");t.secureDocument=u;var d={transformers:[r.removeOutlookLineBreaks,n.removeReply,i.removeSignature,o.removeStyles,l.replaceGmailDivs,s.fixImages],dom:u,elements:["b","blockquote","br","caption","cite","code","col","colgroup","dd","dl","dt","em","figure","h1","h2","h3","h4","h5","h6","i","img","li","ol","p","pre","q","small","strike","strong","sub","sup","table","tbody","td","tfoot","th","thead","tr","u","ul","font","div","span","a"],attributes:{__ALL__:["style","align","valign","width","height"],blockquote:["cite"],col:["span"],colgroup:["span"],figure:["style"],ol:["start","type"],q:["cite"],img:["title","alt","src"],table:["summary","bgcolor"],td:["abbr","axis","colspan","rowspan","bgcolor"],th:["abbr","axis","colspan","rowspan","scope","bgcolor"],ul:["type"],font:["size"],a:["href","title"],span:["data-at-mention","data-owner-id","contenteditable","data-email-reply"]},add_attributes:{a:{target:"_blank"}},remove_contents:["script"],protocols:{a:{href:["http","https"]}}};t.sanitizeConfig=d},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.removeReply=t.REPLY_CLASSLIST=void 0;var r=a(1431),n=["gmail_extra","gmail_quote","hs_reply","x_hs_reply_wrap"];t.REPLY_CLASSLIST=n;var i="divRplyFwdMsg",o=function(e,t){return t===i||e&&e.contains&&n.some(function(t){return e.contains(t)})},s=function(e){var t=e.node,a=t.classList,n=t.id,i=t.attributes,s=void 0===i?[]:i;if(o(a,n)){var l=r.secureDocument.createElement("span");Object.keys(s).forEach(function(e){var t=s[e];l.setAttribute(t.nodeName,t.nodeValue)});l.innerHTML="";l.setAttribute("data-email-reply","");return{node:l}}return null};t.removeReply=s},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.removeSignature=t.SIGNATURE_CLASSLIST=void 0;var r=a(1431),n=["hs_signature"];t.SIGNATURE_CLASSLIST=n;var i=function(e){return e&&e.contains&&n.some(function(t){return e.contains(t)})},o=function(e){var t=e.node,a=t.classList,n=t.attributes,o=void 0===n?[]:n;if(i(a)){var s=r.secureDocument.createElement("span");Object.keys(o).forEach(function(e){var t=o[e];s.setAttribute(t.nodeName,t.nodeValue)});s.innerHTML="";s.setAttribute("data-email-signature","");return{node:s}}return null};t.removeSignature=o},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.removeStyles=t.BLACKLISTED_STYLES=void 0;var r=["position","top","bottom","left","right","z-index","clear","float","background-image","white-space"];t.BLACKLISTED_STYLES=r;var n=function(e){var t=e.node;if(t&&t.style&&t.style.length>0&&t.style.removeProperty){r.forEach(function(e){return t.style.removeProperty(e)});return{node:t}}return null};t.removeStyles=n},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.fixImages=void 0;var r=function(e){var t=e.node,a=e.node_name;if(t&&"img"===a&&t.attributes){t.attributes["data-original-height"]&&t.setAttribute("height",t.attributes["data-original-height"].value);t.attributes["data-original-width"]&&t.setAttribute("width",t.attributes["data-original-width"].value);t.attributes["data-full-size-src"]&&t.setAttribute("src",t.attributes["data-full-size-src"].value);return{node:t}}return null};t.fixImages=r},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.replaceGmailDivs=void 0;var r=a(1431),n=function(e){var t=e.node;if("div"===e.node_name&&t&&t.classList&&t.classList.contains("gmail_default")){var a=r.secureDocument.createElement("span");Object.keys(t.attributes).forEach(function(e){var r=t.attributes[e];a.setAttribute(r.nodeName,r.nodeValue)});a.innerHTML=t.innerHTML.trim();return{node:a}}return null};t.replaceGmailDivs=n},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.sanitizeEmail=void 0;var n=r(a(134)),i=a(1438),o=a(1439),s=a(1440),l=a(1431),u=a(1441),d=l.secureDocument.body,c=(0,n.default)(function(e,t){var a=l.secureDocument.createElement("div");try{d.innerHTML=e;var r=Object.assign({},l.sanitizeConfig);r.transformers=t;var n=(0,i.buildSanitizer)(r).clean_node(d).cloneNode(!0);a.appendChild(n);(0,u.removeGmailLineBreak)(a)}catch(e){var c=(0,o.buildError)("Error sanitizing email message: "+e.message,e);(0,s.reportError)(c)}return a.innerHTML});t.sanitizeEmail=c},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.buildSanitizer=void 0;var n=r(a(237)),i=function(e){return new n.default(e)};t.buildSanitizer=i},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.buildError=void 0;var r=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];return Object.assign.apply(Object,[new Error].concat(a,[{message:e}]))};t.buildError=r},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.reportError=void 0;var r=function(e){setTimeout(function(){throw e},0)};t.reportError=r},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.removeGmailLineBreak=void 0;var r=function(e){Array.from(e.querySelectorAll("br + [data-email-reply]")).forEach(function(e){var t=e.previousElementSibling;t&&t.nodeName&&"br"===t.nodeName.toLowerCase()&&t.classList&&t.classList.add("display-none")})};t.removeGmailLineBreak=r},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=t.ContentTextWrapper=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=n(a(7)),c=r(a(6)),f=n(a(862)),p=n(a(235)),m=f.default.div.withConfig({displayName:"ContentText__ContentTextWrapper",componentId:"mn7so3-0"})(["word-wrap:break-word;box-sizing:border-box;width:100%;white-space:pre-wrap;"]);t.ContentTextWrapper=m;var v=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e["aria-label"],a=e.contentText,r=e.onClickAction;return c.default.createElement(m,null,c.default.createElement("div",{"aria-label":t,"data-test-id":"primary-message-content",dangerouslySetInnerHTML:{__html:p.default.formatHtml(a,{shouldPreserveNewlines:!0})},onClick:r}))}}]);return t}(c.PureComponent);t.default=v;v.displayName="ContentText";v.propTypes={"aria-label":d.default.string,contentText:d.default.string.isRequired,onClickAction:d.default.func};v.defaultProps={onClickAction:function(){}}},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.isDuringOfficeHours=void 0;var r=a(1444),n=function(e){return(0,r.getOfficeHoursStartTime)(e)&&(0,r.getOfficeHoursStartTime)(e)-(new Date).getTime()<0};t.isDuringOfficeHours=n},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getOfficeHoursStartTime=void 0;var n=r(a(159)),i=function(e){return(0,n.default)(["metadata","officeHoursStartTime"],e)};t.getOfficeHoursStartTime=i},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=a(1426),i=r(a(1446)),o=a(899),s=r(a(6)),l=r(a(862)).default.div.withConfig({displayName:"DateLabel__StyleWrapper",componentId:"sc-1sxp25a-0"})(["","{border-color:",";}"],n.StyledBorder,o.CIRRUS),u=function(e){return s.default.createElement(l,null,s.default.createElement(i.default,Object.assign({},e,{labelPadding:"m-y-3"})))};u.displayName="DateLabel";u.propTypes=i.default.propTypes;var d=u;t.default=d;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(7)),o=r(a(6)),s=n(a(1426)),l=a(1447),u=a(1450),d=n(a(881)),c=(0,o.memo)(function(e){var t=e.message,a=e.labelPadding,r=(0,u.getTimestamp)(t);return o.default.createElement(s.default,{labelPadding:a},(0,l.getSimpleDateText)(r))});c.displayName="DateLabelMessage";c.propTypes={labelPadding:i.default.string,message:(0,d.default)("DateMessage").isRequired};var f=c;t.default=f;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getSimpleDateText=s;var n=r(a(6)),i=r(a(1448)),o=r(a(1137));function s(e){var t=(0,i.default)(e,"userTz");return n.default.createElement(o.default,{use:"help"},t)}s.displayName="getSimpleDateText"},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(1449)),i=function(e,t){return(0,n.default)({value:e,type:t,format:"MD",length:"m"})};t.default=i;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(287)),i={MY:"i18n.dateTime.monthAndYear",MD:"i18n.dateTime.monthAndDay",QY:"i18n.dateTime.quarterAndYear",WMDY:"i18n.dateTime.weekDayAndMonthAndDayAndYear"},o=function(e){var t=e.value,a=e.type,r=e.format,o=e.length,s=a?n.default.moment[a](t):t,l="",u="",d="";if("s"===o){var c=Object.keys(n.default.translations.en.i18n.dateTime.shortForm.months)[s.month()];l=n.default.text("i18n.dateTime.shortForm.months."+c,{locale:n.default.locale});u=s.format("ddd");d=s.format("ll")}else{l=s.format("MMMM");u=s.format("dddd");d=s.format("LL")}var f={monthName:l,locale:n.default.locale};switch(r){case"MD":f.dayNumber=s.date();break;case"QY":f.quarterNumber=s.quarter();f.yearNumber=s.year().toString();break;case"WMDY":f.weekDay=u;f.fullDate=d;break;default:f.yearNumber=s.year().toString()}return n.default.text(i[r],f)};t.default=o;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getTimestamp=t.getId=void 0;var n=a(1451),i=r(a(159)),o=(0,i.default)(n.ID);t.getId=o;var s=(0,i.default)(n.TIMESTAMP);t.getTimestamp=s},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.TIMESTAMP=t.ID=void 0;var r=["id"];t.ID=r;var n=["timestamp"];t.TIMESTAMP=n},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=a(1388),c=a(1385),f=n(a(1386)),p=n(a(881)),m=a(327),v=n(a(1453)),h=a(60),g=n(a(7)),y=r(a(6)),b=n(a(1137)),_=n(a(1454)),E=n(a(1402)),T=n(a(1415)),C=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.fileAttachments,a=e.message,r=e.positionDescriptors,n=(0,m.getMessage)(a),i=r.includes(d.LAST);return y.default.createElement(E.default,{positionDescriptors:r,use:c.VISITOR},y.default.createElement(_.default,{fileAttachments:t,isLastMessage:i,message:n}),i&&y.default.createElement(T.default,null,y.default.createElement(b.default,{use:"help"},y.default.createElement(v.default,{message:"conversations-visitor-message-history.status.publishing.UNPUBLISHED"}))))}}]);return t}(y.PureComponent);C.displayName="ActivelyPublishingMessage";C.propTypes={fileAttachments:g.default.instanceOf(h.List),message:(0,p.default)("ActivelyPublishing").isRequired,positionDescriptors:f.default.isRequired};var S=C;t.default=S;e.exports=t.default},,function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=n(a(1455)),c=n(a(287)),f=n(a(1456)),p=a(1463),m=a(1427),v=n(a(1442)),h=n(a(881)),g=a(144),y=a(156),b=a(173),_=a(60),E=n(a(7)),T=r(a(6)),C=n(a(862)),S=n(a(1465)),M=r(a(1408)),I=n(a(1409)),A=n(a(1398)),P=a(1397),x=a(1473),O=n(a(239)),R=C.default.div.withConfig({displayName:"CommonMessageContent__HyperlinkStyleWrapper",componentId:"sc-1wp4mjl-0"})([""," a{color:",";text-decoration:",";&:hover{color:",";}&:active{color:",";}}"],M.PrimaryMessageContentWrapper,function(e){return e.hyperlinkColor},function(e){return e.showUnderline?"underline":"inherit"},function(e){var t=e.hyperlinkColor;return t&&(0,x.darken)(t)},function(e){var t=e.hyperlinkColor;return t&&(0,x.darken)(t,.2)}),k=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"isSentFromVisitor",value:function(){return(0,y.getSenderType)(this.props.message)===b.VISITOR}},{key:"isClickableLink",value:function(e){return new RegExp("([a-zA-Z0-9]+://)?([a-zA-Z0-9_]+:[a-zA-Z0-9_]+@)?([a-zA-Z0-9.-]+\\.[A-Za-z]{2,4})(:[0-9]+)?(/.*)?").test(e)}},{key:"handleOnClickEvent",value:function(e){e.persist();"A"===e.target.tagName&&this.props.toggleOpen(!1)}},{key:"renderContentText",value:function(){var e=this.props,t=e.message,a=e.mobile,r=(0,y.getRichText)(t)||(0,y.getPlainText)(t),n=a&&this.isClickableLink(r);if(!r)return null;var i=(0,y.getRichText)(t)&&O.default.link(r,{stripPrefix:!1});return T.default.createElement(v.default,{contentText:i||r,"aria-label":this.isSentFromVisitor()?c.default.text("conversations-visitor-message-history.myMessage"):c.default.text("conversations-visitor-message-history.agentMessage"),onClickAction:n?this.handleOnClickEvent.bind(this):null})}},{key:"renderMessageSection",value:function(){var e=this.props,t=e.fileAttachments,a=e.isLastMessage,r=e.message,n=!(0,g.isEmailCMF)(r)&&t&&(0,p.hasImageAttachments)(t),i=(0,m.hasTextContent)(r);return n||i?T.default.createElement(I.default,{isLastMessage:a},this.renderContentText(),n&&T.default.createElement(f.default,{fileAttachments:t})):null}},{key:"renderAttachmentsSection",value:function(){var e=this.props,t=e.fileAttachments,a=e.message,r=(0,g.isEmailCMF)(a)?t:(0,p.getNonImageAttachments)(t);return r&&r.size?T.default.createElement(I.default,null,T.default.createElement(S.default,{fileAttachments:r})):null}},{key:"render",value:function(){var e=this.renderMessageSection(),t=this.renderAttachmentsSection(),a=this.isSentFromVisitor();return T.default.createElement(R,{showUnderline:a,hyperlinkColor:a&&(0,P.getTextColor)(this.context)},T.default.createElement(M.default,null,e,t,!e&&!t&&T.default.createElement(I.default,null,T.default.createElement(d.default,null)),this.props.quickReplySelect&&this.props.quickReplySelect()))}}]);return t}(T.PureComponent);k.contextType=A.default;k.displayName="CommonMessageContent";k.propTypes={fileAttachments:E.default.instanceOf(_.List),isLastMessage:E.default.bool,message:E.default.oneOfType([(0,h.default)("PubNubMessageRecord"),(0,h.default)("CommonMessage")]).isRequired,mobile:E.default.bool,quickReplySelect:E.default.oneOfType([E.default.bool,E.default.func]),toggleOpen:E.default.func};var N=k;t.default=N;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(1005)),i=r(a(6)),o=function(){return i.default.createElement("i",null,i.default.createElement(n.default,{message:"conversations-message-history.noContent"}))};o.displayName="NoContentLabel";var s=o;t.default=s;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=t.FileAttachmentsWrapper=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=a(60),c=n(a(7)),f=r(a(6)),p=a(10),m=n(a(862)),v=a(1457),h=a(1459),g=a(1461),y=n(a(1462)),b=a(1463),_=300,E=m.default.div.withConfig({displayName:"InlineImageAttachments__FileAttachmentsWrapper",componentId:"k2hctp-0"})(["cursor:pointer;box-sizing:border-box;width:100%;max-width:","px;display:block;margin-bottom:16px;margin-top:8px;"],_);t.FileAttachmentsWrapper=E;var T=function(e){(0,u.default)(t,e);function t(e){var a;(0,i.default)(this,t);(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).state={maxWidth:_};a.wrapperRef=(0,f.createRef)();return a}(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=(0,p.findDOMNode)(this.wrapperRef.current);e&&e.offsetWidth&&e.offsetWidth!==this.state.maxWidth&&this.setState({maxWidth:e.offsetWidth})}},{key:"render",value:function(){var e=this,t=this.props.fileAttachments;return f.default.createElement(E,{ref:this.wrapperRef},(0,b.getImageAttachments)(t).map(function(t,a){var r=(0,v.getFileMetadata)(t),n=(0,g.displayName)(r),i=(0,h.getUrl)(r),o=(0,h.getWidth)(r),s=(0,h.getHeight)(r);return f.default.createElement(y.default,{key:"image-"+a,name:n,url:i,width:o,height:s,maxWidth:e.state.maxWidth})}))}}]);return t}(f.PureComponent);T.displayName="InlineImageAttachments";T.propTypes={fileAttachments:c.default.instanceOf(d.List)};var C=T;t.default=C},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getThumbnailMetadata=t.getFileMetadata=t.getFileId=void 0;var n=r(a(159)),i=a(1458),o=(0,n.default)(i.FILE_ID);t.getFileId=o;var s=(0,n.default)(i.FILE_METADATA);t.getFileMetadata=s;var l=(0,n.default)(i.THUMBNAIL_METADATA);t.getThumbnailMetadata=l},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.THUMBNAIL_METADATA=t.FILE_METADATA=t.FILE_ID=void 0;var r=["fileId"];t.FILE_ID=r;var n=["fileMetadata"];t.FILE_METADATA=n;var i=["thumbnailMetadata"];t.THUMBNAIL_METADATA=i},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getHeight=t.getWidth=t.getSize=t.getType=t.getExtension=t.getName=t.getUrl=t.getExpiresAt=void 0;var n=r(a(159)),i=a(1460),o=(0,n.default)(i.EXPIRES_AT);t.getExpiresAt=o;var s=(0,n.default)(i.URL);t.getUrl=s;var l=(0,n.default)(i.NAME);t.getName=l;var u=(0,n.default)(i.EXTENSION);t.getExtension=u;var d=(0,n.default)(i.TYPE);t.getType=d;var c=(0,n.default)(i.SIZE);t.getSize=c;var f=(0,n.default)(i.WIDTH);t.getWidth=f;var p=(0,n.default)(i.HEIGHT);t.getHeight=p},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.HEIGHT=t.WIDTH=t.SIZE=t.TYPE=t.EXTENSION=t.NAME=t.URL=t.EXPIRES_AT=void 0;var r=["expiresAt"];t.EXPIRES_AT=r;var n=["url"];t.URL=n;var i=["name"];t.NAME=i;var o=["extension"];t.EXTENSION=o;var s=["type"];t.TYPE=s;var l=["fileSize"];t.SIZE=l;var u=["width"];t.WIDTH=u;var d=["height"];t.HEIGHT=d},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.displayName=void 0;var r=a(1459),n=function(e){var t=(0,r.getName)(e),a=(0,r.getExtension)(e);return a?t+"."+a:t};t.displayName=n},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=t.InlineImageAttachmentWrapper=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=n(a(7)),c=r(a(6)),f=n(a(862)),p=n(a(905)),m=n(a(1028)),v=f.default.div.withConfig({displayName:"InlineImageAttachment__InlineImageAttachmentWrapper",componentId:"wg5vw1-0"})(["display:block;max-width:100%;"]);t.InlineImageAttachmentWrapper=v;var h=function(e){(0,u.default)(t,e);function t(e){var a;(0,i.default)(this,t);(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).hasLoadedImage=function(){a.setState({hasLoaded:!0})};a.state={hasLoaded:!1};return a}(0,o.default)(t,[{key:"getDimensions",value:function(){var e=this.props,t=e.maxWidth,a=e.width,r=e.height;return!this.state.hasLoaded&&t&&a&&r?a<=t?{width:a,height:r}:{width:t,height:r*(t/a)}:{}}},{key:"render",value:function(){var e=this.props,t=e.name,a=e.url,r=this.getDimensions(),n=r.width,i=r.height;return c.default.createElement(v,null,c.default.createElement(m.default,{href:a,target:"_blank","data-test-id":"inline-image-attachment"},c.default.createElement(p.default,{alt:t,src:a,width:n,height:i,style:{minHeight:i},onLoad:this.hasLoadedImage})))}}]);return t}(c.PureComponent);h.displayName="InlineImageAttachment";h.propTypes={height:d.default.number,maxWidth:d.default.number,name:d.default.string.isRequired,url:d.default.string.isRequired,width:d.default.number};var g=h;t.default=g},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.hasImageAttachments=t.getNonImageAttachments=t.getImageAttachments=void 0;var r=a(1459),n=a(1457),i=a(1464),o=function(e){return e.filter(function(e){var t=(0,n.getFileMetadata)(e),a=(0,r.getType)(t),o=(0,r.getExtension)(t);return Boolean(a===i.IMG&&"svg"!==o)})};t.getImageAttachments=o;var s=function(e){return e.filter(function(e){var t=(0,n.getFileMetadata)(e),a=(0,r.getType)(t),o=(0,r.getExtension)(t);return Boolean(a!==i.IMG||"svg"===o)})};t.getNonImageAttachments=s;var l=function(e){return e.some(function(e){var t=(0,n.getFileMetadata)(e),a=(0,r.getType)(t),o=(0,r.getExtension)(t);return Boolean(a===i.IMG&&"svg"!==o)})};t.hasImageAttachments=l},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.OTHER=t.AUDIO=t.DOCUMENT=t.MOVIE=t.IMG=void 0;var r="IMG";t.IMG=r;var n="MOVIE";t.MOVIE=n;var i="DOCUMENT";t.DOCUMENT=i;var o="AUDIO";t.AUDIO=o;var s="OTHER";t.OTHER=s},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=t.StyledFileAttachmentTile=t.AttachmentsFooterWrapper=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=n(a(1466)),c=a(1457),f=a(60),p=n(a(7)),m=r(a(6)),v=n(a(862)),h=n(a(1398)),g=a(1397),y=a(1472),b=v.default.div.withConfig({displayName:"AttachmentsFooter__AttachmentsFooterWrapper",componentId:"sc-1c1lxw6-0"})(["cursor:pointer;box-sizing:border-box;display:block;background-color:",";"],function(e){return e.backgroundColor});t.AttachmentsFooterWrapper=b;var _=(0,v.default)(d.default).withConfig({displayName:"AttachmentsFooter__StyledFileAttachmentTile",componentId:"sc-1c1lxw6-1"})(["background-color:",";"],function(e){return e.backgroundColor||"rgba(255, 255, 255, 0.5)"});t.StyledFileAttachmentTile=_;var E=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=this,t=this.props.fileAttachments;return m.default.createElement(b,{backgroundColor:(0,g.getBackgroundColor)(this.context)},t.map(function(t,a){return m.default.createElement(_,{key:a,fileMetadata:(0,c.getFileMetadata)(t),backgroundColor:(0,y.getTileBackgroundColor)((0,g.getFileAttachmentTheme)(e.context))})}))}}]);return t}(m.PureComponent);E.contextType=h.default;E.displayName="AttachmentsFooter";E.propTypes={fileAttachments:p.default.instanceOf(f.List).isRequired};var T=E;t.default=T},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=t.FileAttachmentTileWrapper=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=n(a(881)),c=a(1464),f=a(1461),p=a(1459),m=n(a(1135)),v=r(a(6)),h=n(a(862)),g=n(a(1136)),y=n(a(905)),b=n(a(1028)),_=n(a(1467)),E=a(1470),T=a(1471),C=h.default.div.withConfig({displayName:"FileAttachmentTile__FileAttachmentTileWrapper",componentId:"sc-14spfm2-0"})(["max-width:300px;"]);t.FileAttachmentTileWrapper=C;var S=(0,h.default)(g.default).withConfig({displayName:"FileAttachmentTile__StyledFileAttachment",componentId:"sc-14spfm2-1"})(["background-color:",";"],function(e){return e.backgroundColor||"rgba(255, 255, 255, 0.5)"}),M=h.default.div.withConfig({displayName:"FileAttachmentTile__TruncateString",componentId:"sc-14spfm2-2"})(["white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"]),I=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=this.props.fileMetadata,t=(0,f.displayName)(e),a=(0,p.getUrl)(e),r=(0,p.getSize)(e),n=(0,p.getType)(e),i=(0,p.getExtension)(e),o=n===c.IMG&&"svg"!==i;return v.default.createElement(C,null,v.default.createElement(b.default,{href:a,target:"_blank",use:"unstyled"},v.default.createElement(S,{className:"m-x-3 m-y-2",backgroundColor:(0,E.getTileBackgroundColor)((0,T.getFileAttachmentTheme)(this.context)),fileName:v.default.createElement(M,null,t),fileInfo:v.default.createElement(m.default,{value:r}),size:"small",renderPreview:o?function(){return v.default.createElement(y.default,{alt:t,shape:"thumbnail",src:a})}:void 0})))}}]);return t}(v.PureComponent);I.contextType=_.default;I.displayName="FileAttachmentTile";I.propTypes={fileMetadata:(0,d.default)("FileMetadataRecord").isRequired};var A=I;t.default=A},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=a(6),i=r(a(1468)),o=(0,n.createContext)((0,i.default)());t.default=o;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=a(899),i=a(60),o=r(a(1400)),s=r(a(1469)),l=(0,i.Record)({alignItems:"flex-start",avatarWidth:"32px",backgroundColor:n.KOALA,borderColor:n.BATTLESHIP,borderRadius:"4px",borderWidth:"1px",messageSpacing:"8px",textColor:n.OBSIDIAN,fileAttachmentTheme:(0,o.default)(),quickReplyTheme:(0,s.default)(),headerBackgroundColor:n.OLAF,headerTextColor:n.OBSIDIAN,avatarBackgroundColor:n.BATTLESHIP,avatarBorderColor:n.BATTLESHIP,avatarTextColor:n.OBSIDIAN},"Theme");t.default=l;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=a(60),n=a(899),i=(0,r.Record)({width:"auto",minHeight:36,borderColor:n.FLINT,whiteSpace:"normal",lineHeight:"1rem",color:n.FLINT},"QuickReplyTheme");t.default=i;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getTileBackgroundColor=void 0;var n=(0,r(a(145)).default)("tileBackgroundColor");t.getTileBackgroundColor=n},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getHeaderTextColor=t.getAvatarBorderColor=t.getAvatarTextColor=t.getHeaderBackgroundColor=t.getAvatarBackgroundColor=t.getQuickReplyTheme=t.getFileAttachmentTheme=t.getTextColor=t.getMessageSpacing=t.getBorderWidth=t.getBorderRadius=t.getBorderColor=t.getBackgroundColor=t.getAvatarWidth=t.getAlignment=void 0;var n=r(a(145)),i=(0,n.default)("alignItems");t.getAlignment=i;var o=(0,n.default)("avatarWidth");t.getAvatarWidth=o;var s=(0,n.default)("backgroundColor");t.getBackgroundColor=s;var l=(0,n.default)("borderColor");t.getBorderColor=l;var u=(0,n.default)("borderRadius");t.getBorderRadius=u;var d=(0,n.default)("borderWidth");t.getBorderWidth=d;var c=(0,n.default)("messageSpacing");t.getMessageSpacing=c;var f=(0,n.default)("textColor");t.getTextColor=f;var p=(0,n.default)("fileAttachmentTheme");t.getFileAttachmentTheme=p;var m=(0,n.default)("quickReplyTheme");t.getQuickReplyTheme=m;var v=(0,n.default)("avatarBackgroundColor");t.getAvatarBackgroundColor=v;var h=(0,n.default)("headerBackgroundColor");t.getHeaderBackgroundColor=h;var g=(0,n.default)("avatarTextColor");t.getAvatarTextColor=g;var y=(0,n.default)("avatarBorderColor");t.getAvatarBorderColor=y;var b=(0,n.default)("headerTextColor");t.getHeaderTextColor=b},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getTileBackgroundColor=void 0;var n=(0,r(a(145)).default)("tileBackgroundColor");t.getTileBackgroundColor=n},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.darken=t.lighten=t.convertToHsl=t.getRGB=void 0;var r=/^rgb/i,n=function(e){var t,a,n;try{if(r.test(e)){var i=e.match(/(\d+)\D+(\d+)\D+(\d+)/);t=parseInt(i[1],10);a=parseInt(i[2],10);n=parseInt(i[3],10)}else{var o=e.toLowerCase().replace(/^#/,"");3===o.length&&(o=o.replace(/([0-9a-f])/g,"$1$1"));t=parseInt(o.substring(0,2),16);a=parseInt(o.substring(2,4),16);n=parseInt(o.substring(4,6),16)}if([t,a,n].some(isNaN))return{}}catch(e){return{}}return{r:t,g:a,b:n}};t.getRGB=n;var i=function(e){var t=n(e),a=t.r,r=t.g,i=t.b;if([a,r,i].some(isNaN))return{hue:0,saturation:0,lightness:0};var o,s=a/255,l=r/255,u=i/255,d=Math.max(s,l,u),c=Math.min(s,l,u),f=(d+c)/2,p=d-c;if(0===p)return{hue:0,saturation:0,lightness:f};var m=f>.5?p/(2-d-c):p/(d+c);switch(d){case s:o=(l-u)/p+(l<u?6:0);break;case l:o=(u-s)/p+2;break;default:o=(s-l)/p+4}o*=60;return{hue:o=Math.round(o),saturation:m,lightness:f}};t.convertToHsl=i;var o=function(e){var t=e<0?0:e>1?1:e;return Math.round(100*t)+"%"},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,a=i(e),r=a.hue,n=a.saturation,s=a.lightness;return"hsl("+[r,o(n),o(s+t)].join(", ")+")"};t.lighten=s;var l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;return s(e,-t)};t.darken=l},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(1475)),i=a(13),o=a(878),s=a(1482),l=a(1484),u=a(1485),d=a(452),c=a(1182),f=a(1243),p=function(e){return{coloring:(0,o.getColoring)(e),companyName:(0,u.getCompanyName)(e),consentToCommunicateMessage:(0,l.getConsentToCommunicateMessage)(e),hasVisitorEmail:(0,d.getHasVisitorEmail)(e),requiresConsentToCommunicate:(0,s.shouldRequireConsentToCommunicate)(e),threadId:(0,f.getCurrentThreadId)(e)}},m={sendVisitorEmailAddress:c.sendVisitorEmailAddress},v=(0,i.connect)(p,m)(n.default);t.default=v;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=t.ErrorMessage=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(76)),d=n(a(78)),c=a(1385),f=n(a(287)),p=n(a(1442)),m=n(a(1386)),v=n(a(881)),h=a(156),g=a(1052),y=n(a(1453)),b=n(a(1347)),_=n(a(7)),E=r(a(6)),T=n(a(862)),C=n(a(1476)),S=n(a(1478)),M=a(899),I=n(a(1402)),A=n(a(1408)),P=n(a(1409)),x=T.default.span.withConfig({displayName:"EmailCapturePromptMessage__ErrorMessage",componentId:"jv7jvp-0"})(["color:",";font-size:12px;line-height:18px;text-align:left;margin-top:9px;display:flex;"],M.CANDY_APPLE);t.ErrorMessage=x;var O=/\s|@.{0,}@/,R=function(e){(0,d.default)(t,e);function t(e){var a;(0,i.default)(this,t);(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).onConsentChange=function(){a.setState({hasConsentedToCommunicate:!a.state.hasConsentedToCommunicate})};a.state={email:"",emailError:!1,hasConsentedToCommunicate:!1,submitting:!1,submitFailure:!1};a.handleChange=a.handleChange.bind((0,u.default)(a));a.handleKeyPress=a.handleKeyPress.bind((0,u.default)(a));a.handleSubmit=a.handleSubmit.bind((0,u.default)(a));return a}(0,o.default)(t,[{key:"handleChange",value:function(e){this.setState({email:e.target.value,emailError:!1,submitFailure:!1})}},{key:"handleKeyPress",value:function(e){var t=13;e.which===t&&this.handleSubmit()}},{key:"handleSubmit",value:function(){var e=this,t=this.props,a=t.sendVisitorEmailAddress,r=t.threadId,n=this.state,i=n.email,o=n.hasConsentedToCommunicate,s=i.trim();b.default.test(s)&&!s.match(O)?this.setState({submitting:!0},function(){a({email:s,consentToCommunicate:o,threadId:r}).then(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).error;e.setState({submitting:!1,submitFailure:Boolean(t)})}).done()}):this.setState({emailError:!0})}},{key:"getValidationMessage",value:function(){switch(!0){case this.state.emailError:return E.default.createElement(y.default,{message:"conversations-visitor-message-history.email-capture.invalid"});case this.state.submitFailure:return E.default.createElement(y.default,{message:"conversations-visitor-message-history.email-capture.failed"});default:return null}}},{key:"renderConsentSection",value:function(){var e=this.props,t=e.companyName,a=e.consentToCommunicateMessage,r=e.hasVisitorEmail;return!e.requiresConsentToCommunicate||r?null:E.default.createElement(P.default,{key:"email-prompt-content-section"},E.default.createElement(C.default,{message:a,companyName:t,consentToCommunicate:this.state.hasConsentedToCommunicate,onChange:this.onConsentChange}))}},{key:"renderCaptureSection",value:function(){var e=this.props,t=e.coloring,a=e.message,r=this.state,n=r.email,i=r.submitting,o=this.getValidationMessage();return E.default.createElement(P.default,{key:"email-prompt-capture-section"},E.default.createElement(p.default,{"aria-label":f.default.text("conversations-visitor-message-history.agentMessage"),contentText:(0,h.getPlainText)(a)}),E.default.createElement(S.default,{disabled:!n,error:Boolean(o),submitting:i,value:n,onChange:this.handleChange,onKeyPress:this.handleKeyPress,buttonColor:(0,g.getAccentColor)(t),onSubmit:this.handleSubmit}),E.default.createElement(x,null,o))}},{key:"renderContent",value:function(){return this.props.hasVisitorEmail?E.default.createElement(P.default,null,E.default.createElement(y.default,{"data-test-id":"email-capture-success",message:"conversations-visitor-message-history.email-capture.thanks"})):[this.renderCaptureSection(),this.renderConsentSection()]}},{key:"render",value:function(){var e=this.props.positionDescriptors;return E.default.createElement(I.default,{positionDescriptors:e,use:c.AGENT},E.default.createElement(A.default,null,this.renderContent()))}}]);return t}(E.PureComponent);R.displayName="EmailCapturePromptMessage";R.propTypes={coloring:(0,v.default)("ColoringRecord").isRequired,companyName:_.default.string,consentToCommunicateMessage:_.default.string,hasVisitorEmail:_.default.bool.isRequired,message:(0,v.default)("PubNubMessageRecord").isRequired,positionDescriptors:m.default.isRequired,requiresConsentToCommunicate:_.default.bool,sendVisitorEmailAddress:_.default.func.isRequired,threadId:_.default.number.isRequired};var k=R;t.default=k},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(6)),i=r(a(7)),o=r(a(862)),s=r(a(287)),l=r(a(1294)),u=r(a(1137)),d=a(899),c=a(235),f=r(a(1477)),p=(0,o.default)(u.default).withConfig({displayName:"ConsentToCommunicate__SmallNoParagraphPadding",componentId:"fkytdg-0"})(["p{margin-bottom:0;}"]),m=function(e){var t=e.message,a=e.companyName,r=e.consentToCommunicate,i=e.onChange,o=(0,c.formatHtml)(t)||s.default.text("conversations-visitor-message-history.email-capture.consentToCommunicate",{accountName:a});return n.default.createElement(l.default,{size:"small",value:r,onChange:i},n.default.createElement(p,{tagName:"span",style:{color:d.FLINT}},n.default.createElement(f.default,null,n.default.createElement("span",{dangerouslySetInnerHTML:{__html:o}}))))};m.displayName="ConsentToCommunicate";m.propTypes={companyName:i.default.string,consentToCommunicate:i.default.bool.isRequired,message:i.default.string.isRequired,onChange:i.default.func.isRequired};var v=m;t.default=v;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=l;var n=r(a(117)),i=r(a(7)),o=r(a(6)),s=r(a(864));function l(e){var t=e.children,a=e.className,r=e.hyphenate,i=(0,n.default)(e,["children","className","hyphenate"]);return o.default.createElement("span",Object.assign({},i,{className:(0,s.default)("private-break-string",a,r?"private-break-string--hyphenate":"private-break-string--no-hyphenate")}),t)}l.propTypes={children:i.default.node.isRequired,hyphenate:i.default.bool};l.defaultProps={hyphenate:!0};l.displayName="UIBreakString";e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(287)),i=r(a(6)),o=r(a(7)),s=r(a(862)),l=r(a(1138)),u=r(a(1140)),d=r(a(1479)),c=r(a(1480)),f=r(a(957)),p=r(a(1481)),m=a(899),v=20,h=(0,s.default)(c.default).withConfig({displayName:"EmailCaptureInput__StyledTextInput",componentId:"sc-21umo-0"})(["::placeholder{font-size:",";}"],function(e){return e.placeholder.length>v?"14px":void 0}),g=(0,s.default)(l.default).withConfig({displayName:"EmailCaptureInput__StyledUIMedia",componentId:"sc-21umo-1"})(["background-color:",";border-radius:3px;border:1px solid ",";"],m.OLAF,m.BATTLESHIP),y=(0,s.default)(p.default).withConfig({displayName:"EmailCaptureInput__StyledUILoadingButton",componentId:"sc-21umo-2"})(["padding:0 !important;margin:4px;display:flex !important;align-items:center;justify-content:center;width:32px !important;height:32px !important;"]),b={buttonColor:o.default.string.isRequired,disabled:o.default.bool,email:o.default.string,error:o.default.bool,locale:o.default.string,onChange:o.default.func.isRequired,onKeyPress:o.default.func.isRequired,onSubmit:o.default.func,submitting:o.default.bool.isRequired},_=function(e){var t=e.buttonColor,a=e.disabled,r=e.email,o=e.error,s=e.onChange,l=e.onKeyPress,c=e.onSubmit,p=e.submitting,v=e.locale,b={backgroundColor:p?void 0:t,borderColor:p?void 0:t};return i.default.createElement(g,{"data-test-id":"email-capture-input-container"},i.default.createElement(u.default,{className:"display-flex align-center"},i.default.createElement(h,{"aria-label":n.default.text("conversations-visitor-message-history.email-capture.placeholderText",{locale:v}),styled:!1,value:r,placeholder:n.default.text("conversations-visitor-message-history.email-capture.placeholderText",{locale:v}),onChange:s,onKeyPress:l})),i.default.createElement(d.default,null,i.default.createElement(y,{"aria-label":n.default.text("conversations-visitor-message-history.email-capture.sendEmail",{locale:v}),"data-test-id":"email-capture-submit-button",disabled:a,failed:o,style:b,onClick:c,loading:p,use:p?"tertiary-light":"primary-white",color:m.OLAF,spinnerProps:{style:{width:"100%",height:"100%"}},resultIcon:"success"},i.default.createElement(f.default,{color:m.OLAF,name:"send"}))))};_.displayName="EmailCaptureInput";_.propTypes=b;var E=_;t.default=E;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=l;var n=r(a(117)),i=r(a(7)),o=r(a(6)),s=r(a(864));function l(e){var t=e.className,a=(0,n.default)(e,["className"]);return o.default.createElement("div",Object.assign({},a,{className:(0,s.default)("private-media__item private-media__item--right",t)}))}l.displayName="UIMediaRight";l.propTypes={children:i.default.node};e.exports=t.default},,function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(117)),i=r(a(4)),o=r(a(5)),s=r(a(75)),l=r(a(77)),u=r(a(78)),d=r(a(7)),c=r(a(6)),f=r(a(864)),p=r(a(530)),m=r(a(1411)),v=r(a(1045)),h=a(911),g=a(1412),y=function(e){(0,u.default)(t,e);function t(e){var a;(0,i.default)(this,t);(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).UNSAFE_componentWillReceiveProps=function(e){var t=a.props.loading,r=e.failed,n=e.loading,i=null!=e.resultIcon&&!r&&t&&!n;n!==t&&a.setState({isLoading:n,displayResult:i})};a.UNSAFE_componentWillUpdate=function(e,t){var r=e.duration,n=a.state.isLoading,i=t.isLoading;if(r&&(!n&&i)){clearTimeout(a.loadingTimeout);a.loadingTimeout=setTimeout(a.handleLoadingFinish,r)}};a.handleLoadingFinish=function(){var e=a.props,t=e.failed,r=null!=e.resultIcon&&!t;a.setState({isLoading:!1,displayResult:r});r||a.setDisplayResult()};a.setDisplayResult=function(){var e=a.props,t=e.onLoadingFinish,r=e.keepResultAfterFinish;a.setState({displayResult:r});t()};a.handleClick=function(e){var t=a.props,r=t.duration,n=t.onClick,i=t.preventClicksOnLoading,o=a.state,s=o.displayResult,l=o.isLoading;if(i&&(l||s))e.preventDefault();else{(0,h.callIfPossible)(n,e);e.defaultPrevented||!l&&r&&a.setState({isLoading:!0})}};var r=e.loading;a.state={displayResult:!1,isLoading:r||!1};return a}(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.duration,t=this.state.isLoading;e&&t&&(this.loadingTimeout=setTimeout(this.handleLoadingFinish,e))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.loadingTimeout)}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.className,r=e.disabled,i=(e.duration,e.failed),o=(e.loading,e.onClick,e.onLoadingFinish,e.preventClicksOnLoading,e.keepResultAfterFinish,e.resultIcon),s=e.size,l=e.spinnerProps,u=e.truncateTooltip,d=e.use,p=(0,n.default)(e,["children","className","disabled","duration","failed","loading","onClick","onLoadingFinish","preventClicksOnLoading","keepResultAfterFinish","resultIcon","size","spinnerProps","truncateTooltip","use"]),h=this.state,y=h.isLoading,b=h.displayResult,_=r&&!y&&!b;return c.default.createElement(m.default,Object.assign({},p,{size:s,use:d,"data-loading":y,disabled:_,className:(0,f.default)("private-loading-button",a,g.USE_CLASSES[d],(y||b)&&"loading private-loading-button--loading"),onClick:this.handleClick,truncateTooltip:u||t}),c.default.createElement("span",{className:"private-loading-button__content private-button--internal-spacing"},t),c.default.createElement(v.default,Object.assign({},l,{className:"private-loading-button__spinner","data-loading":null,failed:i,use:d,size:s,resultIcon:o,showResult:b,onResultDisplayFinish:this.setDisplayResult})))}}]);return t}(c.default.Component);t.default=y;y.propTypes=Object.assign({},m.default.propTypes,{failed:v.default.propTypes.failed,size:v.default.propTypes.size,use:v.default.propTypes.use,duration:d.default.number,loading:d.default.bool,resultIcon:v.default.propTypes.resultIcon,onLoadingFinish:d.default.func,spinnerProps:d.default.object,preventClicksOnLoading:d.default.bool,keepResultAfterFinish:d.default.bool});y.defaultProps=Object.assign({},m.default.defaultProps,{failed:v.default.defaultProps.failed,onLoadingFinish:p.default,preventClicksOnLoading:!0,keepResultAfterFinish:!1,resultIcon:v.default.defaultProps.resultIcon,size:"medium",use:"secondary"});y.displayName="UILoadingButton";e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.shouldRequireConsentToCommunicate=void 0;var r=a(189),n=a(1483),i=a(191),o=(0,r.createSelector)([i.getLatestWidgetData],function(e){return(0,n.gdprConsentToCommunicateEnabled)(e)});t.shouldRequireConsentToCommunicate=o},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.gdprConsentToCommunicateEnabled=void 0;var n=r(a(161)),i=a(278),o=a(196),s=(0,n.default)(i.getMessage,o.getGdprConsentToCommunicateEnabled);t.gdprConsentToCommunicateEnabled=s},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getConsentToCommunicateMessage=void 0;var r=a(189),n=a(278),i=a(191),o=(0,r.createSelector)(i.getLatestWidgetData,function(e){return(0,n.getConsentToCommunicateMessage)(e)});t.getConsentToCommunicateMessage=o},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getCompanyName=void 0;var n=a(189),i=r(a(145)),o=a(191),s=(0,n.createSelector)(o.getLatestWidgetData,(0,i.default)("companyName"));t.getCompanyName=s},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(1487)),i=a(13),o={onRepublish:a(1113).republishMessage},s=(0,i.connect)(null,o)(n.default);t.default=s;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=a(1385),c=n(a(1386)),f=n(a(1488)),p=n(a(881)),m=a(327),v=a(60),h=n(a(7)),g=r(a(6)),y=n(a(1454)),b=n(a(1402)),_=n(a(1415)),E=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.fileAttachments,a=e.message,r=e.onRepublish,n=e.positionDescriptors,i=(0,m.getMessage)(a);return g.default.createElement(b.default,{positionDescriptors:n,use:d.VISITOR},g.default.createElement(y.default,{fileAttachments:t,isLastMessage:!0,message:i}),g.default.createElement(_.default,null,g.default.createElement(f.default,{message:i,onRepublish:r})))}}]);return t}(g.PureComponent);E.displayName="FailedToPublishMessage";E.propTypes={fileAttachments:h.default.instanceOf(v.List),message:(0,p.default)("FailedToPublish").isRequired,onRepublish:h.default.func.isRequired,positionDescriptors:c.default.isRequired};var T=E;t.default=T;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(7)),i=r(a(6)),o=r(a(1453)),s=r(a(1137)),l=r(a(1028)),u=r(a(957)),d=function(e){var t=e.message,a=e.onRepublish;return i.default.createElement(s.default,{use:"error"},i.default.createElement(u.default,{name:"warning",className:"m-right-1"}),i.default.createElement(l.default,{use:"danger",onClick:function(){return a(t)}},i.default.createElement(o.default,{message:"conversations-message-history.status.publishing.PUBLISH_FAILED"})))};d.displayName="FailedToPublishMessageText";d.propTypes={message:n.default.object.isRequired,onRepublish:n.default.func.isRequired};var c=d;t.default=c;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(1490)),i=a(13),o=a(594),s=a(979),l=a(583),u=a(1346),d=a(1504),c=a(469),f=function(e){var t=(0,c.getSelectedThread)(e);return{chatHeadingConfig:(0,s.getChatHeadingConfig)(e),sendFromResponders:(0,l.getSendFromResponders)(e),hasUnansweredQuickReplyMessage:(0,d.hasUnansweredQuickReplyMessage)(e,{thread:t}),isThreadStarted:(0,o.isStarted)(t)}},p={publishMessage:u.publishVisitorMessage},m=(0,i.connect)(f,p)(n.default);t.default=m;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=n(a(7)),c=r(a(6)),f=a(60),p=n(a(287)),m=n(a(1005)),v=n(a(1389)),h=a(1385),g=n(a(239)),y=n(a(1442)),b=n(a(1386)),_=a(1390),E=a(1381),T=a(1388),C=n(a(881)),S=a(156),M=a(162),I=a(173),A=a(166),P=a(1491),x=a(409),O=n(a(1402)),R=n(a(1408)),k=n(a(1409)),N=n(a(1416)),L=n(a(1415)),w=n(a(1492)),F=n(a(1496)),D=a(1497),U=n(a(1498)),j=n(a(1499)),B=function(e){(0,u.default)(t,e);function t(e){var a;(0,i.default)(this,t);(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).handleQuickReplySend=function(){var e=a.props,t=e.message,r=e.publishMessage,n=a.state.selectedQuickReply;r({text:(0,P.getOptionLabel)(n),quickReply:(0,x.getQuickReply)(t).set("quickReplies",[n])})};a.handleQuickReplySelect=function(e){var t=e.target.value,r=a.props.message,n=(0,x.getQuickReplyReplies)(r).filter(function(e){return(0,P.getOptionValue)(e)===t}).first();a.setState({selectedQuickReply:n})};a.showQuickReplySelection=function(){var e=a.props.message,t=(0,x.getQuickReplyReplies)(e),r=(0,x.getQuickReplyAllowMultiSelect)(e);return a.showQuickReplies()&&t.count()>D.MAX_QUICK_REPLY_BUTTONS&&!r};a.renderQuickReplySelect=function(){var e=a.props,t=e.message,r=e.isThreadStarted,n=e.requiresExplicitConsentToProcess,i=a.state.selectedQuickReply,o=(0,x.getQuickReplyReplies)(t);return c.default.createElement("div",{className:"m-y-2"},c.default.createElement(U.default,{quickReplyOptions:o,disabled:n||!r,onChange:a.handleQuickReplySelect,value:(0,P.getOptionValue)(i),placeholder:p.default.text("conversations-visitor-message-history.quickReply.selectionPlaceholder")}))};a.renderQuickReplySendButton=function(){var e=a.props.isThreadStarted,t=a.state.selectedQuickReply;return c.default.createElement(L.default,null,c.default.createElement(F.default,{disabled:!e||!(0,P.getOptionValue)(t),onClick:a.handleQuickReplySend},c.default.createElement(m.default,{message:"conversations-visitor-message-history.quickReply.selectionComplete"})))};a.state={selectedQuickReply:(0,f.Map)()};return a}(0,o.default)(t,[{key:"hasQuickReplyOptions",value:function(){var e=this.props.message,t=(0,S.getSenderType)(e);return(0,x.getQuickReply)(e)&&t===I.BOT}},{key:"showQuickReplies",value:function(){var e=this.props,t=e.hasUnansweredQuickReplyMessage,a=e.positionDescriptors,r=t&&a.get(T.LAST);return this.hasQuickReplyOptions()&&r}},{key:"renderAvatar",value:function(){var e=this.props,t=e.chatHeadingConfig,a=e.message,r=e.senders,n=e.sendFromResponders,i=(0,S.getSenderId)(a),o=(0,S.getSenderType)(a),s=(0,_.findSender)(i,o,r),l=(0,E.getData)(s);return c.default.createElement(j.default,{chatHeadingConfig:t,sender:l,sendFromResponders:n})}},{key:"renderQuickReplyGroup",value:function(){var e=this.props,t=e.isThreadStarted,a=e.message,r=e.publishMessage,n=e.requiresExplicitConsentToProcess,i=(0,x.getQuickReplyReplies)(a),o=(0,x.getQuickReplyAllowMultiSelect)(a);return c.default.createElement(L.default,null,c.default.createElement(w.default,{disabled:n||!t,options:i,message:a,multiSelect:o,publishMessage:r,onSend:this.handleQuickReplySend}))}},{key:"renderContentSection",value:function(){var e,t,a=this.props.message;if(Boolean((0,A.getType)(a))){e=(0,S.getPlainText)(a);t=(0,S.getRichText)(a)}else{e=(0,M.getText)(a);t=(0,M.getRichText)(a)}var r=g.default.link(t,{stripPrefix:!1});return c.default.createElement(k.default,null,c.default.createElement(y.default,{"aria-label":p.default.text("conversations-visitor-message-history.agentMessage"),contentText:r||e}),this.showQuickReplySelection()&&this.renderQuickReplySelect())}},{key:"renderMessageFooter",value:function(){var e=this.props.message,t=(0,x.getQuickReplyReplies)(e),a=(0,x.getQuickReplyAllowMultiSelect)(e);return this.showQuickReplySelection()?this.renderQuickReplySendButton():this.showQuickReplies()&&(t.count()<=D.MAX_QUICK_REPLY_BUTTONS||a)?this.renderQuickReplyGroup():null}},{key:"render",value:function(){var e=this.props.positionDescriptors,t=e.get(T.FIRST);return c.default.createElement(O.default,{positionDescriptors:e,use:h.AGENT},t&&c.default.createElement(N.default,null,this.renderAvatar()),c.default.createElement(R.default,null,this.renderContentSection()),this.renderMessageFooter())}}]);return t}(c.PureComponent);B.displayName="InitialMessage";B.propTypes={chatHeadingConfig:d.default.oneOfType([(0,C.default)("CompanyChatHeadingConfig"),(0,C.default)("OwnerChatHeadingConfig"),(0,C.default)("UsersAndTeamsChatHeadingConfig")]),hasUnansweredQuickReplyMessage:d.default.bool,isThreadStarted:d.default.bool.isRequired,message:d.default.oneOfType([(0,C.default)("PubNubMessageRecord"),(0,C.default)("InitialMessage")]).isRequired,positionDescriptors:b.default.isRequired,publishMessage:d.default.func,requiresExplicitConsentToProcess:d.default.bool.isRequired,sendFromResponders:d.default.instanceOf(f.List).isRequired,senders:v.default.isRequired};var H=B;t.default=H;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getOptionLabel=n;t.getOptionValue=i;function r(e){return"string"==typeof e}function n(e){return r(e)?e:e.has("label")?e.get("label"):e.get("value")}function i(e){return r(e)?e:e.get("value")}},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(18)),i=r(a(4)),o=r(a(5)),s=r(a(75)),l=r(a(77)),u=r(a(76)),d=r(a(78)),c=r(a(881)),f=a(409),p=a(1491),m=a(60),v=r(a(7)),h=r(a(6)),g=r(a(957)),y=r(a(1294)),b=r(a(1398)),_=a(1397),E=a(1493),T=r(a(1494)),C=r(a(1496)),S=function(e){(0,d.default)(t,e);function t(e){var a;(0,i.default)(this,t);(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).handleSendMulti=a.handleSendMulti.bind((0,u.default)(a));a.handleQuickReplySend=a.handleQuickReplySend.bind((0,u.default)(a));a.handleSendIndividual=a.handleSendIndividual.bind((0,u.default)(a));a.handleSelect=a.handleSelect.bind((0,u.default)(a));a.state={selected:(0,m.Set)()};return a}(0,o.default)(t,[{key:"hasSelected",value:function(){return this.state.selected.size>0}},{key:"handleSelect",value:function(e){this.setState(function(t){var a=t.selected;return{selected:a.includes(e)?a.delete(e):a.add(e)}})}},{key:"handleSendMulti",value:function(){var e=this.props.multiSelect,t=this.state.selected;if(e&&this.hasSelected()){var a=t.map(p.getOptionLabel).join(", ");this.handleQuickReplySend(a,t)}}},{key:"handleSendIndividual",value:function(e){if(!this.props.multiSelect){var t=(0,m.List)([e]),a=(0,p.getOptionLabel)(e);this.handleQuickReplySend(a,t)}}},{key:"handleQuickReplySend",value:function(e,t){var a=this.props,r=a.message;(0,a.publishMessage)({text:e,quickReply:(0,f.getQuickReply)(r).set("quickReplies",t.toJS())})}},{key:"renderOptions",value:function(){var e=this.props,t=e.options,a=e.multiSelect,r=e.disabled,n=this.state.selected,i=this.context,o=a?this.handleSelect:this.handleSendIndividual;return t.map(function(e){var t=function(){return o(e)},s=n.includes(e),l=(0,p.getOptionValue)(e),u=(0,p.getOptionLabel)(e);if(!l||!u)return null;var d=a&&h.default.createElement(y.default,{className:"m-right-2",style:{minHeight:10},size:"small",color:(0,E.getBorderColor)((0,_.getQuickReplyTheme)(i)),checked:s,onChange:t});return h.default.createElement(T.default,{key:"quickreply."+l,onClick:t,theme:(0,_.getQuickReplyTheme)(i),disabled:r},d,u)})}},{key:"renderSendButton",value:function(){var e=this.props,t=e.disabled;if(!e.multiSelect)return null;var a=!this.hasSelected()||t;return h.default.createElement(C.default,{disabled:a,onClick:this.handleSendMulti,key:"send-button"},h.default.createElement(g.default,{name:"success"}))}},{key:"render",value:function(){return h.default.createElement("div",{className:"align-center flex-wrap m-y-2"},[].concat((0,n.default)(this.renderOptions()),[this.renderSendButton()]))}}]);return t}(h.default.Component);S.contextType=b.default;S.defaultProps={multiSelect:!1,hasSentReply:!1};S.displayName="QuickReplyGroup";S.propTypes={disabled:v.default.bool.isRequired,message:v.default.oneOfType([(0,c.default)("CommonMessage"),(0,c.default)("PubNubMessageRecord"),(0,c.default)("InitialMessage")]).isRequired,multiSelect:v.default.bool.isRequired,options:v.default.instanceOf(m.Set).isRequired,publishMessage:v.default.func};var M=S;t.default=M;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getColor=t.getBorderColor=t.getLineHeight=t.getWhiteSpace=t.getWidth=t.getMinHeight=void 0;var n=r(a(145)),i=(0,n.default)("minHeight");t.getMinHeight=i;var o=(0,n.default)("width");t.getWidth=o;var s=(0,n.default)("whiteSpace");t.getWhiteSpace=s;var l=(0,n.default)("lineHeight");t.getLineHeight=l;var u=(0,n.default)("borderColor");t.getBorderColor=u;var d=(0,n.default)("color");t.getColor=d},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(4)),i=r(a(5)),o=r(a(75)),s=r(a(77)),l=r(a(76)),u=r(a(78)),d=r(a(7)),c=r(a(6)),f=r(a(1411)),p=a(1473),m=r(a(881)),v=a(1495),h="secondary",g="primary";function y(e,t,a){var r=(0,p.getRGB)(t),n=r.r,i=r.g,o=r.b;return e===h?a?"rgba("+n+","+i+","+o+", 0.15)":"rgba(0,0,0,0)":a?"rgba("+n+","+i+","+o+", 0.85)":"rgba("+n+","+i+","+o+", 1)"}function b(e,t,a){var r=(0,v.getBorderColor)(t);return{width:(0,v.getWidth)(t),minHeight:(0,v.getMinHeight)(t),borderColor:r,whiteSpace:(0,v.getWhiteSpace)(t),lineHeight:(0,v.getLineHeight)(t),backgroundColor:y(e,r,a),color:e===g?(0,v.getColor)(t):r}}var _=function(e){(0,u.default)(t,e);function t(e){var a;(0,n.default)(this,t);(a=(0,o.default)(this,(0,s.default)(t).call(this,e))).state={hovered:!1};a.handleMouseEnter=a.handleMouseEnter.bind((0,l.default)(a));a.handleMouseLeave=a.handleMouseLeave.bind((0,l.default)(a));return a}(0,i.default)(t,[{key:"handleMouseEnter",value:function(){this.setState({hovered:!0})}},{key:"handleMouseLeave",value:function(){this.setState({hovered:!1})}},{key:"render",value:function(){var e=this.props,t=e.onClick,a=e.children,r=e.disabled,n=e.use,i=b(n,e.theme,this.state.hovered);return c.default.createElement(f.default,{className:"quick-reply display-inline-flex m-top-0 m-bottom-2 m-right-2",style:i,size:"small",use:n,onClick:t,disabled:r,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},a)}}]);return t}(c.default.Component);_.displayName="QuickReply";_.defaultProps={use:h,disabled:!1};_.propTypes={children:d.default.node.isRequired,disabled:d.default.bool.isRequired,onClick:d.default.func.isRequired,theme:(0,m.default)("QuickReplyTheme"),use:d.default.string.isRequired};var E=_;t.default=E;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getColor=t.getBorderColor=t.getLineHeight=t.getWhiteSpace=t.getWidth=t.getMinHeight=void 0;var n=r(a(145)),i=(0,n.default)("minHeight");t.getMinHeight=i;var o=(0,n.default)("width");t.getWidth=o;var s=(0,n.default)("whiteSpace");t.getWhiteSpace=s;var l=(0,n.default)("lineHeight");t.getLineHeight=l;var u=(0,n.default)("borderColor");t.getBorderColor=u;var d=(0,n.default)("color");t.getColor=d},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(4)),i=r(a(5)),o=r(a(75)),s=r(a(77)),l=r(a(78)),u=r(a(7)),d=r(a(6)),c=r(a(1494)),f=a(1471),p=r(a(1398)),m=function(e){(0,l.default)(t,e);function t(){(0,n.default)(this,t);return(0,o.default)(this,(0,s.default)(t).apply(this,arguments))}(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.disabled,r=e.onClick,n=this.context;return d.default.createElement(c.default,{key:"send-button",use:"primary",theme:(0,f.getQuickReplyTheme)(n),disabled:a,onClick:r},t)}}]);return t}(d.default.Component);m.contextType=p.default;m.defaultProps={multiSelect:!1,hasSentReply:!1};m.displayName="QuickReplySendButton";m.propTypes={children:u.default.node.isRequired,disabled:u.default.bool.isRequired,onClick:u.default.func.isRequired};var v=m;t.default=v;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.MAX_QUICK_REPLY_BUTTONS=void 0;var r=7;t.MAX_QUICK_REPLY_BUTTONS=r},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=n(a(7)),c=r(a(6)),f=a(60),p=n(a(862)),m=a(899),v=a(1491),h="__PLACEHOLDER_VALUE__",g=p.default.select.withConfig({displayName:"QuickReplySelect__StyledSelect",componentId:"sc-1yvrxr4-0"})(["appearance:none;background:none;border-radius:3px;border:1px solid transparent;color:inherit;cursor:inherit;font-size:16px;margin:0;outline:none;padding:8px 32px 10px 10px;width:100%;height:40px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"]),y=p.default.div.withConfig({displayName:"QuickReplySelect__SelectContainer",componentId:"sc-1yvrxr4-1"})(["background-color:",";border-radius:3px;border:1px solid ",";color:",";cursor:pointer;display:block;font-size:16px;height:40px;line-height:22px;padding:0;position:relative;text-align:left;transition:all 0.15s ease-out;width:100%;&::after{border-color:transparent;border-style:solid;border-width:0.375em;display:inline-block;vertical-align:middle;border-top-color:",";margin-top:0.375em;margin-top:-3px;content:' ';position:absolute;top:50%;right:1em;z-index:2;pointer-events:none;}"],m.GYPSUM,m.BATTLESHIP,m.OBSIDIAN,m.CALYPSO),b=function(e){(0,u.default)(t,e);function t(){var e,a;(0,i.default)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];(a=(0,s.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(n)))).renderQuickReplySelectOptions=function(){return a.props.quickReplyOptions.map(function(e){var t=(0,v.getOptionValue)(e),a=(0,v.getOptionLabel)(e);return c.default.createElement("option",{value:t,key:t},a)})};return a}(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.value,a=e.disabled,r=e.onChange,n=e.placeholder;return c.default.createElement(y,null,c.default.createElement(g,{disabled:a,defaultValue:h,value:t,onChange:r},n&&c.default.createElement("option",{disabled:!0,value:h},n),this.renderQuickReplySelectOptions()))}}]);return t}(c.Component);b.displayName="QuickReplySelect";b.propTypes={disabled:d.default.bool,onChange:d.default.func.isRequired,placeholder:d.default.string,quickReplyOptions:d.default.instanceOf(f.OrderedSet).isRequired,value:d.default.string};var _=b;t.default=_;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=n(a(1372)),c=n(a(881)),f=a(1003),p=a(1500),m=a(187),v=a(60),h=n(a(7)),g=r(a(6)),y=n(a(862)),b=n(a(378)),_=n(a(1407)),E=a(1501),T=a(1503),C=y.default.div.withConfig({displayName:"InitialMessageAvatar__MultiAvatarWrapper",componentId:"rz0rxa-0"})(["width:100%;height:100%;display:flex;justify-content:center;flex-wrap:wrap;margin-right:4px;margin-left:-4px;& > *{flex:1;line-height:1;position:relative;& > *{position:absolute;left:0;bottom:-8px;}div{background-color:white;}}"]),S=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"getSenderAvatars",value:function(){var e=this.props,t=e.chatHeadingConfig,a=e.sender,r=e.sendFromResponders;if((0,m.isFromBot)(a))return(0,v.List)([a]);if(r.size)return(0,b.default)(T.getResponderAsSender,r);var n=(0,f.getAnyCompanyLogo)(t);return n?(0,v.List)([(0,E.getCompanyAsSender)({companyLogo:n,customChatName:(0,p.getAnyCustomChatName)(t)})]):(0,v.List)()}},{key:"renderAvatars",value:function(){var e=this.getSenderAvatars();if(!e.size)return g.default.createElement(d.default,null);if(1===e.size){var t=e.get(0);return g.default.createElement(d.default,{sender:t})}var a=2===e.size;return g.default.createElement(C,null,e.map(function(e,t){return g.default.createElement(d.default,{key:t,sender:e,size:a?"xs":"xxs"})}))}},{key:"render",value:function(){return g.default.createElement(_.default,null,this.renderAvatars())}}]);return t}(g.PureComponent);S.displayName="InitialMessageAvatar";S.propTypes={chatHeadingConfig:h.default.oneOfType([(0,c.default)("CompanyChatHeadingConfig"),(0,c.default)("OwnerChatHeadingConfig"),(0,c.default)("UsersAndTeamsChatHeadingConfig")]),sendFromResponders:h.default.instanceOf(v.List).isRequired,sender:(0,c.default)("Sender")};var M=S;t.default=M;e.exports=t.default},,function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getCompanyAsSender=void 0;var n=r(a(1502)),i=a(173),o=(0,r(a(134)).default)(function(e){var t=e.companyLogo,a=e.customChatName;return new n.default({avatar:t,firstName:a,senderType:i.AGENT})});t.getCompanyAsSender=o},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=(0,a(60).Record)({avatar:null,email:null,firstName:null,id:null,lastName:null,senderType:null},"Sender");t.default=r;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getResponderAsSender=void 0;var n=a(568),i=r(a(1502)),o=a(460),s=(0,r(a(134)).default)(function(e,t,a){var r=(0,n.agentTypeToSenderType)((0,o.getAgentType)(e)||a);return new i.default({id:(0,o.getUserId)(e)||t,avatar:(0,o.getAvatar)(e),firstName:(0,o.getFirstName)(e),email:(0,o.getEmail)(e),lastName:(0,o.getLastName)(e),senderType:r})});t.getResponderAsSender=s},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.hasUnansweredQuickReplyMessage=void 0;var r=a(189),n=a(409),i=a(137),o=a(300),s=a(389),l=a(268),u=(0,r.createSelector)(o.historyDataForThread,function(e){if(!e||!(0,s.hasMessages)(e))return!1;var t=(0,l.getMessages)(e).filter(function(e){return(0,i.isChatMessage)(e)||(0,i.isInitialMessage)(e)}).last();return Boolean((0,n.getQuickReply)(t))});t.hasUnansweredQuickReplyMessage=u},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=a(594),i=r(a(1506)),o=a(13),s=a(1346),l=a(1504),u=a(469),d=a(748),c=a(783),f=function(e){var t=(0,u.getSelectedThread)(e);return{hasUnansweredQuickReplyMessage:(0,l.hasUnansweredQuickReplyMessage)(e,{thread:t}),isThreadStarted:(0,n.isStarted)(t),mobile:(0,c.getIsMobile)(e)}},p={publishMessage:s.publishVisitorMessage,toggleOpen:d.toggleOpen},m=(0,o.connect)(f,p)(i.default);t.default=m;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=n(a(7)),c=r(a(6)),f=a(60),p=n(a(1137)),m=n(a(287)),v=n(a(1005)),h=n(a(1372)),g=a(1388),y=a(1385),b=n(a(1386)),_=n(a(1389)),E=a(1390),T=a(1381),C=a(1393),S=n(a(1502)),M=n(a(1419)),I=a(1424),A=n(a(881)),P=a(156),x=a(1491),O=a(173),R=a(409),k=n(a(1402)),N=n(a(1407)),L=n(a(1415)),w=n(a(1416)),F=n(a(1417)),D=n(a(1492)),U=a(1507),j=n(a(1496)),B=a(1497),H=n(a(1498)),q=n(a(1454)),W=function(e){(0,u.default)(t,e);function t(e){var a;(0,i.default)(this,t);(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).handleQuickReplySend=function(){var e=a.props,t=e.message,r=e.publishMessage,n=a.state.selectedQuickReply;r({text:(0,x.getOptionLabel)(n),quickReply:(0,R.getQuickReply)(t).set("quickReplies",[n])})};a.handleQuickReplySelect=function(e){var t=e.target.value,r=a.props.message,n=(0,R.getQuickReplyReplies)(r).filter(function(e){return(0,x.getOptionValue)(e)===t}).first();a.setState({selectedQuickReply:n})};a.showQuickReplies=function(){var e=a.props,t=e.hasUnansweredQuickReplyMessage,r=e.message,n=e.positionDescriptors,i=t&&n.get(g.LAST);return(0,U.getHasQuickReplyOptions)(r)&&i};a.showQuickReplySelection=function(){var e=a.props.message,t=(0,R.getQuickReplyReplies)(e),r=(0,R.getQuickReplyAllowMultiSelect)(e);return a.showQuickReplies()&&t.count()>B.MAX_QUICK_REPLY_BUTTONS&&!r};a.renderQuickReplyGroup=function(){var e=a.props,t=e.isThreadStarted,r=e.message,n=e.publishMessage,i=e.requiresExplicitConsentToProcess,o=(0,R.getQuickReplyReplies)(r),s=(0,R.getQuickReplyAllowMultiSelect)(r);return c.default.createElement(L.default,null,c.default.createElement(D.default,{options:o,disabled:i||!t,message:r,multiSelect:s,publishMessage:n,onChange:a.handleQuickReplyUpdate}))};a.renderQuickReplySendButton=function(){var e=a.props.isThreadStarted,t=a.state.selectedQuickReply;return c.default.createElement(L.default,null,c.default.createElement(j.default,{disabled:!e||!(0,x.getOptionValue)(t),onClick:a.handleQuickReplySend},c.default.createElement(v.default,{message:"conversations-visitor-message-history.quickReply.selectionComplete"})))};a.renderQuickReplySelect=function(){var e=a.props,t=e.message,r=e.isThreadStarted,n=e.requiresExplicitConsentToProcess,i=a.state.selectedQuickReply,o=(0,R.getQuickReplyReplies)(t);return c.default.createElement("div",{className:"m-bottom-3 m-x-3"},c.default.createElement(H.default,{quickReplyOptions:o,disabled:n||!r,onChange:a.handleQuickReplySelect,value:(0,x.getOptionValue)(i),placeholder:m.default.text("conversations-visitor-message-history.quickReply.selectionPlaceholder")}))};a.state={selectedQuickReply:(0,f.Map)()};return a}(0,o.default)(t,[{key:"isSentFromVisitor",value:function(){return(0,P.getSenderType)(this.props.message)===O.VISITOR}},{key:"renderMessageHeader",value:function(){var e=this.props,t=e.message,a=e.positionDescriptors,r=e.senders;if(!a.includes(g.FIRST_IN_GROUP)||this.isSentFromVisitor())return null;var n=(0,P.getSenderId)(t),i=(0,P.getSenderType)(t),o=(0,E.findSender)(n,i,r),s=(0,T.getData)(o);s||(s=(0,S.default)({senderType:i,firstName:(0,P.getFromName)(t),email:(0,P.getFromAddress)(t)||null}));var l=(0,C.isSenderLoading)(o);return c.default.createElement(w.default,null,c.default.createElement(N.default,null,c.default.createElement(h.default,{sender:s,isLoading:l})),c.default.createElement(F.default,null,c.default.createElement(M.default,{isSenderLoading:l,sender:s})))}},{key:"renderTimeStamp",value:function(){var e=this.props,t=e.message,a=e.positionDescriptors.includes(g.LAST_IN_GROUP),r=(0,P.getTimestamp)(t);return a&&r?c.default.createElement(L.default,null,c.default.createElement(p.default,{use:"help"},(0,I.getHistoryFormattedTimestamp)(r))):null}},{key:"renderMessageFooter",value:function(){var e=this.props.message,t=(0,R.getQuickReplyReplies)(e),a=(0,R.getQuickReplyAllowMultiSelect)(e);return this.showQuickReplies()&&this.showQuickReplySelection()?this.renderQuickReplySendButton():this.showQuickReplies()&&(t.count()<=B.MAX_QUICK_REPLY_BUTTONS||a)?this.renderQuickReplyGroup():this.renderTimeStamp()}},{key:"render",value:function(){var e=this.props,t=e.fileAttachments,a=e.message,r=e.positionDescriptors,n=e.toggleOpen,i=e.mobile,o=this.isSentFromVisitor()?y.VISITOR:y.AGENT;return c.default.createElement(k.default,{positionDescriptors:r,use:o},this.renderMessageHeader(),c.default.createElement(q.default,{fileAttachments:t,isLastMessage:r.includes(g.LAST),message:a,quickReplySelect:this.showQuickReplySelection()&&this.renderQuickReplySelect,mobile:i,toggleOpen:n}),this.renderMessageFooter())}}]);return t}(c.PureComponent);W.displayName="CommonMessage";W.propTypes={fileAttachments:d.default.instanceOf(f.List),hasUnansweredQuickReplyMessage:d.default.bool,isThreadStarted:d.default.bool.isRequired,message:d.default.oneOfType([(0,A.default)("PubNubMessageRecord"),(0,A.default)("CommonMessage")]).isRequired,mobile:d.default.bool,positionDescriptors:b.default.isRequired,publishMessage:d.default.func,requiresExplicitConsentToProcess:d.default.bool.isRequired,senders:_.default,toggleOpen:d.default.func};var z=W;t.default=z;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getHasQuickReplyOptions=void 0;var r=a(173),n=a(156),i=a(409),o=function(e){var t=(0,n.getSenderType)(e);return(0,i.getQuickReply)(e)&&t===r.BOT};t.getHasQuickReplyOptions=o},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.withConsent=void 0;var r=a(13),n=a(1509),i=function(e){return{requiresExplicitConsentToProcess:(0,n.getShowGdprConsentToProcess)(e)}},o={},s=(0,r.connect)(i,o);t.withConsent=s},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getShowGdprConsentToProcess=void 0;var r=a(189),n=a(752),i=a(1259),o=a(191),s=a(1260),l=(0,r.createSelector)([o.getLatestWidgetData,s.getHasGivenConsentToProcess],function(e,t){return(0,n.gdprConsentToProcessEnabled)(e)&&!t&&(0,i.gdprExplicitConsentRequired)(e)});t.getShowGdprConsentToProcess=l},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getCurrentThreadHistoryData=void 0;var r=a(192),n=a(189),i=a(1511),o=a(1243),s=a(330),l=a(259),u=(0,n.createSelector)([o.getCurrentThreadId,i.getCurrentThreadHistoryEntry,s.getStagedThreadHistory],function(e,t,a){return e===l.STUBBED_THREAD_ID?a:(0,r.getData)(t)||null});t.getCurrentThreadHistoryData=u},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getCurrentThreadHistoryEntry=void 0;var r=a(310),n=a(189),i=a(322),o=a(1243),s=(0,n.createSelector)([i.getThreadHistories,o.getCurrentThreadId],function(e,t){return"number"!=typeof t?null:(0,r.getEntry)(t,e)||null});t.getCurrentThreadHistoryEntry=s},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getTypingMessages=void 0;var n=a(568),i=a(205),o=r(a(232)),s=a(460),l=a(189),u=a(1513),d=a(1243),c=a(60),f=(0,l.createSelector)([u.getTypingResponderFromCurrentThread,d.getCurrentThreadId],function(e,t){return e&&t?(0,c.List)([(0,i.buildUnpublishedMessage)({descriptor:{},metadata:(0,o.default)(),senderId:(0,s.getUserId)(e),senderType:(0,n.agentTypeToSenderType)((0,s.getAgentType)(e),!0),threadId:t})]):(0,c.List)()});t.getTypingMessages=f},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getTypingResponderFromCurrentThread=void 0;var r=a(189),n=a(469),i=a(1514),o=(0,r.createSelector)([function(e){return e},n.getSelectedThread],function(e,t){return(0,i.typingResponder)(e,{thread:t})});t.getTypingResponderFromCurrentThread=o},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.typingResponder=void 0;var n=a(189),i=r(a(1515)),o=r(a(145)),s=a(460),l=a(491),u=a(487),d=a(1516),c=(0,n.createSelector)([d.typingTimeoutsForThreadInProps,u.getAllAgentResponders,l.getWidgetBotResponder],function(e,t,a){var r=(0,s.getUserId)(a);return(0,o.default)(r,e)?a:t&&t.find(function(t){var a=(0,s.getUserId)(t);return(0,i.default)(a,e)})});t.typingResponder=c},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(139)),i=r(a(305)),o=(0,n.default)(i.default);t.default=o;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.typingTimeoutsForThreadInProps=void 0;var n=a(60),i=a(189),o=r(a(145)),s=a(319),l=a(323),u=a(617),d=(0,i.createSelector)([l.threadFromProps,u.typingStates],function(e,t){var a=(0,s.getThreadId)(e);return(0,o.default)(""+a,t)||(0,n.Map)()});t.typingTimeoutsForThreadInProps=d},,,,,,,,,function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.canPublish=void 0;var n=a(189),i=r(a(145)),o=a(331),s=a(598),l=a(408),u=a(540),d=a(330),c=(0,i.default)("subscriptions"),f=(0,n.createSelector)([d.getAsyncStagedThread,l.getAsyncPubSubClient,u.hasPersistedThreads,c],function(e,t,a,r){return!(0,o.isStarted)(e)&&(!(!(0,o.isUninitialized)(e)||a)||(!!(a&&(0,s.isClientReady)(t)&&(0,o.isSucceeded)(r))||!!((0,o.isSucceeded)(e)&&(0,s.isClientReady)(t)&&(0,o.isSucceeded)(r))))});t.canPublish=f},,,,,,,,,,function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getSuccessfulFileAttachments=void 0;var n=a(192),i=a(331),o=a(310),s=a(60),l=a(189),u=r(a(425)),d=a(429),c=(0,l.createSelector)([d.getResolvedAttachments],function(e){return e&&(0,o.getEntries)(e).size?(0,o.getEntries)(e).reduce(function(e,t,a){return t&&a&&(0,i.isSucceeded)(t)?(0,u.default)(String(a),(0,n.getData)(t),e):e},(0,s.Map)()):(0,s.Map)()});t.getSuccessfulFileAttachments=c},,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.shouldRequireExplicitCookieConsent=void 0;var n=a(189),i=r(a(145)),o=a(753),s=a(191),l=a(758),u=a(842),d=a(1557),c=a(1558),f=a(810),p=a(802),m=a(754),v=(0,n.createSelector)([s.getLatestWidgetData,l.getVisitorIdentity,f.getShouldEnableWidgetCookieBanner,c.getCookieBannerOnExitVisible],function(e,t,a,r){var n=(0,i.default)("gates",e),s=(0,i.default)(p.LIVE_CHAT_EXIT_INTENT_GDPR,n),l=(0,d.getGlobalCookieOptOut)(t),c="yes"===l||"no"===l,f=(0,o.gdprExplicitCookieConsentEnabled)(e)&&!s,v=(0,m.gdprCookieConsentOnWidgetLoadEnabled)(e)&&s;return!(!(a||f||v)&&!r)&&(0,u.getIsFirstVisitorSession)(t)&&!c});t.shouldRequireExplicitCookieConsent=v},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getGlobalCookieOptOut=void 0;var n=(0,r(a(145)).default)("globalCookieOptOut");t.getGlobalCookieOptOut=n},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getCookieBannerOnExitVisible=void 0;var n=(0,r(a(145)).default)("cookieBannerOnExitVisible");t.getCookieBannerOnExitVisible=n},,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(1005)),i=r(a(7)),o=r(a(6)),s=a(1577),l=r(a(862)),u=r(a(1411)),d=l.default.div.withConfig({displayName:"NewThreadPrompt__NewThreadpromptContainer",componentId:"efoo07-0"})(["padding:32px 20px 12px 20px;text-align:center;width:100%;"]);function c(e){var t=e.accentColor,a=e.createNewThread;return o.default.createElement(s.ChatWidgetLocaleContextConsumer,null,function(e){return o.default.createElement(d,null,o.default.createElement("p",{className:"m-bottom-0"},o.default.createElement(n.default,{message:"conversations-visitor-ui.newThreadPrompt.newHeading",options:{locale:e}})),o.default.createElement(u.default,{"data-test-id":"visitor-widget-start-new-thread-button",size:"small",onClick:a,style:{width:"auto",color:t},use:"unstyled"},o.default.createElement(n.default,{message:"conversations-visitor-ui.newThreadPrompt.newButton",options:{locale:e}})))})}c.propTypes={accentColor:i.default.string.isRequired,createNewThread:i.default.func.isRequired};c.displayName="NewThreadPrompt";var f=c;t.default=f;e.exports=t.default},,,,,,,,,,,,,,function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getAllowUserInput=void 0;var r=a(189),n=a(300),i=a(137),o=a(268),s=a(409),l=a(389),u=(0,r.createSelector)([n.historyDataForThread],function(e){if(!e||!(0,l.hasMessages)(e))return!0;var t=(0,o.getMessages)(e).filter(function(e){return(0,i.isChatMessage)(e)||(0,i.isInitialMessage)(e)}).last();return(0,s.getQuickReplyAllowUserInput)(t)});t.getAllowUserInput=u},,,,,,function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(6)),i=r(a(862)),o=r(a(1597)),s=i.default.div.withConfig({displayName:"ThreadHistoryError__ThreadHistoryErrorWrapper",componentId:"sc-73lsqe-0"})(["text-align:center;flex-grow:1;"]),l=function(){return n.default.createElement(s,null,n.default.createElement(o.default,null))};l.displayName="ThreadHistoryError";var u=l;t.default=u;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=n(a(7)),c=r(a(6)),f=n(a(1005)),p=n(a(1411)),m=n(a(862)).default.div.withConfig({displayName:"ErrorState__ErrorWrapper",componentId:"sc-158c0d-0"})(["display:flex;justify-content:center;align-items:center;height:100%;flex-direction:column;"]),v=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=this.props.retry;return c.default.createElement(m,null,c.default.createElement("h5",null,c.default.createElement(f.default,{message:"conversations-visitor-ui.asyncError.body"})),c.default.createElement("div",{className:"m-top-3"},e?c.default.createElement(p.default,{use:"tertiary",onClick:this.props.retry},c.default.createElement(f.default,{message:"conversations-visitor-ui.asyncError.retry"})):c.default.createElement(f.default,{message:"conversations-visitor-ui.asyncError.noRetry"})))}}]);return t}(c.PureComponent);v.displayName="ErrorState";v.propTypes={retry:d.default.func};var h=v;t.default=h;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(76)),d=n(a(78)),c=n(a(1599)),f=a(1602),p=n(a(881)),m=a(269),v=a(389),h=n(a(7)),g=r(a(6)),y=n(a(862)),b=n(a(1045)),_=n(a(864)),E=a(259),T=n(a(1596)),C=y.default.div.withConfig({displayName:"ThreadHistoryFetcher__LoadingDotsWrapper",componentId:"sc-1wh6m0q-0"})(["height:0;margin-top:12px;"]),S=(0,y.default)((0,f.withScrollTo)(c.default)).withConfig({displayName:"ThreadHistoryFetcher__ScrollToWrapper",componentId:"sc-1wh6m0q-1"})(["flex:1 1 100%;display:flex;flex-direction:column;align-self:stretch;overflow-y:scroll;overflow-x:hidden;"]),M=function(e){(0,d.default)(t,e);function t(e){var a;(0,i.default)(this,t);(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).scrollWrapper=(0,g.createRef)();a.fetchHistory=a.fetchHistory.bind((0,u.default)(a));return a}(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this.scrollWrapper.current;e&&e.scrollToBottom();this.fetchHistory()}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.threadId,r=t.messageCount,n=t.shouldScrollToBottom,i=t.isOnFocus,o=e.threadId,s=e.messageCount,l=e.shouldScrollToBottom,u=e.isOnFocus,d=this.scrollWrapper.current;if(a===o)if(s){r!==s&&d&&d.scrollToBottomIfInThreshold();n!==l&&d&&d.scrollToBottomIfInThreshold();i!==u&&d&&d.scrollToBottomIfInThreshold()}else d&&d.scrollToBottom();else{this.fetchHistory();d&&d.scrollToBottom()}}},{key:"fetchHistory",value:function(){var e=this.props,t=e.fetchThreadHistory,a=e.threadId,r=e.threadHistory,n=e.sessionId;a!==E.STUBBED_THREAD_ID&&t({offsetOrdinal:(0,m.getOffsetOrdinal)(r),offsetTimestamp:(0,m.getOffsetTimestamp)(r),threadId:a,sessionId:n})}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.isLoadingHistory,r=e.loadingHistoryFailed,n=e.threadId,i=e.threadHistory;if(a&&!(0,v.hasMessages)(i))return g.default.createElement(b.default,{grow:!0});if(r&&!(0,v.hasMessages)(i))return g.default.createElement(T.default,null);var o=(0,_.default)(this.props.className,"messages-scroll-container-utv");return g.default.createElement(S,{key:n,className:o,ref:this.scrollWrapper,onScrollToTop:this.fetchHistory},g.default.createElement(C,null,a&&g.default.createElement(b.default,{style:{height:0,marginTop:8},grow:!0})),t,g.default.createElement(C,null))}}]);return t}(g.PureComponent);M.propTypes={children:h.default.node.isRequired,className:h.default.string,fetchThreadHistory:h.default.func.isRequired,isLoadingHistory:h.default.bool,isOnFocus:h.default.bool.isRequired,loadingHistoryFailed:h.default.bool,messageCount:h.default.number.isRequired,sessionId:h.default.string.isRequired,shouldScrollToBottom:h.default.bool.isRequired,threadHistory:(0,p.default)("ThreadHistory"),threadId:h.default.number.isRequired};M.displayName="ThreadHistoryFetcher";var I=M;t.default=I;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=t.ON_SCROLL_THROTTLE=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(76)),d=n(a(78)),c=n(a(7)),f=r(a(6)),p=n(a(1600)),m=100;t.ON_SCROLL_THROTTLE=m;var v=function(e){(0,d.default)(t,e);function t(e){var a;(0,i.default)(this,t);(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).state={inTop:!0,inBottom:!0,height:0};a.scrollContainer=f.default.createRef();a.onResize=(0,p.default)(m,a.onResize.bind((0,u.default)(a)));a.onScroll=(0,p.default)(m,a.onScroll.bind((0,u.default)(a)));return a}(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this.scrollContainer.current;e&&this.setState({height:e.clientHeight});window.addEventListener("resize",this.onResize,{passive:!0})}},{key:"getSnapshotBeforeUpdate",value:function(){var e=this.scrollContainer.current;return e?{prevScrollTop:e.scrollTop}:null}},{key:"componentDidUpdate",value:function(e,t,a){var r=this.scrollContainer.current;if(a&&r){var n=a.prevScrollTop;r.scrollTop===n&&t.height>this.state.height&&this.setScrollTop(r.scrollTop+(t.height-this.state.height))}}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize)}},{key:"onScroll",value:function(){var e=this.props,t=e.onScrollToTop,a=e.onScrollToBottom,r=this.inThreshold(),n=r.inTop,i=r.inBottom;!this.state.inTop&&n&&t();!this.state.inBottom&&i&&a();this.setState({inTop:n,inBottom:i})}},{key:"inThreshold",value:function(){var e=this.props,t=e.topThreshold,a=e.bottomThreshold;return{inTop:this.getScrollDistanceFromTop()<=t,inBottom:this.getScrollDistanceFromBottom()<=a}}},{key:"getScrollDistanceFromTop",value:function(){var e=this.scrollContainer.current;return e?e.scrollTop:0}},{key:"getScrollDistanceFromBottom",value:function(){var e=this.scrollContainer.current;if(!e)return 0;var t=e.scrollTop,a=e.scrollHeight,r=e.clientHeight,n=e.offsetHeight;return a-(r||n)-t}},{key:"scrollToBottom",value:function(){var e=this.scrollContainer.current;e&&this.setScrollTop(e.scrollHeight)}},{key:"setScrollTop",value:function(e){var t=this.scrollContainer.current;t&&(t.scrollTop=e||0)}},{key:"onResize",value:function(){var e=this.scrollContainer.current;e&&this.setState({height:e.clientHeight||0})}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.className;return f.default.createElement("div",{className:a,style:{flexGrow:1},ref:this.scrollContainer,onScroll:this.onScroll},t)}}]);return t}(f.PureComponent);v.displayName="ScrollWrapper";v.propTypes={bottomThreshold:c.default.number.isRequired,children:c.default.node,className:c.default.string,onScrollToBottom:c.default.func.isRequired,onScrollToTop:c.default.func.isRequired,topThreshold:c.default.number.isRequired};var h=function(){};v.defaultProps={bottomThreshold:300,onScrollToBottom:h,onScrollToTop:h,topThreshold:300};var g=v;t.default=g},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(18)),i=r(a(139)),o=r(a(135)),s=r(a(1601));function l(e,t){(0,s.default)(e);(0,o.default)(t);var a,r,i=0,l=null;function u(){if(null!==l){clearTimeout(l);l=null}}function d(){i=Date.now();r=t.apply(void 0,(0,n.default)(a))}function c(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];a=n;u();Date.now()-i>=e?d():l=setTimeout(d,e);return r}c.cancel=u;return c}var u=(0,i.default)(l);t.default=u;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.default=r;function r(e){if("number"==typeof e&&e>=0)return e;throw new Error("expected `interval` to be a positive number but got `"+e+"`")}e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.withScrollTo=t.AUTO_SCROLL_THRESHOLD=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(76)),d=n(a(78)),c=r(a(6)),f=a(1603),p=a(1605),m=n(a(1599)),v=a(1606),h=300;t.AUTO_SCROLL_THRESHOLD=h;var g=function(e){(0,v.componentFunctionInvariant)(e,["getScrollDistanceFromTop","getScrollDistanceFromBottom","setScrollTop","scrollToBottom"]);var t=function(e){(0,d.default)(t,e);function t(e){var a;(0,i.default)(this,t);(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).scrollWrapperRef=(0,c.createRef)();a.scrollToMessage=a.scrollToMessage.bind((0,u.default)(a));a.state={prevScrollDistanceToBottom:0};return a}(0,o.default)(t,[{key:"getSnapshotBeforeUpdate",value:function(){var e=this.scrollWrapperRef.current,t=(0,p.getLastDOMNodeMessageId)();if(!e||!t)return null;var a=(0,f.getDOMNodeByMessageId)(t);if(!a)return null;var r=e.getScrollDistanceFromTop(),n=e.getScrollDistanceFromBottom();return{lastMessageId:t,lastMessageOffsetTop:a.offsetTop,prevScrollTop:r,snapshotPrevScrollDistanceToBottom:n}}},{key:"componentDidUpdate",value:function(e,t,a){var r=this.scrollWrapperRef.current;if(a&&r){var n=a.lastMessageId,i=a.lastMessageOffsetTop,o=a.prevScrollTop,s=a.snapshotPrevScrollDistanceToBottom;if(r.getScrollDistanceFromTop()===o){var l=(0,f.getDOMNodeByMessageId)(n);if(l&&l.offsetTop){var u=l.offsetTop-i;u&&r.setScrollTop(r.getScrollDistanceFromTop()+u);s!==this.state.prevScrollDistanceToBottom&&this.setState({prevScrollDistanceToBottom:s})}}}}},{key:"scrollToMessage",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{alignment:"start"}).alignment,a=(0,f.getDOMNodeByMessageId)(e);e&&a&&a.scrollIntoView&&a.scrollIntoView("start"===t)}},{key:"scrollToBottom",value:function(){var e=this.scrollWrapperRef.current;e&&e.scrollToBottom()}},{key:"scrollToBottomIfInThreshold",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=this.scrollWrapperRef.current;t&&(t.getScrollDistanceFromBottom()<=e||this.state.prevScrollDistanceToBottom<=e)&&t.scrollToBottom()}},{key:"render",value:function(){return c.default.createElement(m.default,Object.assign({ref:this.scrollWrapperRef},this.props))}}]);return t}(c.Component);t.displayName="WithScrollTo";return t};t.withScrollTo=g},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getDOMNodeByMessageId=void 0;var r=a(1604),n=function(e){return document.querySelector("["+r.MESSAGE_ID_ATTR+'="'+e+'"]')};t.getDOMNodeByMessageId=n},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.MESSAGE_ID_ATTR=void 0;var r="data-cv-message-history-id";t.MESSAGE_ID_ATTR=r},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getLastDOMNodeMessageId=void 0;var r=a(1604),n=function(){var e=document.querySelector("["+r.MESSAGE_ID_ATTR+"]:last-child");return e&&e.getAttribute?e.getAttribute(r.MESSAGE_ID_ATTR):null};t.getLastDOMNodeMessageId=n},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.componentFunctionInvariant=void 0;var n=r(a(37)),i=function(e,t){var a=!0,r=!1,i=void 0;try{for(var o,s=t[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var l=o.value;(0,n.default)(!!e.prototype[l],"Component missing required function %s",l)}}catch(e){r=!0;i=e}finally{try{a||null==s.return||s.return()}finally{if(r)throw i}}};t.componentFunctionInvariant=i},,function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getResponderAsSender=void 0;var n=a(568),i=r(a(1502)),o=a(460),s=(0,a(189).defaultMemoize)(function(e,t,a){var r=(0,n.agentTypeToSenderType)((0,o.getAgentType)(e)||a);return new i.default({id:(0,o.getUserId)(e)||t,avatar:(0,o.getAvatar)(e),firstName:(0,o.getFirstName)(e),email:(0,o.getEmail)(e),lastName:(0,o.getLastName)(e),senderType:r})});t.getResponderAsSender=s},,function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getResponderKeyAsSenderLocator=void 0;var r=a(1391),n=a(489),i=function(e){return(0,r.buildSenderLocator)((0,n.getType)(e),(0,n.getId)(e))};t.getResponderKeyAsSenderLocator=i},,,,,,,function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.insertDatesIntoMessageList=void 0;var n=a(60),i=r(a(1618)),o=a(156),s=a(1650),l=r(a(1651)),u=a(1652),d=a(1654),c=(0,i.default)(l.default,function(e){return e.id}),f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e.reduce(function(r,n,i){var l=i>0?e.get(i-1):void 0;(0,u.shouldRenderDate)(n,l,a)&&(0,s.isValidMessageHistoryType)(n,t)&&(r=r.push(c({id:(0,d.getMessageId)(n)+"-date",timestamp:(0,o.getTimestamp)(n)})));return r.push(n)},(0,n.List)())};t.insertDatesIntoMessageList=f},function(e,t,a){var r=a(1619),n="Expected a function";function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(n);var a=function(){var r=arguments,n=t?t.apply(this,r):r[0],i=a.cache;if(i.has(n))return i.get(n);var o=e.apply(this,r);a.cache=i.set(n,o)||i;return o};a.cache=new(i.Cache||r);return a}i.Cache=r;e.exports=i},function(e,t,a){var r=a(1620),n=a(1644),i=a(1647),o=a(1648),s=a(1649);function l(e){var t=-1,a=null==e?0:e.length;this.clear();for(;++t<a;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r;l.prototype.delete=n;l.prototype.get=i;l.prototype.has=o;l.prototype.set=s;e.exports=l},function(e,t,a){var r=a(1621),n=a(1635),i=a(1643);function o(){this.size=0;this.__data__={hash:new r,map:new(i||n),string:new r}}e.exports=o},function(e,t,a){var r=a(1622),n=a(1631),i=a(1632),o=a(1633),s=a(1634);function l(e){var t=-1,a=null==e?0:e.length;this.clear();for(;++t<a;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r;l.prototype.delete=n;l.prototype.get=i;l.prototype.has=o;l.prototype.set=s;e.exports=l},function(e,t,a){var r=a(1623);function n(){this.__data__=r?r(null):{};this.size=0}e.exports=n},function(e,t,a){var r=a(1624)(Object,"create");e.exports=r},function(e,t,a){var r=a(1625),n=a(1630);function i(e,t){var a=n(e,t);return r(a)?a:void 0}e.exports=i},function(e,t,a){var r=a(1626),n=a(1627),i=a(518),o=a(1629),s=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,u=Function.prototype,d=Object.prototype,c=u.toString,f=d.hasOwnProperty,p=RegExp("^"+c.call(f).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(e){return!(!i(e)||n(e))&&(r(e)?p:l).test(o(e))}e.exports=m},function(e,t,a){var r=a(524),n=a(518),i="[object AsyncFunction]",o="[object Function]",s="[object GeneratorFunction]",l="[object Proxy]";function u(e){if(!n(e))return!1;var t=r(e);return t==o||t==s||t==i||t==l}e.exports=u},function(e,t,a){var r,n=a(1628),i=(r=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";function o(e){return!!i&&i in e}e.exports=o},function(e,t,a){var r=a(520)["__core-js_shared__"];e.exports=r},function(e,t){var a=Function.prototype.toString;function r(e){if(null!=e){try{return a.call(e)}catch(e){}try{return e+""}catch(e){}}return""}e.exports=r},function(e,t){function a(e,t){return null==e?void 0:e[t]}e.exports=a},function(e,t){function a(e){var t=this.has(e)&&delete this.__data__[e];this.size-=t?1:0;return t}e.exports=a},function(e,t,a){var r=a(1623),n="__lodash_hash_undefined__",i=Object.prototype.hasOwnProperty;function o(e){var t=this.__data__;if(r){var a=t[e];return a===n?void 0:a}return i.call(t,e)?t[e]:void 0}e.exports=o},function(e,t,a){var r=a(1623),n=Object.prototype.hasOwnProperty;function i(e){var t=this.__data__;return r?void 0!==t[e]:n.call(t,e)}e.exports=i},function(e,t,a){var r=a(1623),n="__lodash_hash_undefined__";function i(e,t){var a=this.__data__;this.size+=this.has(e)?0:1;a[e]=r&&void 0===t?n:t;return this}e.exports=i},function(e,t,a){var r=a(1636),n=a(1637),i=a(1640),o=a(1641),s=a(1642);function l(e){var t=-1,a=null==e?0:e.length;this.clear();for(;++t<a;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r;l.prototype.delete=n;l.prototype.get=i;l.prototype.has=o;l.prototype.set=s;e.exports=l},function(e,t){function a(){this.__data__=[];this.size=0}e.exports=a},function(e,t,a){var r=a(1638),n=Array.prototype.splice;function i(e){var t=this.__data__,a=r(t,e);if(a<0)return!1;a==t.length-1?t.pop():n.call(t,a,1);--this.size;return!0}e.exports=i},function(e,t,a){var r=a(1639);function n(e,t){for(var a=e.length;a--;)if(r(e[a][0],t))return a;return-1}e.exports=n},function(e,t){function a(e,t){return e===t||e!=e&&t!=t}e.exports=a},function(e,t,a){var r=a(1638);function n(e){var t=this.__data__,a=r(t,e);return a<0?void 0:t[a][1]}e.exports=n},function(e,t,a){var r=a(1638);function n(e){return r(this.__data__,e)>-1}e.exports=n},function(e,t,a){var r=a(1638);function n(e,t){var a=this.__data__,n=r(a,e);if(n<0){++this.size;a.push([e,t])}else a[n][1]=t;return this}e.exports=n},function(e,t,a){var r=a(1624)(a(520),"Map");e.exports=r},function(e,t,a){var r=a(1645);function n(e){var t=r(this,e).delete(e);this.size-=t?1:0;return t}e.exports=n},function(e,t,a){var r=a(1646);function n(e,t){var a=e.__data__;return r(t)?a["string"==typeof t?"string":"hash"]:a.map}e.exports=n},function(e,t){function a(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=a},function(e,t,a){var r=a(1645);function n(e){return r(this,e).get(e)}e.exports=n},function(e,t,a){var r=a(1645);function n(e){return r(this,e).has(e)}e.exports=n},function(e,t,a){var r=a(1645);function n(e,t){var a=r(this,e),n=a.size;a.set(e,t);this.size+=a.size==n?0:1;return this}e.exports=n},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.isValidMessageHistoryType=void 0;var r=a(156),n=function(e,t){return Boolean(t[(0,r.getType)(e)])};t.isValidMessageHistoryType=n},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n,i=r(a(36)),o=a(60),s=a(1370),l=(0,o.Record)((n={},(0,i.default)(n,s.MESSAGE_TYPE_ID,s.DATE_MESSAGE),(0,i.default)(n,"timestamp",null),(0,i.default)(n,"id",null),n),"DateMessage");t.default=l;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.shouldRenderDate=void 0;var r=a(156),n=a(1653),i=function(e,t,a){return!(!t&&!a)&&Boolean((0,r.getTimestamp)(e)&&(!t||(0,n.areDifferentDays)(t,e)))};t.shouldRenderDate=i},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.areDifferentDays=void 0;var n=r(a(287)),i=a(156),o=function(e,t){var a=n.default.moment((0,i.getTimestamp)(e)),r=n.default.moment((0,i.getTimestamp)(t));return!a.isSame(r,"day")};t.areDifferentDays=o},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getMessageId=void 0;var n=r(a(159)),i=function(e){return(0,n.default)(["id"],e)||(0,n.default)(["message","id"],e)||-1};t.getMessageId=i},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getMessagesList=void 0;var r=a(1617),n=a(189),i=a(1369),o=a(1362),s=!1,l=(0,n.createSelector)([o.getFilteredMessages],function(e){return(0,r.insertDatesIntoMessageList)(e,i.MessageHistoryConfig,s)});t.getMessagesList=l},,function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getSendersMap=void 0;var n=r(a(36)),i=r(a(59)),o=a(193),s=a(192),l=a(310),u=a(60),d=a(189),c=r(a(302)),f=a(490),p=a(1608),m=a(1610),v=(0,d.createSelector)([f.getResponders],function(e){return(0,l.getEntries)(e).reduce(function(e,t,a){var r,l=(0,s.getData)(t);return(0,c.default)([(0,m.getResponderKeyAsSenderLocator)(a)],(0,i.default)((r={},(0,n.default)(r,o.DATA,l?(0,p.getResponderAsSender)(l):null),(0,n.default)(r,o.STATUS,(0,s.getStatus)(t)),r)),e)},(0,u.Map)())});t.getSendersMap=v},,,function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=n(a(7)),c=r(a(6)),f=n(a(862)),p=a(899),m=n(a(1661)),v=n(a(881)),h=f.default.div.withConfig({displayName:"ProcessConsentPrompt__ConsentPromptWrapper",componentId:"sc-9lwhbi-0"})(["border-top:2px solid ",";flex-shrink:0;"],p.CIRRUS),g=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"componentDidMount",value:function(){(0,this.props.trackInteraction)("widget-interaction",{action:"view consent to process"})}},{key:"render",value:function(){var e=this.props,t=e.consentToProcess,a=e.coloring,r=e.consentToProcessMessage,n=e.showGdprConsentToProcessButton;return c.default.createElement(h,null,c.default.createElement(m.default,{showButton:n,message:r,onClick:t,coloring:a}))}}]);return t}(c.Component);g.displayName="ProcessConsentPrompt";g.propTypes={coloring:(0,v.default)("ColoringRecord"),consentToProcess:d.default.func,consentToProcessMessage:d.default.string,showGdprConsentToProcessButton:d.default.bool,trackInteraction:d.default.func};var y=g;t.default=y;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(7)),i=r(a(6)),o=r(a(862)),s=r(a(1481)),l=r(a(1025)),u=r(a(1137)),d=r(a(1005)),c=a(899),f=r(a(1477)),p=a(1052),m=a(235),v=a(1577),h=r(a(881)),g=a(762),y=a(761),b=(0,o.default)(u.default).withConfig({displayName:"ConsentPrompt__SmallNoParagraphPadding",componentId:"sc-11iuvia-0"})(["p{margin-bottom:0;}"]),_=(0,o.default)(s.default).withConfig({displayName:"ConsentPrompt__ColoredUILoadingButton",componentId:"sc-11iuvia-1"})(["background-color:"," !important;border-color:"," !important;color:"," !important;width:100%;&:hover{background-color:"," !important;border-color:"," !important;}&:active{background-color:"," !important;border-color:"," !important;}svg{stroke:"," !important;}circle{stroke:"," !important;}"],function(e){return e.backgroundcolor||""},function(e){return e.backgroundcolor||""},function(e){return e.textcolor||""},function(e){var t=e.backgroundcolor;return(0,y.hexToRgba)(t,.85)},function(e){var t=e.backgroundcolor;return(0,y.hexToRgba)(t,.85)},function(e){var t=e.backgroundcolor;return(0,y.hexToRgba)(t,.75)},function(e){var t=e.backgroundcolor;return(0,y.hexToRgba)(t,.75)},function(e){return e.textcolor},function(e){var t=e.textcolor;return(0,y.hexToRgba)(t,.75)}),E=(0,o.default)(s.default).withConfig({displayName:"ConsentPrompt__DeclineButton",componentId:"sc-11iuvia-2"})(["width:100%;margin:0 0 0 8px !important;"]),T=o.default.div.withConfig({displayName:"ConsentPrompt__FlexWrapper",componentId:"sc-11iuvia-3"})(["display:flex;flex-direction:row;width:100%;margin:12px 0 8px 0;"]),C=o.default.h6.withConfig({displayName:"ConsentPrompt__Header",componentId:"sc-11iuvia-4"})(["text-transform:none;"]),S=function(e){var t=e.headerMessage,a=e.message,r=e.onClick,n=e.showButton,o=e.showDeclineButton,s=e.coloring,u=e.onDeclineClick,h=(0,p.getAccentColor)(s),y=(0,p.getTextColor)(s);if(!(0,g.canReadText)(h,y)){var S=[y,h];h=S[0];y=S[1]}return i.default.createElement(l.default,{align:"center",justify:"between",wrap:"wrap",className:"p-y-2 p-x-4","data-test-id":"gdpr-consent-prompt"},t&&i.default.createElement(C,null,i.default.createElement(d.default,{message:t})),i.default.createElement(f.default,{className:"m-bottom-0","data-test-id":"gdpr-consent-text"},i.default.createElement(b,{dangerouslySetInnerHTML:{__html:(0,m.formatHtml)(a)},style:{color:c.FLINT}})),i.default.createElement(T,null,n&&i.default.createElement(_,{backgroundcolor:h,textcolor:y,duration:1e3,onClick:r,use:"tertiary","data-test-id":"gdpr-consent-agree-button"},i.default.createElement(v.ChatWidgetLocaleContextConsumer,null,function(e){return i.default.createElement(d.default,{message:"conversations-visitor-experience-components.buttons.agree",options:{locale:e}})})),o&&i.default.createElement(E,{textcolor:y,duration:1e3,onClick:u,use:"tertiary-light","data-test-id":"gdpr-consent-dismiss-button"},i.default.createElement(v.ChatWidgetLocaleContextConsumer,null,function(e){return i.default.createElement(d.default,{message:"conversations-visitor-experience-components.buttons.disagree",options:{locale:e}})}))))};S.propTypes={coloring:(0,h.default)("ColoringRecord"),message:n.default.string.isRequired,onClick:n.default.func.isRequired,showButton:n.default.bool.isRequired};var M=S;t.default=M;e.exports=t.default},,function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=a(13),i=a(1216),o=a(1229),s=a(1242),l=a(1664),u=a(1346),d=a(1525),c=a(1665),f=a(469),p=a(878),m=a(472),v=a(1666),h=a(1504),g=a(1667),y=r(a(1327)),b=a(983),_=a(1064),E=a(1590),T=a(277),C=a(783),S=a(1668),M=a(1669),I=a(1670),A=a(1672),P=a(1675),x=a(1272),O=a(875),R=a(324),k=a(587),N=function(e){var t=(0,f.getSelectedThread)(e),a=!(0,E.getAllowUserInput)(e,{thread:t})&&(0,h.hasUnansweredQuickReplyMessage)(e,{thread:t}),r=(0,T.getIsBot)(e)&&(0,k.getIsWidgetInAwayMode)(e)&&!(0,R.isPersistedThread)(t);return{coloring:(0,p.getColoring)(e),currentConversation:t,disablePublish:!(0,d.canPublish)(e),disableTextInput:a||r,showQuickReplyPlaceholder:a,isOnFocus:(0,M.getInputFocus)(e),stagedMessage:(0,A.getMessageEditorText)(e),messagesPageUri:(0,m.getMessagesPageUri)(e),networkOffline:(0,c.pubsubConnectionFailed)(e),showingHsBranding:(0,v.getShowingHsBranding)(e),showInitialMessageBubble:(0,_.getShowInitialMessageBubble)(e),stagedAttachments:(0,s.getFileUploadListForCurrentThreadId)(e),supportsMultipleAttachments:(0,l.isUngatedForMultipleAttachments)(e),mobile:(0,C.getIsMobile)(e),shouldDisableAttachment:(0,I.getShouldDisableAttachment)(e),shouldSendInputStagingEvent:(0,O.getIsPortal53)()}},L={closeInitialMessageBubble:b.closeInitialMessageBubble,inputStagingEvent:x.inputStagingEvent,onRemoveAttachment:i.removeAttachmentFromThread,onSelectAttachmentFile:o.selectAttachmentFile,publishMessage:u.publishVisitorMessage,publishTypingMessage:g.publishTypingMessage,toggleOnAndOffInputFocus:S.toggleOnAndOffInputFocus,setMessageEditorStagingText:P.setMessageEditorStagingText,removeMessageEditorStagingText:P.removeMessageEditorStagingText},w=(0,n.connect)(N,L)(y.default);t.default=w;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.isUngatedForMultipleAttachments=void 0;var n=a(189),i=r(a(145)),o=a(801),s=a(802),l=(0,n.createSelector)([o.getGates],function(e){return Boolean((0,i.default)(s.MULTIPLE_ATTACHMENTS,e))});t.isUngatedForMultipleAttachments=l},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.pubsubConnectionFailed=void 0;var r=a(189),n=a(331),i=a(408),o=(0,r.createSelector)([i.getAsyncPubSubClient],n.isFailed);t.pubsubConnectionFailed=o},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getShowingHsBranding=void 0;var n=r(a(145)),i=a(189),o=a(191),s=(0,i.createSelector)(o.getLatestWidgetData,(0,n.default)("showingHsBranding"));t.getShowingHsBranding=s},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.publishTypingMessage=void 0;var n=a(205),i=a(173),o=r(a(232)),s=a(319),l=a(258),u=a(756),d=function(e){var t=e.thread;return function(e,a){var r=(0,s.getChannelName)(t),d=(0,s.getThreadId)(t),c=(0,n.buildUnpublishedMessage)({descriptor:{},metadata:(0,o.default)(),senderId:(0,u.getMessagesUtk)(a()),senderType:i.VISITOR,threadId:d});e((0,l.publishMessageToConversation)({channel:r,message:c,threadId:d}))}};t.publishTypingMessage=d},function(e,t,a){"use strict";"use es6";var r=a(14);Object.defineProperty(t,"__esModule",{value:!0});t.toggleOnAndOffInputFocus=s;t.onInputFocusAction=void 0;var n=a(261),i=r(a(136)),o=(0,n.createAction)(i.USER_INPUT_ON_FOCUS,function(e){return{widgetInputIsOnFocus:e}});t.onInputFocusAction=o;function s(e){return function(t){t(o(e))}}},,function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getShouldDisableAttachment=void 0;var r=a(189),n=a(1671),i=a(503),o=(0,r.createSelector)([i.getWidgetUiState],function(e){return(0,n.getIsAttachmentDisabled)(e)});t.getShouldDisableAttachment=o},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getIsAttachmentDisabled=void 0;var n=(0,r(a(159)).default)(["isAttachmentDisabled"]);t.getIsAttachmentDisabled=n},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getMessageEditorText=void 0;var r=a(470),n=a(1673),i=a(189),o=a(1674),s=(0,i.createSelector)(r.getSelectedThreadId,n.getMessageEditorStaging,function(e,t){return(0,o.getStagingTextByThreadId)(e,t)});t.getMessageEditorText=s},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getMessageEditorStaging=void 0;var n=r(a(145)),i=function(e){return(0,n.default)("messageEditorStaging",e)};t.getMessageEditorStaging=i},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getStagingTextByThreadId=void 0;var n=r(a(159)),i=a(746),o=function(e,t){return(0,n.default)([e,i.STAGING_TEXT],t)};t.getStagingTextByThreadId=o},function(e,t,a){"use strict";"use es6";var r=a(14);Object.defineProperty(t,"__esModule",{value:!0});t.removeMessageEditorStagingText=t.setMessageEditorStagingText=t.removeMessageEditorStagingTextAction=t.setMessageEditorTextAction=void 0;var n=a(261),i=r(a(136)),o=a(470),s=(0,n.createAction)(i.UPDATE_MESSAGE_EDITOR_STAGING_TEXT,function(e){return e});t.setMessageEditorTextAction=s;var l=(0,n.createAction)(i.REMOVE_MESSAGE_EDITOR_STAGING_TEXT);t.removeMessageEditorStagingTextAction=l;var u=function(e){return function(t,a){t(s({stagingText:e,threadId:(0,o.getSelectedThreadId)(a())}))}};t.setMessageEditorStagingText=u;var d=function(){return function(e,t){e(l((0,o.getSelectedThreadId)(t())))}};t.removeMessageEditorStagingText=d},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(52)),i=a(13),o=r(a(1677)),s=a(1655),l=a(878),u=a(1657),d=a(1535),c=a(445),f=a(444),p=function(e){var t;try{t=(0,s.getMessagesList)(e)}catch(e){(0,c.reportError)({error:(0,f.buildError)("ConnectedChatHistoryGetMessagesList selector threw: "+e.message,e)});throw e}return{coloring:(0,l.getColoring)(e),fileAttachments:(0,d.getSuccessfulFileAttachments)(e),messagesList:t,portalId:n.default.get(),senders:(0,u.getSendersMap)(e)}},m={},v=(0,i.connect)(p,m)(o.default);t.default=v;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=n(a(1678)),c=n(a(881)),f=n(a(1687)),p=a(60),m=n(a(7)),v=r(a(6)),h=n(a(1688)),g=a(1369),y=n(a(1689)),b=a(1690),_=n(a(1692)),E=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.coloring,a=e.fileAttachments,r=e.messagesList,n=e.portalId,i=e.senders,o=e.shouldRenderNewThreadPrompt;return v.default.createElement(y.default,{messageCount:(0,h.default)(r),shouldScrollToBottom:o},v.default.createElement(f.default,{themeConfig:(0,b.buildMessageHistoryTheme)({coloring:t})},v.default.createElement(d.default,{fileAttachments:a,historyConfig:g.MessageHistoryConfig,messages:r,portalId:n,senders:i}),o&&v.default.createElement(_.default,null)))}}]);return t}(v.Component);E.propTypes={coloring:(0,c.default)("ColoringRecord").isRequired,fileAttachments:m.default.instanceOf(p.Map).isRequired,messagesList:m.default.instanceOf(p.List),portalId:m.default.number.isRequired,senders:m.default.instanceOf(p.Map).isRequired,shouldRenderNewThreadPrompt:m.default.bool.isRequired};E.displayName="ThreadHistory";var T=E;t.default=T;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(4)),i=r(a(5)),o=r(a(75)),s=r(a(77)),l=r(a(78)),u=a(60),d=r(a(7)),c=r(a(6)),f=r(a(862)),p=a(156),m=r(a(1679)),v=r(a(1389)),h=a(154),g=a(1680),y=a(1683),b=a(1654),_=a(1685),E=r(a(1686)),T=f.default.div.withConfig({displayName:"MessageHistory__ReflowElement",componentId:"sc-767jij-0"})(["z-index:0;padding-top:4px;padding-left:16px;padding-right:16px;flex-shrink:0;@media screen and (max-width:900px){padding-left:8px;padding-right:8px;}"]),C=function(e){(0,l.default)(t,e);function t(){(0,n.default)(this,t);return(0,o.default)(this,(0,s.default)(t).apply(this,arguments))}(0,i.default)(t,[{key:"getDontIncludeLastInGroup",value:function(e,t){var a=this.props.messages.get(t+2);return!(!a||!(0,g.areMessagesGrouped)(e,a))}},{key:"renderHistory",value:function(){var e=this,t=this.props,a=t.messages,r=t.historyConfig,n=t.fileAttachments,i=t.portalId,o=t.senders,s=t.visitorLastReadTimestamp,l=t.lastMessageId;return a.map(function(t,u){var d,f=u>0?a.get(u-1):void 0,m=a.get(u+1);(0,p.getType)(m)===h.TYPICAL_RESPONSE_TIME&&(d=e.getDontIncludeLastInGroup(t,u));var v=(0,y.getAttachmentsForMessage)(t,n);return c.default.createElement(E.default,{historyConfig:r,fileAttachments:v,portalId:i,positionDescriptors:(0,_.getPositionDescriptors)(t,f,m,d),key:(0,b.getMessageId)(t),message:t,senders:o,visitorLastReadTimestamp:s,lastMessageId:l})})}},{key:"render",value:function(){var e=this.props,t=e.className,a=e.themeConfig;return c.default.createElement(T,{className:t},c.default.createElement(m.default.Provider,{value:a},this.renderHistory()))}}]);return t}(c.default.PureComponent);C.displayName="MessageHistory";C.propTypes={className:d.default.string,fileAttachments:d.default.instanceOf(u.Map),historyConfig:d.default.object.isRequired,lastMessageId:d.default.string,messages:d.default.instanceOf(u.List),portalId:d.default.number.isRequired,senders:v.default,themeConfig:d.default.object,visitorLastReadTimestamp:d.default.number};C.defaultProps={fileAttachments:(0,u.Map)(),preventAutoscroll:!1,scrollContainerToBottom:function(){},displayEmailDeleteBanner:!1};var S=C;t.default=S;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=t.defaultThemeConfig=void 0;var n,i=r(a(36)),o=a(899),s=a(6),l=a(1385),u=r(a(1468)),d=(n={},(0,i.default)(n,l.DEFAULT,(0,u.default)()),(0,i.default)(n,l.AGENT,(0,u.default)()),(0,i.default)(n,l.VISITOR,(0,u.default)({backgroundColor:o.CALYPSO_LIGHT,borderColor:o.CALYPSO_MEDIUM})),n);t.defaultThemeConfig=d;var c=(0,s.createContext)(d);t.default=c},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.areMessagesGrouped=void 0;var r=a(327),n=a(156),i=a(1681),o=function(e,t){return(0,n.getType)(e)===(0,n.getType)(t)},s=6e4,l=(0,a(1682).areNMsApart)(s),u=function(e,t){e=(0,r.getMessage)(e)||e;t=(0,r.getMessage)(t)||t;return(0,i.areFromSameSender)(e,t)&&o(e,t)&&!l(e,t)};t.areMessagesGrouped=u},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.areFromSameSender=void 0;var r=a(156),n=function(e,t){return(0,r.getSenderId)(e)===(0,r.getSenderId)(t)&&(0,r.getSenderType)(e)===(0,r.getSenderType)(t)};t.areFromSameSender=n},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.areNMsApart=void 0;var r=a(156),n=function(e){return function(t,a){var n=(0,r.getTimestamp)(t),i=(0,r.getTimestamp)(a);return Math.abs(n-i)>=e}};t.areNMsApart=n},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getAttachmentsForMessage=void 0;var n=a(1684),i=a(60),o=r(a(134)),s=a(428),l=(0,o.default)(function(e,t){e=(0,n.getPubSubMessage)(e);return(0,s.fileAttachmentIdsInMessage)(e).reduce(function(e,a){return t.has(""+a)?e.push(t.get(""+a)):e},(0,i.List)())});t.getAttachmentsForMessage=l},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getPubSubMessage=void 0;var r=a(327),n=function(e){return(0,r.getMessage)(e)||e};t.getPubSubMessage=n},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getPositionDescriptors=void 0;var n=r(a(36)),i=a(60),o=a(1388),s=a(1680),l=function(e,t,a,r){var l,u=!t,d=!(0,s.areMessagesGrouped)(e,t),c=!r&&!(0,s.areMessagesGrouped)(e,a),f=!a,p=(l={},(0,n.default)(l,o.FIRST,u),(0,n.default)(l,o.FIRST_IN_GROUP,d),(0,n.default)(l,o.LAST_IN_GROUP,c),(0,n.default)(l,o.LAST,f),l);return Object.keys(p).reduce(function(e,t){return p[t]?e.add(t):e},(0,i.Set)())};t.getPositionDescriptors=l},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(36)),o=a(60),s=n(a(7)),l=r(a(6)),u=a(156),d=n(a(1386)),c=n(a(1389)),f=a(1604),p=a(1654),m=function(e,t){return!Object.keys(e).some(function(a){return"fileAttachments"===a||"positionDescriptors"===a||"senders"===a?!(0,o.is)(e[a],t[a]):e[a]!==t[a]})},v=(0,l.memo)(function(e){var t=e.fileAttachments,a=e.historyConfig,r=e.message,n=e.portalId,o=e.positionDescriptors,s=e.senders,d=e.visitorLastReadTimestamp,c=e.lastMessageId,m=(0,i.default)({},f.MESSAGE_ID_ATTR,(0,p.getMessageId)(r)),v=a[(0,u.getType)(r)];return v?l.default.createElement("div",m,l.default.createElement(v,{fileAttachments:t,message:r,portalId:n,positionDescriptors:o,senders:s,visitorLastReadTimestamp:d,lastMessageId:c})):null},m);v.displayName="MessageHistoryItem";v.propTypes={fileAttachments:s.default.instanceOf(o.List),historyConfig:s.default.object.isRequired,lastMessageId:s.default.string,message:s.default.instanceOf(o.Record).isRequired,portalId:s.default.number.isRequired,positionDescriptors:d.default.isRequired,senders:c.default,visitorLastReadTimestamp:s.default.number};v.defaultProps={innerRef:function(){},positionDescriptors:[]};var h=v;t.default=h;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(881)),o=n(a(7)),s=r(a(6)),l=n(a(1405)),u=(0,s.memo)(function(e){var t=e.themeConfig,a=e.children;return s.default.createElement(l.default.Provider,{value:t},a)});u.displayName="ThemeConfigProvider";u.propTypes={children:o.default.node.isRequired,themeConfig:o.default.objectOf((0,i.default)("Theme"))};var d=u;t.default=d;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(304)).default;t.default=n;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=a(331),i=a(13),o=a(421),s=a(552),l=r(a(1598)),u=a(1510),d=a(1511),c=a(1243),f=a(1669),p=function(e){var t=(0,d.getCurrentThreadHistoryEntry)(e);return{isLoadingHistory:(0,n.isStarted)(t),loadingHistoryFailed:(0,n.isFailed)(t),sessionId:(0,o.getSessionId)(e),threadHistory:(0,u.getCurrentThreadHistoryData)(e),threadId:(0,c.getCurrentThreadId)(e),isOnFocus:(0,f.getInputFocus)(e)}},m={fetchThreadHistory:s.fetchThreadHistory},v=(0,i.connect)(p,m)(l.default);t.default=v;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.buildMessageHistoryTheme=void 0;var n=r(a(36)),i=a(1385),o=a(1052),s=r(a(1691)),l=r(a(1401)),u=r(a(1399)),d=a(899),c=(0,s.default)({tileBackgroundColor:d.GYPSUM}),f=function(e){var t,a=e.coloring;return t={},(0,n.default)(t,i.DEFAULT,(0,u.default)({borderRadius:"0px 8px 8px 8px",borderWidth:"0px",fileAttachmentTheme:c})),(0,n.default)(t,i.AGENT,(0,u.default)({borderRadius:"0px 8px 8px 8px",borderWidth:"0px",fileAttachmentTheme:c,widgetAccent:(0,o.getUseDefaultColor)(a)?d.HEFFALUMP:(0,o.getAccentColor)(a),quickReplyTheme:(0,l.default)({borderColor:(0,o.getUseDefaultColor)(a)?d.FLINT:(0,o.getAccentColor)(a),color:(0,o.getUseDefaultColor)(a)?d.HEFFALUMP:(0,o.getTextColor)(a)})})),(0,n.default)(t,i.VISITOR,(0,u.default)({alignItems:"flex-end",backgroundColor:(0,o.getUseDefaultColor)(a)?d.KOALA:(0,o.getAccentColor)(a),borderColor:"rgba(0, 0, 0, 0.2)",borderRadius:"8px 0px 8px 8px",borderWidth:"0px",textColor:(0,o.getUseDefaultColor)(a)?d.HEFFALUMP:(0,o.getTextColor)(a),fileAttachmentTheme:c,widgetAccent:(0,o.getUseDefaultColor)(a)?d.HEFFALUMP:(0,o.getAccentColor)(a)})),t};t.buildMessageHistoryTheme=f},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var r=(0,a(60).Record)({tileBackgroundColor:"rgba(255, 255, 255, 0.5)"},"FileAttachmentTheme");t.default=r;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=a(1052),i=r(a(1576)),o=a(13),s=a(1693),l=a(878),u=function(e){return{accentColor:(0,n.getAccentColor)((0,l.getColoring)(e))}},d={createNewThread:s.navigateToStagedThread},c=(0,o.connect)(u,d)(i.default);t.default=c;e.exports=t.default},,function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=n(a(7)),c=r(a(6)),f=n(a(862)),p=n(a(1663)),m=n(a(1676)),v=n(a(1695)),h=n(a(1706)),g=n(a(1708)),y=n(a(1710)),b=n(a(1700)),_=n(a(1005)),E=n(a(1080)),T=a(1713),C=f.default.div.withConfig({displayName:"UnifiedThreadView__UnifiedThreadViewWrapper",componentId:"sc-7c4u6b-0"})(["display:flex;flex-direction:column;height:",";"],function(e){return e.shouldShowMeetingsLink?"calc(100% - 44px)":"100%"}),S=function(e){(0,u.default)(t,e);function t(e){var a;(0,i.default)(this,t);(a=(0,s.default)(this,(0,l.default)(t).call(this,e))).state={renderNewThreadPrompt:!e.isThreadStarted};return a}(0,o.default)(t,[{key:"componentDidUpdate",value:function(e){var t=this,a=this.props,r=a.isThreadStarted,n=a.toggleOnAndOffInputFocus,i=e.isThreadStarted;r||r===i||setTimeout(function(){t.setRenderNewThreadPromptTrue();n(!1)},T.END_OF_MESSAGE_DELAY_TIME);r&&this.state.renderNewThreadPrompt&&this.setRenderNewThreadPromptFalse()}},{key:"setRenderNewThreadPromptTrue",value:function(){this.setState({renderNewThreadPrompt:!0})}},{key:"setRenderNewThreadPromptFalse",value:function(){this.setState({renderNewThreadPrompt:!1})}},{key:"renderMessageEditor",value:function(){var e=this.props,t=e.requiresExplicitConsentToProcess,a=e.renderCookieConsentPrompt,r=this.state.renderNewThreadPrompt;return t||a||r?null:c.default.createElement(c.Fragment,null,c.default.createElement(v.default,null),c.default.createElement(p.default,null))}},{key:"renderError",value:function(){var e=c.default.createElement(_.default,{message:"conversations-visitor-ui.network.pubSubFailure.title"});return c.default.createElement(b.default,{title:e,onClose:function(){}})}},{key:"render",value:function(){var e=this.props,t=e.shouldShowMeetingsLink,a=e.showingGdprProcess,r=e.showingHsBranding,n=e.renderCookieConsentPrompt,i=this.state.renderNewThreadPrompt;return c.default.createElement(C,{shouldShowMeetingsLink:t},c.default.createElement(E.default,{renderError:this.renderError,errorLoggingTitle:"ConnectedThreadHistory"},c.default.createElement(m.default,{shouldRenderNewThreadPrompt:i})),n&&c.default.createElement(g.default,null),a&&!n&&c.default.createElement(h.default,null),this.renderMessageEditor(),r&&c.default.createElement(y.default,null))}}]);return t}(c.PureComponent);S.displayName="UnifiedThreadView";S.propTypes={isThreadStarted:d.default.bool.isRequired,renderCookieConsentPrompt:d.default.bool.isRequired,requiresExplicitConsentToProcess:d.default.bool.isRequired,shouldShowMeetingsLink:d.default.bool.isRequired,showingGdprProcess:d.default.bool.isRequired,showingHsBranding:d.default.bool.isRequired,toggleOnAndOffInputFocus:d.default.func.isRequired};var M=S;t.default=M;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=a(13),i=a(469),o=r(a(1696)),s=function(e){return{thread:(0,i.getSelectedThread)(e)}},l=(0,n.connect)(s)(o.default);t.default=l;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=a(13),i=a(632),o=a(273),s=r(a(1697)),l=a(1239),u=a(1210),d=a(1229),c=a(1704),f=a(1705),p=a(1350),m=a(541),v=function(e,t){var a=t.thread;return{attachmentsError:(0,l.attachmentsErrorForThreadInProps)(e,{thread:a}),networkError:(0,c.getNetworkErrors)(e)}},h={createNewThread:p.createNewThread,dismissAttachmentsError:u.dismissAttachmentsError,fetchOlderThreadHistory:f.fetchOlderThreadHistory,selectAttachmentFile:d.selectAttachmentFile,trackInteraction:o.trackInteraction,startPubSub:m.startPubSub,resubscribe:i.resubscribe},g=(0,n.connect)(v,h)(s.default);t.default=g;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=n(a(881)),c=n(a(7)),f=r(a(6)),p=a(1223),m=a(1698),v=n(a(1699)),h=n(a(1703)),g=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"render",value:function(){var e=this.props,t=e.attachmentsError,a=e.createNewThread,r=e.dismissAttachmentsError,n=e.fetchOlderThreadHistory,i=e.networkError,o=e.resubscribe,s=e.selectAttachmentFile,l=e.startPubSub,u=e.thread,d=e.trackInteraction;return t?f.default.createElement(v.default,{attachmentsError:t,dismissAttachmentsError:r,selectAttachmentFile:s,thread:u,trackInteraction:d}):i?f.default.createElement(h.default,{createNewThread:a,fetchOlderThreadHistory:n,networkError:i,resubscribe:o,startPubSub:l}):null}}]);return t}(f.Component);g.displayName="ChatAreaAlertContainer";g.propTypes={attachmentsError:c.default.oneOf([p.SIZE_LIMIT_EXCEEDED,p.BLACKLISTED_EXTENSION,p.UPLOAD_ERROR]),createNewThread:c.default.func.isRequired,dismissAttachmentsError:c.default.func.isRequired,fetchOlderThreadHistory:c.default.func.isRequired,networkError:c.default.oneOf([m.NETWORK_OFFLINE,m.THREAD_HISTORY_FAILED,m.CREATE_NEW_THREAD_FAILED,m.PUBSUB_FAILED,m.SUBSCRIPTIONS_FAILED]),resubscribe:c.default.func.isRequired,selectAttachmentFile:c.default.func.isRequired,startPubSub:c.default.func.isRequired,thread:(0,d.default)("Thread").isRequired,trackInteraction:c.default.func.isRequired};var y=g;t.default=y;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.PUBSUB_FAILED=t.SUBSCRIPTIONS_FAILED=t.CREATE_NEW_THREAD_FAILED=t.THREAD_HISTORY_FAILED=t.NETWORK_OFFLINE=void 0;var r="NETWORK_OFFLINE";t.NETWORK_OFFLINE=r;var n="THREAD_HISTORY_FAILED";t.THREAD_HISTORY_FAILED=n;var i="CREATE_NEW_THREAD_FAILED";t.CREATE_NEW_THREAD_FAILED=i;var o="SUBSCRIPTIONS_FAILED";t.SUBSCRIPTIONS_FAILED=o;var s="PUBSUB_FAILED";t.PUBSUB_FAILED=s},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(881)),i=r(a(1700)),o=r(a(287)),s=r(a(1005)),l=r(a(7)),u=r(a(6)),d=r(a(1701)),c=a(1223),f=a(1213),p=a(319),m=function(e){var t=e.attachmentsError,a=e.dismissAttachmentsError,r=e.selectAttachmentFile,n=e.thread,l=e.trackInteraction,m=function(){a({threadId:(0,p.getThreadId)(n)})},v=function(e){var t=e.target.files;if(t&&t.length){var a=t.item(0);r({file:a,thread:n})}},h=function(){l("retry-attachment-upload",{action:"retry attachment upload"})},g=function(){switch(t){case c.SIZE_LIMIT_EXCEEDED:return u.default.createElement(s.default,{message:"cvVisitorUIAttachments.errors.fileSizeExceeded",options:{maxSize:o.default.formatSize(f.MAX_FILE_SIZE)}});case c.BLACKLISTED_EXTENSION:return u.default.createElement(s.default,{message:"cvVisitorUIAttachments.errors.blacklistedExtension"});case c.UPLOAD_ERROR:return u.default.createElement(s.default,{message:"cvVisitorUIAttachments.errors.uploadError"});default:return null}}();return u.default.createElement(i.default,{title:g,onClose:m,link:u.default.createElement(d.default,{onChange:v,onClick:h},u.default.createElement(s.default,{message:"cvVisitorUIAttachments.tryAgain"}))})};m.displayName="AttachmentErrorAlerts";m.propTypes={attachmentsError:l.default.oneOf([c.SIZE_LIMIT_EXCEEDED,c.BLACKLISTED_EXTENSION,c.UPLOAD_ERROR]),dismissAttachmentsError:l.default.func.isRequired,selectAttachmentFile:l.default.func.isRequired,thread:(0,n.default)("Thread").isRequired,trackInteraction:l.default.func.isRequired};var v=m;t.default=v;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(4)),i=r(a(5)),o=r(a(75)),s=r(a(77)),l=r(a(78)),u=r(a(7)),d=r(a(6)),c=r(a(862)),f=r(a(941)),p=a(899),m=c.default.div.withConfig({displayName:"ChatAreaAlert__Wrapper",componentId:"p7hdcv-0"})(["width:100%;display:flex;justify-content:center;background-color:transparent;"]),v=c.default.div.withConfig({displayName:"ChatAreaAlert__Alert",componentId:"p7hdcv-1"})(["display:flex;justify-content:flex-end;align-items:center;padding:7px 14px;min-width:85%;background-color:",";border:1px solid ",";font-weight:500;font-size:12px;"],p.MARIGOLD_LIGHT,p.MARIGOLD_MEDIUM),h=c.default.div.withConfig({displayName:"ChatAreaAlert__Title",componentId:"p7hdcv-2"})(["flex:0 1 100%;"]),g=c.default.div.withConfig({displayName:"ChatAreaAlert__LinkWrapper",componentId:"p7hdcv-3"})(["flex:0 0 auto;"]),y=(0,c.default)(f.default).withConfig({displayName:"ChatAreaAlert__StyledCloseButton",componentId:"p7hdcv-4"})(["position:static;flex:0 0 12px;margin-left:20px;"]),b=function(e){(0,l.default)(t,e);function t(){(0,n.default)(this,t);return(0,o.default)(this,(0,s.default)(t).apply(this,arguments))}(0,i.default)(t,[{key:"render",value:function(){return d.default.createElement(m,null,d.default.createElement(v,null,d.default.createElement(h,null,this.props.title),d.default.createElement(g,null,this.props.link),d.default.createElement(y,{color:p.OBSIDIAN,onClick:this.props.onClose})))}}]);return t}(d.default.Component);b.propTypes={link:u.default.node,onClose:u.default.func.isRequired,title:u.default.node.isRequired};b.defaultProps={onClose:function(){}};var _=b;t.default=_;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=a(1325),i=r(a(7)),o=r(a(6)),s=r(a(1702)),l=r(a(1028)),u=function(e){return o.default.createElement(s.default,{accept:n.WHITELISTED_FILES,use:"unstyled",onClick:e.onClick,onChange:e.onChange},o.default.createElement(l.default,{use:"on-bright"},e.children))};u.displayName="FilePickerLink";u.propTypes={children:i.default.node.isRequired,onChange:i.default.func.isRequired,onClick:i.default.func};var d=u;t.default=d;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(117)),o=n(a(4)),s=n(a(5)),l=n(a(75)),u=n(a(77)),d=n(a(78)),c=n(a(7)),f=r(a(6)),p=a(1412),m=n(a(1411)),v=function(e){(0,d.default)(t,e);function t(){var e,a;(0,o.default)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];(a=(0,l.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(n)))).handleClick=function(e){var t=a.props.onClick;a._file.click();t&&t(e)};a.fileRefCallback=function(e){a._file=e};return a}(0,s.default)(t,[{key:"render",value:function(){var e=this.props,t=e.accept,a=e.Button,r=e.children,n=e.id,o=e.multiple,s=e.onChange,l=(e.onClick,(0,i.default)(e,["accept","Button","children","id","multiple","onChange","onClick"]));return f.default.createElement(f.Fragment,null,f.default.createElement(a,Object.assign({className:"private-file-button","data-component-name":"UIFileButton",onClick:this.handleClick},l),r),f.default.createElement("input",{className:"private-file-button__input hidden",id:n,ref:this.fileRefCallback,type:"file",accept:t.join(","),multiple:o,onChange:s}))}}]);return t}(f.default.Component);t.default=v;v.propTypes={accept:c.default.array.isRequired,Button:c.default.elementType.isRequired,children:c.default.node.isRequired,multiple:c.default.bool.isRequired,onChange:c.default.func.isRequired,use:c.default.oneOf(Object.keys(p.USE_CLASSES)).isRequired};v.defaultProps={accept:[],Button:m.default,multiple:!1,use:"tertiary-light"};v.displayName="UIFileButton";e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(18)),o=n(a(34)),s=n(a(1700)),l=n(a(1005)),u=n(a(7)),d=r(a(6)),c=n(a(1028)),f=a(1698),p=function(e){var t=e.createNewThread,a=e.fetchOlderThreadHistory,r=e.networkError,n=e.startPubSub,u=e.resubscribe,p=(0,d.useState)([]),m=(0,o.default)(p,2),v=m[0],h=m[1],g=function(){h([].concat((0,i.default)(v),[r]))};if(v.includes(r))return null;var y=function(){switch(r){case f.NETWORK_OFFLINE:case f.PUBSUB_FAILED:case f.SUBSCRIPTIONS_FAILED:return d.default.createElement(l.default,{message:"conversations-visitor-ui.network.offline.title"});case f.THREAD_HISTORY_FAILED:return d.default.createElement(l.default,{message:"conversations-visitor-ui.network.pubSubFailure.title"});case f.CREATE_NEW_THREAD_FAILED:return d.default.createElement(l.default,{message:"conversations-visitor-ui.network.newThreadFailure.title"});default:return null}}(),b=function(){switch(r){case f.THREAD_HISTORY_FAILED:return d.default.createElement(c.default,{use:"on-bright",onClick:a},d.default.createElement(l.default,{message:"conversations-visitor-ui.network.pubSubFailure.retry"}));case f.CREATE_NEW_THREAD_FAILED:return d.default.createElement(c.default,{use:"on-bright",onClick:t},d.default.createElement(l.default,{message:"conversations-visitor-ui.network.pubSubFailure.retry"}));case f.SUBSCRIPTIONS_FAILED:return d.default.createElement(c.default,{use:"on-bright",onClick:u},d.default.createElement(l.default,{message:"conversations-visitor-ui.network.pubSubFailure.retry"}));case f.PUBSUB_FAILED:return d.default.createElement(c.default,{use:"on-bright",onClick:n},d.default.createElement(l.default,{message:"conversations-visitor-ui.network.pubSubFailure.retry"}));default:return null}}();return d.default.createElement(s.default,{title:y,onClose:g,link:b})};p.displayName="NetworkErrorAlerts";p.propTypes={createNewThread:u.default.func.isRequired,fetchOlderThreadHistory:u.default.func.isRequired,networkError:u.default.oneOf([f.NETWORK_OFFLINE,f.THREAD_HISTORY_FAILED,f.CREATE_NEW_THREAD_FAILED,f.PUBSUB_FAILED,f.SUBSCRIPTIONS_FAILED]).isRequired,resubscribe:u.default.func.isRequired,startPubSub:u.default.func.isRequired};var m=p;t.default=m;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.getNetworkErrors=void 0;var n=a(189),i=r(a(145)),o=a(1698),s=a(331),l=a(192),u=a(330),d=a(408),c=a(1511),f=function(e){return e.clientData.isPubNubClientConnected},p=(0,i.default)("subscriptions"),m=(0,n.createSelector)([c.getCurrentThreadHistoryEntry,u.getAsyncStagedThread,p,d.getAsyncPubSubClient,f],function(e,t,a,r,n){if((0,s.isFailed)(e))return o.THREAD_HISTORY_FAILED;if((0,s.isFailed)(t)){var i=(0,l.getError)(t),u=i&&418===i.status;if(!i||!u)return o.CREATE_NEW_THREAD_FAILED}return(0,s.isFailed)(a)?o.SUBSCRIPTIONS_FAILED:(0,s.isFailed)(r)?o.PUBSUB_FAILED:n?null:o.NETWORK_OFFLINE});t.getNetworkErrors=m},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.fetchOlderThreadHistory=void 0;var r=a(469),n=a(470),i=a(421),o=a(259),s=a(300),l=a(552),u=a(269),d=function(){return function(e,t){var a=t(),d=(0,i.getSessionId)(a),c=(0,n.getSelectedThreadId)(a);if(null!==c&&c!==o.STUBBED_THREAD_ID){var f=(0,r.getSelectedThread)(a),p=(0,s.historyDataForThread)(a,{thread:f}),m=(0,u.getOffsetOrdinal)(p),v=(0,u.getOffsetTimestamp)(p);e((0,l.fetchThreadHistory)({offsetOrdinal:m,offsetTimestamp:v,threadId:c,sessionId:d}))}}};t.fetchOlderThreadHistory=d},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=a(13),i=a(1116),o=a(1707),s=a(1509),l=r(a(1660)),u=a(273),d=a(878),c=function(e){return{consentToProcessMessage:(0,o.getConsentToProcessMessage)(e),showGdprConsentToProcessButton:(0,s.getShowGdprConsentToProcess)(e),coloring:(0,d.getColoring)(e)}},f={consentToProcess:i.consentToProcess,trackInteraction:u.trackInteraction},p=(0,n.connect)(c,f)(l.default);t.default=p;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getConsentToProcessMessage=void 0;var r=a(189),n=a(191),i=a(278),o=(0,r.createSelector)([n.getLatestWidgetData],function(e){return(0,i.getConsentToProcessMessage)(e)});t.getConsentToProcessMessage=o},function(e,t,a){"use strict";"use es6";var r=a(14),n=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var i=n(a(4)),o=n(a(5)),s=n(a(75)),l=n(a(77)),u=n(a(78)),d=a(13),c=n(a(7)),f=n(a(287)),p=r(a(6)),m=n(a(862)),v=a(899),h=n(a(1661)),g=a(273),y=a(1253),b=a(1709),_=a(878),E=n(a(881)),T=a(754),C=a(191),S=a(1577),M=a(810),I=m.default.div.withConfig({displayName:"CookieConsentPrompt__ConsentPromptWrapper",componentId:"sc-1f2drvk-0"})(["border-top:2px solid ",";"],v.CIRRUS),A=function(e){(0,u.default)(t,e);function t(){(0,i.default)(this,t);return(0,s.default)(this,(0,l.default)(t).apply(this,arguments))}(0,o.default)(t,[{key:"componentDidMount",value:function(){(0,this.props.trackInteraction)("widget-interaction",{action:"view consent to cookies"})}},{key:"render",value:function(){var e=this;return p.default.createElement(S.ChatWidgetLocaleContextConsumer,null,function(t){return p.default.createElement(I,null,p.default.createElement(h.default,{showButton:!0,showDeclineButton:e.props.isExitIntentPrompt,headerMessage:e.props.isExitIntentPrompt&&"conversations-schema.GDPR.consentToCookies.promptHeader",message:e.props.isExitIntentPrompt?f.default.text("conversations-schema.GDPR.consentToCookies.exitIntentMessage",{locale:t}):f.default.text("conversations-schema.GDPR.consentToCookies.message",{locale:t}),onDeclineClick:e.props.declineCookies,onClick:e.props.consentToCookies,coloring:e.props.coloring}))})}}]);return t}(p.Component);A.displayName="CookieConsentPrompt";A.propTypes={coloring:(0,E.default)("ColoringRecord"),consentToCookies:c.default.func.isRequired,declineCookies:c.default.func.isRequired,isExitIntentPrompt:c.default.bool.isRequired,trackInteraction:c.default.func.isRequired};var P={consentToCookies:y.consentToCookies,declineCookies:b.declineCookies,trackInteraction:g.trackInteraction},x=function(e){return{coloring:(0,_.getColoring)(e),widgetData:(0,C.getLatestWidgetData)(e),isExitIntentPrompt:(0,T.gdprCookieConsentOnExitIntentEnabled)((0,C.getLatestWidgetData)(e))&&!(0,M.getShouldEnableWidgetCookieBanner)(e)}},O=(0,d.connect)(x,P)(A);t.default=O;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.declineCookies=s;var r=a(273),n=a(793),i=a(754),o=a(191);function s(){return function(e,t){(0,i.gdprCookieConsentOnExitIntentEnabled)((0,o.getLatestWidgetData)(t()))&&e((0,n.updateShowExitIntentCookieBanner)(!1));e((0,r.trackInteraction)("widget-interaction",{action:"clicked decline cookies button"}))}}},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=a(13),i=r(a(1711)),o=a(1560),s=a(748),l=function(e){return{liveChatHref:(0,o.liveChatLink)(e),onLinkClick:s.clickedViralLink}},u=(0,n.connect)(l)(i.default);t.default=u;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(4)),i=r(a(5)),o=r(a(75)),s=r(a(77)),l=r(a(78)),u=r(a(7)),d=r(a(6)),c=r(a(287)),f=r(a(1035)),p=r(a(1712)),m=r(a(957)),v=r(a(1137)),h=a(899),g=function(e){(0,l.default)(t,e);function t(){(0,n.default)(this,t);return(0,o.default)(this,(0,s.default)(t).apply(this,arguments))}(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.liveChatHref,a=e.onLinkClick;return d.default.createElement("div",{className:"text-center m-bottom-2"},d.default.createElement(m.default,{name:"sprocket",className:"m-right-1",color:h.LORAX}),d.default.createElement(v.default,{use:"help"},d.default.createElement(f.default,{message:"conversations-visitor-experience-components.chatArea.branding_jsx",elements:{Link:p.default},options:{ariaLabel:c.default.text("conversations-visitor-experience-components.chatArea.brandingAriaLabel"),href:t,onClick:a}})))}}]);return t}(d.default.PureComponent);g.propTypes={liveChatHref:u.default.string,onLinkClick:u.default.func};var y=g;t.default=y;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=r(a(7)),i=r(a(6)),o=r(a(1028)),s=a(899),l=function(e){var t=e.ariaLabel,a=e.children,r=e.onClick,n=e.href;return i.default.createElement(o.default,{style:{color:s.LORAX},href:n,onClick:r,target:"_blank","aria-label":t},a)};l.propTypes={ariaLabel:n.default.string,children:n.default.node.isRequired,href:n.default.string,onClick:n.default.func};l.defaultProps={href:"",onClick:function(){}};var u=l;t.default=u;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.END_OF_MESSAGE_DELAY_TIME=void 0;var r=1e3;t.END_OF_MESSAGE_DELAY_TIME=r},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=(0,r(a(159)).default)(["meetingsLinkUrl"]);t.default=n;e.exports=t.default},function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.shouldShowMeetingsLink=void 0;var n=a(189),i=r(a(2047)),o=a(458),s=(0,n.createSelector)([o.getAssignedResponderInWidget],function(e){return Boolean(e&&(0,i.default)(e))});t.shouldShowMeetingsLink=s},,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";"use es6";var r=a(3);Object.defineProperty(t,"__esModule",{value:!0});t.default=void 0;var n=a(594),i=a(13),o=a(2067),s=a(1556),l=a(1260),u=a(1509),d=a(469),c=a(1666),f=r(a(1694)),p=a(2048),m=function(e){return{shouldShowMeetingsLink:(0,p.shouldShowMeetingsLink)(e),isThreadStarted:(0,n.isStarted)((0,d.getSelectedThread)(e)),requiresExplicitConsentToProcess:(0,u.getShowGdprConsentToProcess)(e),showingGdprProcess:(0,o.getGdprConsentToProcessEnabled)(e)&&!(0,l.getHasGivenConsentToProcess)(e),renderCookieConsentPrompt:(0,s.shouldRequireExplicitCookieConsent)(e),showingHsBranding:(0,c.getShowingHsBranding)(e)}},v={toggleOnAndOffInputFocus:a(1668).toggleOnAndOffInputFocus},h=(0,i.connect)(m,v)(f.default);t.default=h;e.exports=t.default},function(e,t,a){"use strict";"use es6";Object.defineProperty(t,"__esModule",{value:!0});t.getGdprConsentToProcessEnabled=void 0;var r=a(189),n=a(752),i=a(191),o=(0,r.createSelector)([i.getLatestWidgetData],function(e){return(0,n.gdprConsentToProcessEnabled)(e)});t.getGdprConsentToProcessEnabled=o}])]);
//# sourceMappingURL=threadview-utv.js.map